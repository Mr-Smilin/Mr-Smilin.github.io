<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>貓謎工坊 • Posts by &#34;hexo主題分享&#34; category</title>
        <link>https://smilin.net</link>
        <description>Code · Thinking · ACG</description>
        <language>zh-TW</language>
        <pubDate>Mon, 05 May 2025 12:00:00 +0800</pubDate>
        <lastBuildDate>Mon, 05 May 2025 12:00:00 +0800</lastBuildDate>
        <category>node.js</category>
        <category>bot</category>
        <category>discord</category>
        <category>discord.js</category>
        <category>教學</category>
        <category>12th鐵人賽</category>
        <category>日記</category>
        <category>vitepress</category>
        <category>algolia</category>
        <category>活俠傳</category>
        <category>Alist</category>
        <category>Cloudflare</category>
        <category>docker</category>
        <category>javascript</category>
        <category>hexo</category>
        <category>fluid</category>
        <category>getamped</category>
        <category>遊戲</category>
        <category>github</category>
        <category>CI/CD</category>
        <category>Live2D</category>
        <category>icarus</category>
        <category>Rust</category>
        <category>heroku</category>
        <category>render</category>
        <category>render.com</category>
        <category>addtoany</category>
        <category>彈射世界</category>
        <category>腳本</category>
        <item>
            <guid isPermalink="true">https://smilin.net/2025/05/05/hexoInspirationPage/</guid>
            <title>網站新增靈感頁面心得</title>
            <link>https://smilin.net/2025/05/05/hexoInspirationPage/</link>
            <category>日記</category>
            <category>hexo</category>
            <category>icarus</category>
            <pubDate>Mon, 05 May 2025 12:00:00 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;&lt;img src=&#34;/img/post/hexoInspirationPage/title.png&#34; alt=&#34;title&#34;&gt;&lt;/p&gt;
&lt;p&gt;寫網誌其實是一件很麻煩的事情&lt;br&gt;如果希望網站的文章保持相同的分類，就會更加麻煩&lt;/p&gt;
&lt;p&gt;有時想寫點日記，或是分享生活上遇到的瑣事&lt;br&gt;「只打一句話會不會太短了？」「感覺這不適合分享在網站上欸..」&lt;br&gt;加上寫網誌本身並不是不需要消耗時間，一來一往也就不了了之&lt;/p&gt;
&lt;p&gt;「如果有個頁面能專門放一些瑣碎的事情就好了」&lt;/p&gt;
&lt;p&gt;忽然想到這點的我，幫網誌加了個『靈感』頁面———&lt;/p&gt;
&lt;br&gt;

&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;h1 id=&#34;目前實現&#34;&gt;&lt;a href=&#34;#目前實現&#34; class=&#34;headerlink&#34; title=&#34;目前實現&#34;&gt;&lt;/a&gt;目前實現&lt;/h1&gt;&lt;p&gt;他可以實現的效果目前有&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 方便記錄，取代網誌這類相對嚴謹的形式&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 根據日期在首頁順序刷出&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 從首頁點擊跳轉靈感頁面(未來可能會換成其他目標)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;未來希望&amp;#x2F;可能會有的功能&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 添加日期樓層電梯，根據輸入日期尋找最接近的靈感&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 整合本地管理套件，自動創建文檔&amp;amp;building 靈感頁面&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 狀態根據靈感隨機刷新&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 給予靈感加權，影響各式配套功能的顯示機率&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 隨機賦予首頁靈感不同 style&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;etc…&lt;/p&gt;
&lt;h1 id=&#34;展示&#34;&gt;&lt;a href=&#34;#展示&#34; class=&#34;headerlink&#34; title=&#34;展示&#34;&gt;&lt;/a&gt;展示&lt;/h1&gt;&lt;p&gt;在靈感頁面的效果&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/post/hexoInspirationPage/01.jpg&#34; alt=&#34;01&#34;&gt;&lt;br&gt;&lt;img src=&#34;/img/post/hexoInspirationPage/02.jpg&#34; alt=&#34;02&#34;&gt;&lt;/p&gt;
&lt;br&gt;

&lt;p&gt;在首頁的效果&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/post/hexoInspirationPage/03.jpg&#34; alt=&#34;03&#34;&gt;&lt;br&gt;&lt;img src=&#34;/img/post/hexoInspirationPage/04.jpg&#34; alt=&#34;04&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;思路過程&#34;&gt;&lt;a href=&#34;#思路過程&#34; class=&#34;headerlink&#34; title=&#34;思路過程&#34;&gt;&lt;/a&gt;思路過程&lt;/h1&gt;&lt;h2 id=&#34;Markdown-檔&#34;&gt;&lt;a href=&#34;#Markdown-檔&#34; class=&#34;headerlink&#34; title=&#34;Markdown 檔&#34;&gt;&lt;/a&gt;Markdown 檔&lt;/h2&gt;&lt;p&gt;創建 &lt;code&gt;source/_inspirations/&lt;/code&gt; 資料夾&lt;br&gt;創建 &lt;code&gt;source/inspiration/&lt;/code&gt; 資料夾&lt;/p&gt;
&lt;p&gt;&lt;code&gt;_inspirations&lt;/code&gt; - 靈感檔案放置&lt;/p&gt;
&lt;p&gt;文檔範例&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;---
date: 2025-05-05
layout: inspiration
---

靈感內容
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;inspiration&lt;/code&gt; - 靈感頁面(透過 &lt;code&gt;generate_inspirations.js&lt;/code&gt; 生成)&lt;/p&gt;
&lt;br&gt;

&lt;h2 id=&#34;產生頁面-JS&#34;&gt;&lt;a href=&#34;#產生頁面-JS&#34; class=&#34;headerlink&#34; title=&#34;產生頁面 JS&#34;&gt;&lt;/a&gt;產生頁面 JS&lt;/h2&gt;&lt;p&gt;創建 &lt;code&gt;scripts/generate_inspirations.js&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const fs = require(&amp;quot;fs&amp;quot;);
const path = require(&amp;quot;path&amp;quot;);
const moment = require(&amp;quot;moment&amp;quot;);

hexo.extend.generator.register(&amp;quot;generate_inspirations&amp;quot;, function (locals) &amp;#123;
    const sourceDir = path.join(hexo.source_dir, &amp;quot;_inspirations&amp;quot;);
    const outputFile = path.join(hexo.source_dir, &amp;quot;inspiration/index.md&amp;quot;);

    const files = fs
        .readdirSync(sourceDir)
        .filter((file) =&amp;gt; file.endsWith(&amp;quot;.md&amp;quot;));

    let inspirations = [];

    files.forEach((file) =&amp;gt; &amp;#123;
        const content = fs.readFileSync(path.join(sourceDir, file), &amp;quot;utf8&amp;quot;);
        const match = content.match(/---\s*([\s\S]*?)---\s*([\s\S]*)/);

        if (match) &amp;#123;
            const metaBlock = match[1];
            const body = match[2].trim();
            const dateMatch = metaBlock.match(/date:\s*(\d&amp;#123;4&amp;#125;-\d&amp;#123;2&amp;#125;-\d&amp;#123;2&amp;#125;)/);

            if (dateMatch) &amp;#123;
                inspirations.push(&amp;#123;
                    date: dateMatch[1],
                    content: body,
                &amp;#125;);
            &amp;#125;
        &amp;#125;
    &amp;#125;);

    // 依照日期排序（新到舊）
    inspirations.sort((a, b) =&amp;gt; new Date(b.date) - new Date(a.date));

    const indexContent =
        `---\ntitle: 靈感\nlayout: page\n---\n\n` +
        &amp;#39;&amp;lt;div class=&amp;quot;inspiration-list&amp;quot;&amp;gt;\n&amp;#39; +
        inspirations
            .map(
                (item) =&amp;gt;
                    `&amp;lt;div class=&amp;quot;inspiration-card&amp;quot;&amp;gt;
                &amp;lt;div class=&amp;quot;inspiration-card-inner&amp;quot;&amp;gt;
      &amp;lt;div class=&amp;quot;inspiration-date&amp;quot;&amp;gt;$&amp;#123;item.date&amp;#125;&amp;lt;/div&amp;gt;
      &amp;lt;div class=&amp;quot;inspiration-content&amp;quot;&amp;gt;$&amp;#123;item.content.replace(
                /\n/g,
                &amp;quot;&amp;lt;br&amp;gt;&amp;quot;
            )&amp;#125;&amp;lt;/div&amp;gt;
        &amp;lt;/div&amp;gt;
    &amp;lt;/div&amp;gt;`
            )
            .join(&amp;quot;\n&amp;quot;) +
        &amp;quot;\n&amp;lt;/div&amp;gt;&amp;quot;;

    fs.writeFileSync(outputFile, indexContent);

    return []; // 這是 generator 的需求（不回傳任何 page）
&amp;#125;);

hexo.extend.filter.register(&amp;quot;inspiration_date_filter&amp;quot;, function (text) &amp;#123;
    return moment(text).format(&amp;quot;YYYY-MM-DD&amp;quot;);
&amp;#125;);
&lt;/code&gt;&lt;/pre&gt;
&lt;br&gt;

&lt;h2 id=&#34;添加-CSS&#34;&gt;&lt;a href=&#34;#添加-CSS&#34; class=&#34;headerlink&#34; title=&#34;添加 CSS&#34;&gt;&lt;/a&gt;添加 CSS&lt;/h2&gt;&lt;p&gt;這部份僅供參考，實際 style 根據個人 theme 而定&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.inspiration-list &amp;#123;
  display: flex;
  flex-direction: column;
  gap: 1.5em;
  padding: 1em 0;
&amp;#125;

.inspiration-card &amp;#123;
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 1em;
  background-color: rgba(255,255,255,0.75);
  box-shadow: 0 2px 5px rgba(0,0,0,0.05);
  transition: transform 0.2s, background-color 0.5s ease;
&amp;#125;

.inspiration-card:hover &amp;#123;
  transform: translateY(-4px);
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
&amp;#125;

.inspiration-title-wrap&amp;#123;
  display: flex;
  justify-content space-between;
  color: #7a7a7a;
&amp;#125;

.inspiration-date &amp;#123;
  font-weight: bold;
  color: #666;
  margin-bottom: 0.5em;
  font-size: 0.9em;
&amp;#125;

.inspiration-content &amp;#123;
  font-size: 1.8em;
  font-weight: bold;
  line-height: 1.6;
  color: #8186e9;
&amp;#125;

.night .inspiration-card &amp;#123;
  background-color: rgba(40,44,52,0.5);
  border-color: #333;
  color: #ddd;
  box-shadow: 0 2px 8px rgba(255, 255, 255, 0.05);
&amp;#125;

.night .inspiration-card:hover &amp;#123;
  box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
&amp;#125;

.night .inspiration-date &amp;#123;
  color: #aaa;
&amp;#125;

.night .inspiration-content &amp;#123;
  color: #ddd;
&amp;#125;

@keyframes fadeUpSmooth &amp;#123;
  from &amp;#123;
    opacity: 0;
    transform: translateY(60px);
  &amp;#125;
  to &amp;#123;
    opacity: 1;
    transform: translateY(0);
  &amp;#125;
&amp;#125;

.inspiration-card-inner &amp;#123;
  animation: fadeUpSmooth 0.8s cubic-bezier(0.22, 1, 0.36, 1) both;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;結語&#34;&gt;&lt;a href=&#34;#結語&#34; class=&#34;headerlink&#34; title=&#34;結語&#34;&gt;&lt;/a&gt;結語&lt;/h1&gt;&lt;p&gt;以上，就是這麼一個小功能&lt;/p&gt;
&lt;p&gt;很長一段時間，寧願在論壇分享自己的事情&lt;br&gt;網誌卻幾個月不去動他，只因為分享日常瑣事並非我建立這個網站的初衷&lt;/p&gt;
&lt;p&gt;然而，網誌應該是可以更加自由的&lt;br&gt;我希望他可以接納我的生活&lt;/p&gt;
&lt;p&gt;希望這個功能在未來可以活用。&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://smilin.net/2021/11/16/fluidThemeShare/</guid>
            <title>fluid支持pjax主題源碼分享</title>
            <link>https://smilin.net/2021/11/16/fluidThemeShare/</link>
            <category>教學</category>
            <category>hexo</category>
            <category>fluid</category>
            <pubDate>Tue, 16 Nov 2021 12:00:00 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;&lt;img src=&#34;https://i.imgur.com/yl9bnuZ.png&#34; alt=&#34;theme&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;寫在前面&#34;&gt;&lt;a href=&#34;#寫在前面&#34; class=&#34;headerlink&#34; title=&#34;寫在前面&#34;&gt;&lt;/a&gt;寫在前面&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;本主題基於 fluid 1.8.11 版本製作，在此之上參雜了許多私貨
又因為本人前端並不熟練，源碼被改得亂七八糟的，因此有任何問題在blog聯繫我詢問即可。
再此感謝開發 and 維護源碼的所有大大們。
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;fluid-主題主要改動&#34;&gt;&lt;a href=&#34;#fluid-主題主要改動&#34; class=&#34;headerlink&#34; title=&#34;fluid 主題主要改動&#34;&gt;&lt;/a&gt;fluid 主題主要改動&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; pjax 支持&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 添加本地音樂箱&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 添加右下角 Live2D 妹子&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; pjax JS 回調(解決大部分 fluid 不支持 pjax 之異常)&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 目錄頁次浮動顯示&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 文章列表搜出留言數&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Markdown 介面修改&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 文章底部上下篇連結位置對調(上一篇就該在左邊，下一篇就該在右邊 &amp;#x3D; &amp;#x3D; )&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 修復繁體中文字型&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; rss 功能&lt;/li&gt;
&lt;/ul&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;h2 id=&#34;環境配置&#34;&gt;&lt;a href=&#34;#環境配置&#34; class=&#34;headerlink&#34; title=&#34;環境配置&#34;&gt;&lt;/a&gt;環境配置&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;hexo -v
INFO  Validating config
hexo: 5.4.0
hexo-cli: 4.3.0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;主題下載&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;https://github.com/Mr-Smilin/hexo-theme-fluid.git
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;hexo _config 配置請添加以下&lt;/p&gt;
&lt;h3 id=&#34;rss&#34;&gt;&lt;a href=&#34;#rss&#34; class=&#34;headerlink&#34; title=&#34;rss&#34;&gt;&lt;/a&gt;rss&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;feed:
    type: atom # RSS的类型(atom/rss2)
    path: atom.xml # 文件路径,默认是atom.xml/rss2.xml
    limit: 20 # 展示文章的数量,使用0或则false代表展示全部
    hub:
    content: # 在RSS文件中是否包含内容 ,有3个值 true/false默认不填为false
    content_limit: # 指定内容的长度作为摘要,仅仅在上面content设置为false和没有自定义的描述出现
    content_limit_delim: &amp;#39; &amp;#39; # 上面截取描述的分隔符,截取内容是以指定的这个分隔符作为截取结束的标志.在达到规定的内容长度之前最后出现的这个分隔符之前的内容,，防止从中间截断.
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;live-2D&#34;&gt;&lt;a href=&#34;#live-2D&#34; class=&#34;headerlink&#34; title=&#34;live 2D&#34;&gt;&lt;/a&gt;live 2D&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;live2d:
    enable: true
    scriptFrom: local
    pluginRootPath: live2dw/
    pluginJsPath: lib/
    pluginModelPath: assets/
    tagMode: false
    log: false
    model:
        use: live2d-widget-model-shizuku
    display:
        position: right
        width: 150
        height: 300
    mobile:
        show: false
    react:
        opacity: 0.7
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;更多 live2D 模組可訪問 &lt;code&gt;https://smilin.net/2021/11/16/live2DShareList/&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;音樂箱音樂&#34;&gt;&lt;a href=&#34;#音樂箱音樂&#34; class=&#34;headerlink&#34; title=&#34;音樂箱音樂&#34;&gt;&lt;/a&gt;音樂箱音樂&lt;/h3&gt;&lt;p&gt;開啟 &lt;code&gt;source\dist\music.js&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const ap = new APlayer(&amp;#123;
    container: document.getElementById(&amp;#39;aplayer&amp;#39;),
    fixed: true,
    mini: true,
    autoplay: false,
    loop: &amp;#39;all&amp;#39;,
    volume: 0.7,
    listFolded: true,
    listMaxHeight: 60,
    audio: [
        &amp;#123;
            name: &amp;#39;最近在聽的歌&amp;#39;,
            artist: &amp;#39;星茶会&amp;#39;,
            url: &amp;#39;/music/星茶会.mp3&amp;#39;,
            cover: &amp;#39;/img/avatar.png&amp;#39;,
        &amp;#125;,
        &amp;#123;
            name: &amp;#39;最近在聽的歌&amp;#39;,
            artist: &amp;#39;Fullmetal Alchemist Brotherhood&amp;#39;,
            url: &amp;#39;/music/Fullmetal-Alchemist-Brotherhood.mp3&amp;#39;,
            cover: &amp;#39;/img/avatar.png&amp;#39;,
        &amp;#125;
    ]
&amp;#125;);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;對應路徑檔案可替換&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;配置好後，做 hexo 上傳 sop&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ npm install #安裝library（僅第一次執行）
$ hexo clean #清除
$ hexo g #編譯
$ hexo d #上傳git
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;以上就是配置此 theme 的流程，使用上若有遇到問題歡迎在底下詢問&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;期待這篇文章可以幫助到需要的人&#34;&gt;&lt;a href=&#34;#期待這篇文章可以幫助到需要的人&#34; class=&#34;headerlink&#34; title=&#34;期待這篇文章可以幫助到需要的人&#34;&gt;&lt;/a&gt;期待這篇文章可以幫助到需要的人&lt;/h2&gt;&lt;p&gt;fluid 是本 blog 第一個使用的 theme&lt;br&gt;fluid 的設計…非常讚!(詞窮)&lt;br&gt;逛著 blog 的期間，可以從各處巧思中感受到作者對美感的一套見解&lt;/p&gt;
&lt;p&gt;不過 fluid 因為其框架的侷限，其致命傷便是無法支援 pjax(ajax)做局部頁面更新&lt;br&gt;從 issues 上可以看到，對於 pjax 的開發目前是不了了之&lt;/p&gt;
&lt;p&gt;但這並非是 fluid 無法支援 pjax，而是因為引入 pjax 會破壞 fluid 既有框架&lt;br&gt;也因此這些改動要改進正式版本是十分困難的，但如果只是魔改的話，儘管是像筆者對前端並不精熟，也能試著修改(code 不保證好看就是了 xD)&lt;/p&gt;
&lt;p&gt;因為筆者最近可能會試著替換成其他主題，故想記錄下使用版本，算是分享。&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>