<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://smilin.net</id>
    <title>è²“è¬å·¥åŠ â€¢ Posts by &#34;node.js&#34; tag</title>
    <link href="https://smilin.net" />
    <updated>2024-08-12T09:00:00.000Z</updated>
    <category term="node.js" />
    <category term="bot" />
    <category term="discord" />
    <category term="discord.js" />
    <category term="æ•™å­¸" />
    <category term="12théµäººè³½" />
    <category term="æ—¥è¨˜" />
    <category term="vitepress" />
    <category term="algolia" />
    <category term="æ´»ä¿ å‚³" />
    <category term="Alist" />
    <category term="Cloudflare" />
    <category term="docker" />
    <category term="javascript" />
    <category term="hexo" />
    <category term="fluid" />
    <category term="getamped" />
    <category term="éŠæˆ²" />
    <category term="github" />
    <category term="CI/CD" />
    <category term="heroku" />
    <category term="render" />
    <category term="render.com" />
    <category term="icarus" />
    <category term="Live2D" />
    <category term="å½ˆå°„ä¸–ç•Œ" />
    <category term="è…³æœ¬" />
    <category term="addtoany" />
    <category term="Rust" />
    <entry>
        <id>https://smilin.net/2024/08/12/algoliaOnVitepress/</id>
        <title>é—œæ–¼ algolia åœ¨ vitepress é›†æˆï¼Œè¸©é›·éç¨‹</title>
        <link rel="alternate" href="https://smilin.net/2024/08/12/algoliaOnVitepress/"/>
        <content type="html">&lt;p&gt;&lt;img src=&#34;/img/post/algoliaOnVitepress/01.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;å› ç‚ºæƒ³å¢å¼·ç¶²ç«™çš„æœå°‹åŠ›åº¦ï¼Œå¸Œæœ›é€£æ–‡ç« çš„å…§æ–‡éƒ½å¯ä»¥æœç´¢åˆ°&lt;br&gt;å‰›å¥½ &lt;code&gt;vitepress&lt;/code&gt; æ˜¯æ”¯æ´ &lt;code&gt;algolia&lt;/code&gt; çš„ï¼Œè©¦è‘—é…ç½®&lt;br&gt;ä¸æ–™é‡åˆ°çš„å•é¡Œæ¯”æƒ³åƒçš„å¤šï¼Œç¶²è·¯ä¸Šçš„æ•™å­¸åƒæ˜¯ç¼ºäº†å¹¾å¡Šæ‹¼åœ–ä¼¼çš„&lt;br&gt;ç´¢æ€§è¶è‘—å‰›å®Œæˆè…¦è¢‹é‚„ç†±å‘¼çš„ç¾åœ¨ï¼Œè¨˜éŒ„ä¸€ä¸‹é‡åˆ°çš„å•é¡Œã€‚&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;hr&gt;
&lt;h2 id=&#34;å®˜æ–¹æ–‡æª”&#34;&gt;&lt;a href=&#34;#å®˜æ–¹æ–‡æª”&#34; class=&#34;headerlink&#34; title=&#34;å®˜æ–¹æ–‡æª”&#34;&gt;&lt;/a&gt;å®˜æ–¹æ–‡æª”&lt;/h2&gt;&lt;p&gt;é¦–å…ˆæˆ‘å€‘çœ‹åˆ° &lt;a href=&#34;https://vitepress.dev/zh/reference/default-theme-search#algolia-search&#34;&gt;vitepress çš„æ–‡æª”&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/post/algoliaOnVitepress/02.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;å» &lt;code&gt;Algolia&lt;/code&gt; ç”³è«‹ &lt;code&gt;api&lt;/code&gt;ï¼Œç„¶å¾Œå¡«å…¥ï¼Œå®Œæˆ&lt;br&gt;æ©ï¼Œçœ‹èµ·ä¾†æŒºç°¡å–®çš„ï¼Œå†çœ‹çœ‹ &lt;a href=&#34;https://docsearch.algolia.com/apply&#34;&gt;Algolia æ€éº¼èªª&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/post/algoliaOnVitepress/03.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¨»å†Šå®Œå¾Œï¼Œæˆ‘å€‘å¯©æ ¸å®Œç•¢å°±æœƒå¯„ä¿¡åˆ°ä½ çš„ä¿¡ç®±ï¼Œè£¡é¢å¯ä»¥æ‹¿åˆ° &lt;code&gt;apikey&lt;/code&gt;&lt;br&gt;æ©â€¦é€™é‚Šä¹Ÿå¾ˆæ–¹ä¾¿é˜¿ï¼Œè¨»å†Šå®Œç­‰å¤§æ¦‚äº”åˆ†é˜å°±æ”¶åˆ°ä¿¡äº†&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;Markdown&#34;&gt;Hi there ğŸ‘‹

Thanks for your interest and trust in Algolia DocSearch.
 We&amp;#39;ve received your request for https://smilin.net/LoM-wiki/, and will get back to you soon.

DocSearch is built in two parts:
- A crawler which we run in our own infrastructure every week (configurable). It follows every link in your website and extracts content from every page it traverses. It then pushes this content to an Algolia index. (Read more: https://www.algolia.com/doc/tools/crawler/getting-started/overview/ )
- A JavaScript snippet to be inserted in your website that will bind this Algolia index to your search input and display its results in a modal UI. (Read more: https://github.com/algolia/docsearch )

If you want to find more details on how DocSearch works, take a look at the docs: https://docsearch.algolia.com/

Meanwhile, let us know if you have any other questions.

Have a great day,
The DocSearch team.

DocSearch is powered by Algolia. See more at https://www.algolia.com/
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¤§æ„æ˜¯èªª &lt;code&gt;algolia&lt;/code&gt; åˆ†æˆå…©å€‹éƒ¨åˆ†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»–å€‘æœƒé…ç½®çˆ¬èŸ²ï¼Œæ¯å‘¨ç€è¦½ç¶²ç«™&lt;/li&gt;
&lt;li&gt;ç‚ºäº†ä½¿ç”¨ &lt;code&gt;algolia&lt;/code&gt;ï¼Œå¿…é ˆåœ¨ç¶²ç«™é…ç½®ä»–å€‘çš„ &lt;code&gt;js&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¬¬ä¸€éƒ¨ä»½ &lt;code&gt;algolia&lt;/code&gt; æœƒå”åŠ©ï¼Œç¬¬äºŒéƒ¨ä»½ä¹Ÿæœ‰ &lt;code&gt;vitepress&lt;/code&gt; é›†æˆï¼Œä¸€åˆ‡çœ‹èµ·ä¾†éƒ½å¾ˆç¾å¥½&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å» &lt;code&gt;algolia&lt;/code&gt; å¾Œå°è¦æ‹¿ &lt;code&gt;api&lt;/code&gt; çš„æ™‚å€™ï¼Œå•é¡Œä¾†äº†ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;å•é¡Œï¼Ÿ&#34;&gt;&lt;a href=&#34;#å•é¡Œï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;å•é¡Œï¼Ÿ&#34;&gt;&lt;/a&gt;å•é¡Œï¼Ÿ&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;/img/post/algoliaOnVitepress/04.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;(è¨»ï¼šç”±æ–¼ç­†è€…å·²ç¶“è¸©å®Œé›·äº†ï¼Œåœ–ä¸­æ˜¯å·²è§£æ±ºçš„æ¨£å­)&lt;/p&gt;
&lt;p&gt;åªè¦é€²å…¥å¾Œå°ï¼Œä»–å°±æœƒå½ˆå‡º &lt;code&gt;Get Start&lt;/code&gt;&lt;br&gt;å¤§æ„æ˜¯è¦æ±‚æˆ‘å€‘è‡ªå·±å¯«çˆ¬èŸ²è®€å–è‡ªå·±ç¶²ç«™çš„è³‡æ–™ï¼Œç„¶å¾Œé€éä»–å€‘çš„å·¥å…·ä¸Šå‚³çµ¦ &lt;code&gt;algolia&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä¸å°å‘€ï¼Ÿçˆ¬èŸ²çš„éƒ¨ä»½&lt;code&gt;algolia&lt;/code&gt;ä¸æ˜¯å¹«æˆ‘å€‘åšå¥½äº†å—ï¼Ÿ&lt;br&gt;ä¸Šç¶²æ‰¾äº†ä¸‹ï¼Œå…¶ä»–äººä¼¼ä¹æ²’æœ‰é‡åˆ°é€™å€‹ç‹€æ³ï¼Œç”šè‡³å¯ä»¥åœ¨å¾Œå°è¦æ±‚ &lt;code&gt;algolia&lt;/code&gt; ä¸»å‹•é‡çˆ¬&lt;/p&gt;
&lt;p&gt;æ©â€¦å›é ­å»çœ‹ä¿¡ä¸­çš„ç¬¬ä¸€é»ï¼Œé»é€²ä»–æä¾›çš„ç¶²å€ï¼Œçœ‹çœ‹çˆ¬èŸ²ç›¸é—œçš„å•é¡Œ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/post/algoliaOnVitepress/05.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç—¾ï¼Œä¸çŸ¥é“ç‚ºä»€éº¼ï¼Œæˆ‘çš„å¸³æˆ¶ä¸èƒ½ä½¿ç”¨ä»–å€‘å®¶çš„çˆ¬èŸ²æœå‹™&lt;br&gt;é›£æ€ªé€²å¾Œå°å°±è¦æ±‚æˆ‘ä¸»å‹•æä¾›è³‡æ–™ï¼Œé‚£æ²’è¾¦æ³•ï¼Œåªå¥½è‡ªå·±ä¾†&lt;/p&gt;
&lt;br&gt;

&lt;h3 id=&#34;éš”å¤©-8-13-æ›´æ–°ï¼š&#34;&gt;&lt;a href=&#34;#éš”å¤©-8-13-æ›´æ–°ï¼š&#34; class=&#34;headerlink&#34; title=&#34;éš”å¤©(8&amp;#x2F;13)æ›´æ–°ï¼š&#34;&gt;&lt;/a&gt;éš”å¤©(8&amp;#x2F;13)æ›´æ–°ï¼š&lt;/h3&gt;&lt;p&gt;ä»Šå¤©æ”¶åˆ°å¯©æ ¸é€šéçš„ä¿¡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ä»–å€‘å®¶çš„çˆ¬èŸ²äº†ï¼Œ&lt;br&gt;æ‡‰è©²æ˜¯ç­†è€…ç•¶å¤©æŸ¥çœ‹æ™‚ï¼Œé‚„åœ¨å¯©æ ¸ç¶²ç«™æ˜¯å¦ç¬¦åˆä»–å€‘çš„å…è²»æ”¯æ´å°è±¡&lt;/p&gt;
&lt;p&gt;å¾€ä¸‹å°±æ˜¯è‡ªè¡Œä¸²æ¥çˆ¬èŸ²çš„éƒ¨ä»½äº†ï¼Œå¦‚æœé‚„èƒ½åˆ©ç”¨ä»–å€‘å®¶çš„çˆ¬èŸ²çš„è©±ï¼Œä»¥ä¸‹çš„æ–¹æ¡ˆå°±ä¸æ˜¯å¿…è¦çš„&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;github-action&#34;&gt;&lt;a href=&#34;#github-action&#34; class=&#34;headerlink&#34; title=&#34;github action&#34;&gt;&lt;/a&gt;github action&lt;/h2&gt;&lt;p&gt;ç”±æ–¼ç­†è€…çš„ç¶²ç«™æ”¾åœ¨ &lt;code&gt;github&lt;/code&gt; ä¸Š&lt;br&gt;æƒ³åˆ°è¦å¯« for ç¶²ç«™çš„çˆ¬èŸ²å¾Œï¼Œç¬¬ä¸€æ™‚é–“æƒ³åˆ°çš„å°±æ˜¯ &lt;code&gt;action&lt;/code&gt; å•¦&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;yml&#34;&gt;name: Algolia DocSearch Scraper
on:
  push:
    branches: [release-algolia]

jobs:
  scrape:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2

      - name: Prepare Algolia DocSearch config
        run: |
          echo &amp;#39;$&amp;#123;&amp;#123; secrets.ALGOLIA_CONFIG &amp;#125;&amp;#125;&amp;#39; &amp;gt; config.json
          cat config.json

      - name: Run DocSearch Scraper
        env:
          APPLICATION_ID: $&amp;#123;&amp;#123; secrets.ALGOLIA_ID &amp;#125;&amp;#125;
          API_KEY: $&amp;#123;&amp;#123; secrets.ALGOLIA_KEY &amp;#125;&amp;#125;
        run: |
          docker run \
            -e APPLICATION_ID=$APPLICATION_ID \
            -e API_KEY=$API_KEY \
            -e CONFIG=&amp;quot;$(cat config.json | jq -c .)&amp;quot; \
            algolia/docsearch-scraper
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é€é &lt;code&gt;action&lt;/code&gt; åŸ·è¡Œ &lt;code&gt;algolia/docsearch-scraper&lt;/code&gt;&lt;br&gt;&lt;code&gt;id&lt;/code&gt;è·Ÿ&lt;code&gt;key&lt;/code&gt;å¯ä»¥åœ¨å‰é¢çš„&lt;code&gt;algoliaå¾Œå°&lt;/code&gt;ç²å¾—&lt;br&gt;&lt;code&gt;ALGOLIA_CONFIG&lt;/code&gt; å‰‡æ˜¯çˆ¬èŸ²çš„ç›¸é—œ &lt;code&gt;config&lt;/code&gt;ï¼Œè¨­ç½®æ–¹å¼å¯ä»¥&lt;a href=&#34;https://docsearch.algolia.com/docs/legacy/config-file/&#34;&gt;åƒè€ƒé€™è£¡&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å…¨éƒ½å¿…é ˆæ”¾åœ¨ &lt;code&gt;Repository secrets&lt;/code&gt;ï¼Œæ ¹æ“šä½¿ç”¨çš„ç’°å¢ƒä¸åŒï¼Œè¼‰å…¥ç’°å¢ƒè®Šé‡çš„æ–¹å¼ç•¥æœ‰å·®ç•°&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šåšå®Œï¼Œ&lt;code&gt;action&lt;/code&gt;æˆåŠŸåŸ·è¡Œå¾Œï¼Œ&lt;code&gt;algolia&lt;/code&gt;ä¸Šå°±æœƒæœ‰è³‡æ–™å›‰&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;å¾ŒçºŒæ­¥é©Ÿ&#34;&gt;&lt;a href=&#34;#å¾ŒçºŒæ­¥é©Ÿ&#34; class=&#34;headerlink&#34; title=&#34;å¾ŒçºŒæ­¥é©Ÿ&#34;&gt;&lt;/a&gt;å¾ŒçºŒæ­¥é©Ÿ&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;/img/post/algoliaOnVitepress/06.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;å‰é¢çˆ¬å®Œè³‡æ–™ï¼Œç¬¬ä¸€æ­¥æœƒè‡ªå‹•æ‰“å‹¾&lt;br&gt;ç”±æ–¼æˆ‘å€‘çš„å‰ç«¯éƒ½ç”± &lt;code&gt;vitepress&lt;/code&gt; è‡ªå‹•é…ç½®å¥½äº†ï¼Œå‰©ä¸‹ä¸‰æ­¥é©Ÿä¸¦ä¸éœ€è¦è¨­å®šï¼Œä¸€ç›´é€å‡ºè®“ä»–æ‰“å‹¾å°±å¥½&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/post/algoliaOnVitepress/07.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;çµ‚æ–¼ä¾†åˆ°å¾Œå°ï¼Œä¾åºé»é¸ Search -&amp;gt; CONFIGURE -&amp;gt; Index&lt;br&gt;æ‰¾åˆ° &lt;code&gt;Create Index&lt;/code&gt; ï¼Œè¼¸å…¥ &lt;code&gt;IndexName&lt;/code&gt;&lt;br&gt;é€™è£¡è¨­å®šçš„ï¼Œå°±æ˜¯æœ€å‰é¢&lt;code&gt;vitepress&lt;/code&gt;è¦æ±‚è¼¸å…¥çš„ç¬¬ä¸‰å€‹åƒæ•¸&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/post/algoliaOnVitepress/01.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;éƒ½è¨­å®šå®Œç•¢ï¼Œç¶²é çš„æœå°‹åŠŸèƒ½é€£å…§æ–‡éƒ½å¯ä»¥æœåˆ°ï¼Œæ›´åŠ å¼·å¤§å›‰ï½&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;é–’è«‡&#34;&gt;&lt;a href=&#34;#é–’è«‡&#34; class=&#34;headerlink&#34; title=&#34;é–’è«‡&#34;&gt;&lt;/a&gt;é–’è«‡&lt;/h2&gt;&lt;p&gt;æ–‡ä¸­æåˆ°ä½¿ç”¨ &lt;code&gt;vitepress&lt;/code&gt; çš„ç¶²ç«™æ˜¯ &lt;a href=&#34;https://smilin.net/LoM-wiki/&#34;&gt;æ´»ä¿ å‚³ wiki&lt;/a&gt;ï¼Œ&lt;br&gt;ä¹Ÿæ˜¯æœ€è¿‘ç­†è€…åœ¨ä¼‘æ¯æ™‚é–“æŠŠç©çš„å°å°ˆæ¡ˆ&lt;/p&gt;
&lt;p&gt;ç¶²ç«™åœ¨ &lt;code&gt;2024-07-01&lt;/code&gt; å»ºç«‹ï¼Œ&lt;br&gt;ç•¶æ™‚æ˜¯æ‰“ç®—åœ¨é€™å¯«é»æ–‡ç« çš„ï¼Œ&lt;br&gt;æ°å·§è¿‘æœŸå·¥ä½œä¹Ÿå¿™ï¼Œ&lt;br&gt;æ²’ç”šéº¼æ™‚é–“æ›´æ–°é€™é‚Š&lt;/p&gt;
&lt;p&gt;å…¶å¯¦é€£é€™ç¯‡æ–‡éƒ½æ›´æ–°çš„å¾ˆåƒåŠ›ï¼Œ&lt;br&gt;ä¸éæƒ³äº†æƒ³ï¼Œ&lt;br&gt;éå¹¾å¤©ææ€•é€£é€™ç¯‡æ–‡æ€éº¼å‹•ç­†éƒ½ä¸çŸ¥é“ï¼Œ&lt;br&gt;é‚„æ˜¯å¯«å§ xD&lt;/p&gt;
&lt;p&gt;å»ºç«‹é€™å€‹ç¶²ç«™ï¼Œ&lt;br&gt;ä¸€æ–¹é¢æ˜¯æˆ‘è‡ªå·±å°&lt;code&gt;vue + vite&lt;/code&gt;é«”ç³»å…¨å®¶æ¡¶ä¸å¤ªç†Ÿæ‚‰ï¼Œ&lt;br&gt;è¶æ©Ÿå­¸ç¿’&lt;/p&gt;
&lt;p&gt;å¦ä¸€æ–¹é¢æ˜¯æ´»ä¿ å‚³çœŸçš„å¾ˆå¥½ç©ï¼Œ&lt;br&gt;é€™é‚Šæ¨è–¦å¤§å®¶éƒ½å¯ä»¥å»ç©ã€‚&lt;/p&gt;
&lt;p&gt;é—œæ–¼&lt;code&gt;wiki&lt;/code&gt;çš„å»ºç«‹å¿ƒè·¯æ­·ç¨‹ç”šéº¼çš„ï¼Œ&lt;br&gt;ä¹‹å¾Œæœƒå†å¦å¤–å¯«ä¸€ç¯‡çš„&lt;/p&gt;
&lt;p&gt;å¾ˆæ„Ÿè¬åŒæ¨£å–œæ­¡æ´»ä¿ å‚³çš„æœ‹å‹ï¼Œ&lt;br&gt;é¡˜æ„ä¸€åŒç¶­è­·é€™å€‹ &lt;code&gt;wiki&lt;/code&gt;ï¼Œ&lt;br&gt;ä¹Ÿæ­¡è¿å¿—åŒé“åˆçš„æ–°å¤¥ä¼´åŠ å…¥ã€‚&lt;/p&gt;
&lt;br&gt;
</content>
        <category term="node.js" />
        <category term="vitepress" />
        <category term="algolia" />
        <category term="æ´»ä¿ å‚³" />
        <updated>2024-08-12T09:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://smilin.net/2024/04/13/autoPixai/</id>
        <title>è‡ªå‹•é ˜å– Pixai æ¯æ—¥çå‹µ</title>
        <link rel="alternate" href="https://smilin.net/2024/04/13/autoPixai/"/>
        <content type="html">&lt;p&gt;&lt;img src=&#34;/img/post/autoPixai/01.jpg&#34; alt=&#34;title&#34;&gt;&lt;/p&gt;
&lt;p&gt;å·¥ç¨‹ç¶²å€&lt;br&gt;&lt;a href=&#34;https://github.com/Mr-Smilin/auto-pixai&#34;&gt;Github&lt;/a&gt;&lt;br&gt;&lt;a href=&#34;https://hub.docker.com/r/smile0301/auto-pixai&#34;&gt;Docker Hub&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿‘å¹¾å¹´ AI å·¥å…·æ—¥æ–°æœˆç•°&lt;br&gt;æˆ‘ä¹Ÿæœ‰å¹¸æ¥è§¸äº† AI ç¹ªåœ–çš„ä¸€é±—åŠçˆª&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ &lt;a href=&#34;https://pixai.art/&#34;&gt;pixai&lt;/a&gt; æ˜¯å°‘æœ‰çš„é›²ç«¯å…è²»ç®—åœ–ç¶²ç«™&lt;/p&gt;
&lt;p&gt;åœ¨ pixai å¦‚æœå°ç”¢å‡ºä¾†çš„åœ–æ„Ÿåˆ°æ»¿æ„çš„è©±&lt;br&gt;å¯ä»¥é€é AI é€²ä¸€æ­¥é‹ç®—ï¼Œç”¢å‡ºæœƒå‹•çš„åœ–&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;hr&gt;
&lt;br&gt;

&lt;p&gt;èªªæ˜¯å…è²»ï¼Œå…¶å¯¦é‚„æ˜¯æœ‰äº›é™åˆ¶çš„&lt;/p&gt;
&lt;p&gt;åœ¨ç¶²ç«™ä¸Šçš„é‹ç®—è¡Œç‚ºéƒ½éœ€è¦æ¶ˆè€—é»æ•¸ï¼Œç„¡è«–æ˜¯éœæ…‹æˆ–å‹•æ…‹&lt;/p&gt;
&lt;p&gt;è€Œé»æ•¸é™¤äº†é€éä»˜è²»èˆ‡æ´»å‹•å–å¾—ä»¥å¤–&lt;br&gt;pixai æ¯æ—¥éƒ½æœ‰ä¸€è¬é»æ•¸å¯ä¾›æœƒå“¡é ˜å–ï¼Œä¹Ÿå°±æ˜¯æ¯æ—¥çå‹µ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/post/autoPixai/02.jpg&#34; alt=&#34;æ¯æ—¥çå‹µ&#34;&gt;&lt;/p&gt;
&lt;p&gt;åªè¦æ¯å¤©é ˜å–å°±å¯ä»¥å…è²»ç®—åœ–äº†ï¼Œæ•´å€‹ä½›å¿ƒä¾†è‘—å°å§&lt;/p&gt;
&lt;p&gt;ä¸éç­†è€…æœ€å–œæ­¡èŠ±è²»å¹¾å€‹å°æ™‚ä¾†æå®šåŸæœ¬ä¸€åˆ†é˜å¯ä»¥åšåˆ°çš„äº‹æƒ…(x&lt;/p&gt;
&lt;hr&gt;
&lt;br&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/Mr-Smilin/auto-pixai&#34;&gt;auto-pixai&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¼¸å…¥å¸³è™Ÿè·Ÿå¯†ç¢¼ï¼Œè©²è…³æœ¬åŸ·è¡Œä¸€æ¬¡å°±æœƒè‡ªå‹•é€²ç¶²ç«™é ˜å–æ¯æ—¥çå‹µ&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ node.js æ’°å¯«ï¼Œå¦æœ‰ Docker å®¹å™¨åŒ–ï¼Œé–‹ç®±å³ç”¨&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker pull smile0301/auto-pixai
docker run -e LOGINNAME=&amp;lt;ä½ çš„å¸³è™Ÿ&amp;gt; -e PASSWORD=&amp;lt;ä½ çš„å¯†ç¢¼&amp;gt; --name &amp;lt;container-name&amp;gt; smile0301/auto-pixai
&lt;/code&gt;&lt;/pre&gt;
</content>
        <category term="node.js" />
        <category term="æ•™å­¸" />
        <category term="docker" />
        <updated>2024-04-13T11:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://smilin.net/2023/06/01/discordJs14-1/</id>
        <title>discord.js å‡ä¸Š 14 ç‰ˆï¼Œæ¶æ§‹èªªæ˜</title>
        <link rel="alternate" href="https://smilin.net/2023/06/01/discordJs14-1/"/>
        <content type="html">&lt;p&gt;&lt;a href=&#34;https://github.com/Mr-Smilin/AliceZero/tree/v14&#34;&gt;github é€£çµ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¾ 2021 å¹´ï¼Œdiscord.js å‡ä¸Š 13 ç‰ˆ&lt;br&gt;heroku æ”¹æˆæ”¶è²»&lt;br&gt;youtube ä¸å–œæ­¡ discord è¹­ä»–å€‘çš„æœå‹™&lt;br&gt;éŸ³æ¨‚æ©Ÿå™¨äººç›¸ç¹¼é—œé–‰ yt æœå‹™&lt;br&gt;12 ç‰ˆè¨±å¤šåŠŸèƒ½æ™‚å¸¸å ±éŒ¯&lt;br&gt;discord.js å‡ä¸Š 14 ç‰ˆ..&lt;/p&gt;
&lt;br&gt;

&lt;p&gt;æœŸé–“ä¸ç®¡æ˜¯å·¥ä½œåˆæˆ–æ˜¯ä¼‘å‡æ™‚ï¼Œéƒ½å¾ˆå¸Œæœ›èƒ½å‡ç´šä»¥å‰å¯«çš„æ©Ÿå™¨äºº&lt;br&gt;ä¸æ–·æƒ³é‡æ§‹å‡ºæ›´å¥½ç¶­è­·çš„ç¨‹å¼æ¶æ§‹ï¼Œä¹Ÿä¸€å†æ¨ç¿»ä¹‹å‰çš„ç¨‹å¼&lt;/p&gt;
&lt;br&gt;

&lt;p&gt;çµ‚æ–¼..ï¼åœ¨æœ€è¿‘ Alice ä¹Ÿæ­£å¼å‡ä¸Šäº† discord.js 14.11.0 ç‰ˆæœ¬&lt;br&gt;ä¸æœƒç¸½æ˜¯å› ç‚ºèˆŠç‰ˆæœ¬ä¸æ”¯æ´è€Œçˆ†ç‚¸å•¦ï¼(èª¤)&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/M6hj8wU.jpg&#34; alt=&#34;levelUp!&#34;&gt;&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;br&gt;

&lt;hr&gt;
&lt;br&gt;

&lt;h2 id=&#34;å®‰è£å¥—ä»¶&#34;&gt;&lt;a href=&#34;#å®‰è£å¥—ä»¶&#34; class=&#34;headerlink&#34; title=&#34;å®‰è£å¥—ä»¶&#34;&gt;&lt;/a&gt;å®‰è£å¥—ä»¶&lt;/h2&gt;&lt;p&gt;å¿…å‚™&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Node.js v16.9.0 æˆ–ä»¥ä¸Š&lt;/li&gt;
&lt;li&gt;Discord.js v14.11.0&lt;br&gt;discord.js æ ¸å¿ƒå¥—ä»¶&lt;pre&gt;&lt;code&gt;npm install discord.js@14.11.0
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;dotenv v16.0.3&lt;br&gt;è®€å– .env ï¼Œå³ token çš„å¥—ä»¶&lt;pre&gt;&lt;code&gt;npm install dotenv@16.0.3
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;details&gt;
&lt;summary&gt;é»æˆ‘å±•é–‹BDB(baseDiscordBot.js)æ‰€éœ€å¥—ä»¶&lt;/summary&gt;

&lt;br&gt;

&lt;ul&gt;
&lt;li&gt;@discordjs&amp;#x2F;builders v1.3.0&lt;br&gt;discord.js æä¾›çš„é¡åˆ¥ç”¢ç”Ÿå™¨é¡å‹&lt;pre&gt;&lt;code&gt;npm install @discordjs/builders@1.3.0
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/details&gt;

&lt;br&gt;

&lt;details&gt;
&lt;summary&gt;é»æˆ‘å±•é–‹éŸ³æ¨‚ç³»çµ±æ‰€éœ€å¥—ä»¶&lt;/summary&gt;

&lt;br&gt;

&lt;ul&gt;
&lt;li&gt;@discordjs&amp;#x2F;voice v0.16.0&lt;br&gt;æ§åˆ¶ discord èªéŸ³çš„æ ¸å¿ƒå¥—ä»¶&lt;br&gt;p.s.ä½¿ç”¨èˆŠç‰ˆæœ¬æ¥µåº¦å®¹æ˜“å‡ºç¾å•é¡Œï¼Œå¦‚æœæ’­æ”¾éç¨‹ç™¼ç”Ÿ bug å¯ä»¥å…ˆæª¢æŸ¥ voice æ˜¯ä¸æ˜¯æœ€æ–°ç‰ˆ&lt;pre&gt;&lt;code&gt;npm install @discordjs/voice@0.16.0
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;@discordjs&amp;#x2F;opus v0.9.0&lt;br&gt;Opus ç·¨ç¢¼å™¨&lt;pre&gt;&lt;code&gt;npm install @discordjs/opus@0.9.0
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;ffmpeg-static v5.1.0&lt;br&gt;ffmpeg è½‰ç¢¼å™¨&lt;pre&gt;&lt;code&gt;npm install ffmpeg-static@5.1.0
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;libsodium-wrappers v0.7.11&lt;br&gt;ä¸²æµåŠ å¯†å·¥å…·&lt;pre&gt;&lt;code&gt;npm install libsodium-wrappers@0.7.11
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;play-dl v1.9.6&lt;br&gt; ä¸²æµå¥—ä»¶ï¼Œå–ä»£ ytdl-core&lt;pre&gt;&lt;code&gt;npm install play-dl@1.9.6
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/details&gt;

&lt;br&gt;

&lt;details&gt;
&lt;summary&gt;é»æˆ‘å±•é–‹Renderè¨—ç®¡æ¨è–¦å¥—ä»¶&lt;/summary&gt;

&lt;br&gt;

&lt;ul&gt;
&lt;li&gt;axios v1.4.0&lt;br&gt;æ‰“ http ä½¿ç”¨çš„å¥—ä»¶&lt;pre&gt;&lt;code&gt;npm install axios@1.4.0
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;node-schedule v2.1.0&lt;br&gt;å®šæ™‚ä»»å‹™å¥—ä»¶&lt;pre&gt;&lt;code&gt;npm node-schedule@2.1.0
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/details&gt;

&lt;br&gt;

&lt;hr&gt;
&lt;br&gt;

&lt;h2 id=&#34;å‰ç½®å‹•ä½œ&#34;&gt;&lt;a href=&#34;#å‰ç½®å‹•ä½œ&#34; class=&#34;headerlink&#34; title=&#34;å‰ç½®å‹•ä½œ&#34;&gt;&lt;/a&gt;å‰ç½®å‹•ä½œ&lt;/h2&gt;&lt;p&gt;å¦‚æœæ˜¯èˆŠç‰ˆ discord bot ï¼Œè¦å…ˆå» &lt;a href=&#34;https://discord.com/developers/applications&#34;&gt;discordDeveloper&lt;/a&gt;&lt;br&gt;é¸ä¸­è‡ªå·±çš„ bot å¾Œï¼Œé¸æ“‡å·¦é‚Š Bot é¸é …ï¼Œç„¶å¾Œå°‡é€™é‚Šçš„é–‹é—œéƒ½æ‰“é–‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/GoIc5Ld.png&#34; alt=&#34;2&#34;&gt;&lt;/p&gt;
&lt;p&gt;é€™æ˜¯ä¸€äº›é™åˆ¶æ©Ÿå™¨äººå­˜å–ç‰¹å®šè³‡è¨Šçš„é–‹é—œï¼Œé»˜èªæ˜¯é—œé–‰çš„ï¼Œå¦‚æœæ²’æœ‰æ‰“é–‹ï¼Œå°±ç®—åœ¨ç¨‹å¼ä¸­è¦æ±‚å­˜å–æ¬Šï¼Œä¹Ÿæ˜¯æ‹¿ä¸åˆ°é€™äº›è³‡è¨Šçš„å–”ï¼&lt;/p&gt;
&lt;p&gt;ä¹‹å¾Œåœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„å‰µå»ºä¸€å€‹ &lt;code&gt;.env&lt;/code&gt; æª”æ¡ˆï¼Œæ€§è³ªé¡ä¼¼æ–¼ä»¥å‰æ•™å­¸ä¸­çš„ &lt;code&gt;auth.json&lt;/code&gt;&lt;br&gt;å·®åˆ¥åœ¨æ–¼ï¼Œæ”¾åœ¨ &lt;code&gt;Environment&lt;/code&gt; çš„åƒæ•¸æ„å‘³è‘—åƒæ•¸ä¸è©²è¢«å…¬é–‹ï¼Œä¸æœƒåœ¨ä»»ä½•çš„å…¬é–‹å ´åˆç²å¾—æ­¤é¡ value (ä¾‹å¦‚ github)ï¼Œåƒ…åœ¨åŸ·è¡Œå°ˆæ¡ˆæ™‚æœƒè¢«æ³¨å…¥&lt;/p&gt;
&lt;h3 id=&#34;env-é è¦½&#34;&gt;&lt;a href=&#34;#env-é è¦½&#34; class=&#34;headerlink&#34; title=&#34;.env é è¦½&#34;&gt;&lt;/a&gt;.env é è¦½&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;TOKEN=&amp;quot;your bot token&amp;quot;
MASTER_ID=&amp;quot;your client ID&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å°ˆæ¡ˆçµæ§‹&#34;&gt;&lt;a href=&#34;#å°ˆæ¡ˆçµæ§‹&#34; class=&#34;headerlink&#34; title=&#34;å°ˆæ¡ˆçµæ§‹&#34;&gt;&lt;/a&gt;å°ˆæ¡ˆçµæ§‹&lt;/h2&gt;&lt;br&gt;

&lt;details&gt;
&lt;summary&gt;é»æˆ‘å±•é–‹å°ˆæ¡ˆçµæ§‹&lt;/summary&gt;

&lt;p&gt;AliceZero&amp;#x2F;&lt;br&gt;â”œâ”€ baseJS&amp;#x2F;&lt;br&gt;â”‚ ã€€ã€€ â”œ BaseDiscordBot.js&lt;br&gt;â”‚ ã€€ã€€ â”œ CatchF.js&lt;br&gt;â”‚ ã€€ã€€ â”œ CronTask.js&lt;br&gt;â”‚ ã€€ã€€ â”œ HealthCheck.js&lt;br&gt;â”œâ”€ manager&amp;#x2F;&lt;br&gt;â”‚ ã€€ã€€ â”œ buttonManager&amp;#x2F;&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ commands&amp;#x2F;&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ ã€€ã€€ â”œ helpNowQueue.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ ã€€ã€€ â”œ helpPause.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ ã€€ã€€ â”œ helpPlay.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ ã€€ã€€ â”œ helpPlayFirst.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ ã€€ã€€ â”œ helpResume.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ ã€€ã€€ â”œ helpSkip.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ ã€€ã€€ â”œ helpSleep.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ ã€€ã€€ â”œ helpTrpgDice.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ ã€€ã€€ â”œ helpTrpgSort.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ ã€€ã€€ â”œ myKiritoSkillNicename.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ ã€€ã€€ â”œ myKiritoSkillSkill.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ ã€€ã€€ â”œ myKiritoSkillStatus.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ buttonC.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ buttonM.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ buttonType.json&lt;br&gt;â”‚ ã€€ã€€ â”œ componentManager&amp;#x2F;&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ componentM.js&lt;br&gt;â”‚ ã€€ã€€ â”œ embedManager&amp;#x2F;&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ embedC.js&lt;br&gt;â”‚ ã€€ã€€ â”œ messageManager&amp;#x2F;&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ messageC.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ messageM.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ messagePrefix.json&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ messageUpdateM.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ nineData.js&lt;br&gt;â”‚ ã€€ã€€ â”œ musicManager&amp;#x2F;&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ musicC.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ musicM.js&lt;br&gt;â”‚ ã€€ã€€ â”œ mykiritoManager&amp;#x2F;&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ requests&amp;#x2F;&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ ã€€ã€€ â”œ boss.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ ã€€ã€€ â”œ level.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ ã€€ã€€ â”œ skill.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ myKiritoC.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ myKiritoM.js&lt;br&gt;â”‚ ã€€ã€€ â”œ selectMenuManager&amp;#x2F;&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ commands&amp;#x2F;&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ ã€€ã€€ â”œ help.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ selectMenuC.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ selectMenuM.js&lt;br&gt;â”‚ ã€€ã€€ â”œ slashManager&amp;#x2F;&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ commands&amp;#x2F;&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ ã€€ã€€ â”œ help.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ ã€€ã€€ â”œ m.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ slashM.js&lt;br&gt;â”‚ ã€€ã€€ â”œ trpgManager&amp;#x2F;&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ trpgC.js&lt;br&gt;â”‚ ã€€ã€€ â”œ ã€€ã€€ â”œ trpgM.js&lt;br&gt;â”œâ”€ .env&lt;br&gt;â”œâ”€ alice.js&lt;br&gt;â”œâ”€ package.json&lt;br&gt;â”œâ”€ package-lock.json&lt;/p&gt;
&lt;/details&gt;

&lt;br&gt;

&lt;p&gt;å› ç‚ºé€™ç¯‡ä¸æ˜¯æ•™å­¸ï¼Œä¸æœƒä¸€å€‹å€‹è¬›è§£ï¼Œå¤§æ¦‚èªªæ˜ä¸€ä¸‹å„ Manager çš„ä½œç”¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;BaseDiscordBot.js&lt;br&gt;å¾ç™»å…¥ token åˆ°è¨Šæ¯å‚³é€&lt;br&gt;èˆ‡ discord.js çš„ä»»ä½•äº¤äº’éƒ½åœ¨é€™ï¼Œå”¯ä¸€å¼•ç”¨ discord.js çš„åœ°æ–¹&lt;br&gt;å¥½è™•æ˜¯ç•¶ discord.js æ”¹ç‰ˆæ™‚åªè¦æ›´æ”¹ BDB å³å¯&lt;br&gt;å£è™•æ˜¯å…¶ä»–åœ°æ–¹çš„é‚è¼¯å¯èƒ½æœƒæ¯”è¼ƒé›£ä»¥ç†è§£ï¼Œéƒ½éœ€è¦é»é€² BDB æŸ¥çœ‹&lt;/li&gt;
&lt;li&gt;CatchF.js&lt;br&gt;è‡ªå®šç¾©çš„ log å·¥å…·ï¼Œæ”¹é€™è£¡å°±å¯ä»¥ä¸€æ¬¡æ›´æ”¹æ‰€æœ‰çš„ log style&lt;/li&gt;
&lt;li&gt;CronTask.js&lt;br&gt;è¨—ç®¡å¹³å°ç”¨åˆ°çš„å·¥å…·&lt;/li&gt;
&lt;li&gt;HealthCheck.js&lt;br&gt;åŒä¸Š&lt;/li&gt;
&lt;li&gt;alice.js&lt;br&gt;&lt;code&gt;npm start&lt;/code&gt; çš„åŸ·è¡Œæª”ï¼Œæ•˜è¿°äº†å•Ÿå‹•æ™‚æœƒåŸ·è¡Œçš„å…§å®¹&lt;/li&gt;
&lt;li&gt;slashManager&lt;br&gt;discord.js 13 ç‰ˆä»¥å¾Œæ–°å¢çš„æ–œç·šæŒ‡ä»¤ï¼ŒåŒ…å«å…¶è¨»å†Šèˆ‡ç›£è½çš„æ–¹æ³•éƒ½å¯«åœ¨é€™&lt;br&gt;commands å¯ä»¥çœ‹å‡ºé€™å€‹ bot ç›®å‰æœ‰å¤šå°‘æŒ‡ä»¤(æœ¬æ¬¡ç¯„ä¾‹ä¾†èªªæœ‰ &lt;code&gt;help&lt;/code&gt; è·Ÿ &lt;code&gt;m&lt;/code&gt; æŒ‡ä»¤)&lt;/li&gt;
&lt;li&gt;messageManager&lt;br&gt;å‚³çµ± bot å°æ–‡å­—è¨Šæ¯å›æ‡‰çš„ä¸»è¦è¡Œç‚ºï¼Œ&lt;code&gt;messageUpdate&lt;/code&gt; è¨Šæ¯æ›´æ–°è§¸ç™¼çš„è¡Œç‚ºä¹Ÿæ”¾åœ¨é€™&lt;/li&gt;
&lt;li&gt;selectMenuManager&lt;br&gt;èœå–®çµ„ä»¶ï¼Œcommands å¯ä»¥çœ‹å‡ºé€™å€‹ bot ç›®å‰æœ‰å¤šå°‘èœå–®çµ„ä»¶&lt;/li&gt;
&lt;li&gt;buttonManager&lt;br&gt;æŒ‰éˆ•çµ„ä»¶ï¼Œcommands å¯ä»¥çœ‹å‡ºé€™å€‹ bot ç›®å‰æœ‰å¤šå°‘æŒ‰éˆ•çµ„ä»¶&lt;/li&gt;
&lt;li&gt;embedManager&lt;br&gt;åµŒå…¥å¼è¨Šæ¯çµ„ä»¶ï¼Œ&lt;code&gt;@discordjs/builders&lt;/code&gt; æœ‰è‘— &lt;code&gt;EmbedBuilder&lt;/code&gt; é€™å€‹ embed ç”¢ç”Ÿå™¨&lt;br&gt;é¿å…å¾€å¾Œçš„æ›´æ–°è¦æ”¹ä¸€å †åœ°æ–¹ï¼Œåœ¨ BDB ä¸­è¢«ç¹¼æ‰¿å®Œæ‰çµ¦ embedManager ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;componentManager&lt;br&gt;çµ„ä»¶ç®¡ç†å™¨ï¼Œç•¶è¨Šæ¯éå–®ç´”çš„æ–‡å­—è¨Šæ¯ï¼Œæœ‰ä½¿ç”¨åˆ° èœå–® &amp;#x2F; æŒ‰éˆ• &amp;#x2F; åµŒå…¥è¨Šæ¯ ä»»ä¸€çµ„ä»¶æ™‚ï¼Œæœƒå¾é€™è£¡æ‹¿&lt;/li&gt;
&lt;li&gt;musicManager&lt;br&gt;éŸ³æ¨‚ç›¸é—œé‚è¼¯ï¼ŒmusicM è² è²¬å®šç¾©é‚è¼¯ï¼ŒmusicC å¯¦ä¾‹å¯¦éš›å…§å®¹ï¼Œèˆ‡ &lt;code&gt;play-dl&lt;/code&gt; ç­‰å¥—ä»¶äº’å‹•&lt;/li&gt;
&lt;li&gt;trpgManager&lt;br&gt;æ´¾å°ç³»çµ±ï¼Œç›®å‰åªæœƒéª°éª°å­ï¼Œè€Œä¸” code é‚„æ˜¯å¾èˆŠç‰ˆç›´æ¥æ¬éä¾†çš„..&lt;/li&gt;
&lt;li&gt;mykiritoManager&lt;br&gt;æ”»ç•¥çµ„ç³»çµ±ï¼Œæä¾› mykirito å¤§ç¾¤çš„è³‡è¨ŠæŸ¥è©¢ï¼Œé›–ç„¶å¾ˆä¹…æ²’æ›´æ–°ï¼Œä½†ä»ç„¶é‚„æœ‰äººåœ¨ä½¿ç”¨ï¼Œæ‰€ä»¥ä¹Ÿæ›´æ–°éä¾†äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/Mr-Smilin/AliceZero/tree/v14&#34;&gt;github é€£çµ&lt;/a&gt;&lt;/p&gt;
&lt;br&gt;

&lt;p&gt;ç¾åœ¨çš„æ¶æ§‹ç®—æ˜¯çµ‚æ–¼ç¢ºå®šä¸‹ä¾†ï¼Œä»¥å¾Œæœƒåœ¨é€™å€‹æ¶æ§‹ä¸Šç¹¼çºŒæ›´æ–°&lt;br&gt;ä¸éç•¢ç«Ÿæ˜¯ side project ï¼Œæ¶æ§‹ä¸­æœ‰äº›åœ°æ–¹æ•´ç†çš„æ¯”è¼ƒè‰ç‡&lt;br&gt;å¦‚æœä¹‹å¾Œå¯«æ•™å­¸ï¼Œæœƒé‡æ–°å¯«ä¸€å€‹ bot çš„&lt;/p&gt;
&lt;p&gt;çœ‹åˆ°é€™è£¡çš„æœ‹å‹ï¼Œå¦‚æœåœ¨å¯« bot ï¼Œä½†è‹¦æ–¼ä¸çŸ¥è©²å¦‚ä½•ä¸‹æ‰‹çš„è©±&lt;br&gt;é€™è£¡æ¨è–¦å¯ä»¥çœ‹çœ‹ &lt;a href=&#34;https://b-l-u-e-b-e-r-r-y.github.io/post/DiscordBot03/&#34;&gt;è—è“å¤§å¤§&lt;/a&gt; çš„æ–‡ç« &lt;br&gt;æ·ºé¡¯ä»¥æ‡‚ï¼Œæœ€å¾Œç”šè‡³æ˜¯çµ¦äº†ä¹¾è²¨ï¼Œå¯ä»¥ç›´æ¥è¼‰äº†æ‹¿å»ç”¨~&lt;/p&gt;
&lt;p&gt;æˆ–æ˜¯ä½¿ç”¨ &lt;a href=&#34;https://github.com/Mr-Smilin/BaseDiscordBot&#34;&gt;æˆ‘çš„ BDB&lt;/a&gt;&lt;br&gt;é™¤äº†åƒæ˜¯ mykirito é€™ç¨®æ¯”è¼ƒåé–€çš„åŠŸèƒ½ï¼Œå…¶ä»– alice æœƒçš„æŒ‡ä»¤éƒ½æœƒæ…¢æ…¢æ›´æ–°åœ¨ BDB å°ˆæ¡ˆä¸Šï¼Œå¯ä»¥è‡ªç”±å–ç”¨~&lt;/p&gt;
&lt;p&gt;æ„Ÿè¬çœ‹åˆ°é€™è£¡çš„ä½ ^^!&lt;/p&gt;
</content>
        <category term="node.js" />
        <category term="bot" />
        <category term="discord" />
        <category term="discord.js" />
        <updated>2023-06-01T12:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://smilin.net/2022/11/01/bdb3/</id>
        <title>BDBæ›´æ–°æ—¥èªŒ#3</title>
        <link rel="alternate" href="https://smilin.net/2022/11/01/bdb3/"/>
        <content type="html">&lt;h2 id=&#34;ä¸»è¦æ›´æ–°&#34;&gt;&lt;a href=&#34;#ä¸»è¦æ›´æ–°&#34; class=&#34;headerlink&#34; title=&#34;ä¸»è¦æ›´æ–°&#34;&gt;&lt;/a&gt;ä¸»è¦æ›´æ–°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;DiscordJSmySelf æ›´åç‚º BaseDiscordBot&lt;/li&gt;
&lt;li&gt;discord.js çš„æ‰€æœ‰åƒè€ƒéƒ½å¡é€² BaseDiscordBot&lt;/li&gt;
&lt;li&gt;æ–œç·š &amp;#x2F; é¸é … &amp;#x2F; æŒ‰éˆ• &amp;#x2F; èœå–® æ¡†æ¶å®Œæˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ¬¡è¦æ›´æ–°&#34;&gt;&lt;a href=&#34;#æ¬¡è¦æ›´æ–°&#34; class=&#34;headerlink&#34; title=&#34;æ¬¡è¦æ›´æ–°&#34;&gt;&lt;/a&gt;æ¬¡è¦æ›´æ–°&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;env æ›´æ–°&lt;/li&gt;
&lt;li&gt;readMe æ›´æ–°&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;github&#34;&gt;&lt;a href=&#34;#github&#34; class=&#34;headerlink&#34; title=&#34;github&#34;&gt;&lt;/a&gt;github&lt;/h3&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/Mr-Smilin/BaseDiscordBot/tree/v14.6.0&#34;&gt;github é é¢&lt;/a&gt;&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;hr&gt;
&lt;h2 id=&#34;ä¸€äº›è©±&#34;&gt;&lt;a href=&#34;#ä¸€äº›è©±&#34; class=&#34;headerlink&#34; title=&#34;ä¸€äº›è©±&#34;&gt;&lt;/a&gt;ä¸€äº›è©±&lt;/h2&gt;&lt;br&gt;
å—¨ï¼Œæ˜¨å¤©æ‰è¦‹é¢å‘¢  
æœ€è¿‘æ¯”è¼ƒé–’ï¼Œå¿½ç„¶å°±å¯ä»¥æ¯”è¼ƒå¸¸æ›´æ–°æ—¥èªŒäº†

&lt;p&gt;å…¶å¯¦åŸæœ¬æœ‰é»æ‡¶å¾—å¯«ï¼Œä½† BDB ç›®å‰çš„ç‹€æ…‹ï¼Œè·Ÿä¹‹å‰ç›¸æ¯”ç®—æ˜¯æœ‰äº†éå¸¸å¤§çš„æ”¹è®Š&lt;br&gt;æ‰€ä»¥å°±ç¨å¾®ç´€éŒ„ä¸€ä¸‹ï¼Œé›–ç„¶ã€å¤§æ¦‚ã€æ²’äººçœ‹å°±æ˜¯äº† xD ~~&lt;/p&gt;
&lt;br&gt;

&lt;hr&gt;
&lt;h3 id=&#34;ä¸»è¦æ›´æ–°èªªæ˜&#34;&gt;&lt;a href=&#34;#ä¸»è¦æ›´æ–°èªªæ˜&#34; class=&#34;headerlink&#34; title=&#34;ä¸»è¦æ›´æ–°èªªæ˜&#34;&gt;&lt;/a&gt;ä¸»è¦æ›´æ–°èªªæ˜&lt;/h3&gt;  &lt;br&gt;
é¦–å…ˆï¼Œæœ€é‡è¦çš„å°±æ˜¯ï¼ŒDBD çš„æ ¸å¿ƒæ–‡ä»¶åšäº†ä¸€æ¬¡æ›´åå•¦ ~~ &lt;br&gt; 
ç­†è€…å¯¦åœ¨æ˜¯å°å‘½åå¾ˆä¸åœ¨è¡Œï¼ŒåŸæœ¬çš„æƒ³æ³•å¾ˆå–®ç´”ï¼Œæƒ³å¯«ä¸€å¥—å±¬æ–¼æˆ‘çš„ç¿»è­¯æ–‡ä»¶  &lt;br&gt;
ç”¨ä¾†ç¿»è­¯ discord.js çš„ API ï¼Œé€™æ¨£ä»¥å¾Œ discord.js æ”¹ç‰ˆçš„æ™‚å€™ï¼Œå°±ä¸ç”¨å†æŠŠåŸæœ‰çš„é‚è¼¯æ‹†æ‰é‡çµ„äº†  
  &lt;br&gt;&lt;br&gt;
æ–°çš„åå­—èˆ‡å°ˆæ¡ˆç›¸åŒï¼Œä¹Ÿç®—æ˜¯é‡æ–°ç¢ºç«‹äº†æœ¬å°ˆæ¡ˆçš„æ–¹å‘ (å•ªå˜°å•ªå˜°~)  
  
  &lt;br&gt;
  
&lt;p&gt;é›–ç„¶èªçœŸçš„æœ‹å‹æ‡‰è©²æ—©å°±çœ‹å‡ºä¾†äº†ï¼Œå…¶å¯¦ç­†è€…çš„ç¨‹å¼æ°´å¹³ä¸¦ä¸æ€æ¨£å‘¢ï¼Œä¹Ÿé›£æ€ªæœƒç•¶å—è–ªéšç´šäº† (x)&lt;br&gt;ä¸éç­†è€…ä¹Ÿæ²’æœ‰å› æ­¤æ”¾æ£„ï¼Œç›®æ¨™ä¸€ç›´éƒ½æ˜¯åœ¨ç¨‹å¼çš„é“è·¯ä¸Šç£¨ç·´ï¼Œæ‰€ä»¥ç›¸è¼ƒæ–¼ä»¥å¾€ï¼Œå°ç¨‹å¼çš„ç†è§£é‚„æ˜¯æœ‰æé«˜çš„å–”&lt;/p&gt;
&lt;p&gt;é€™æ¬¡èŠ±äº†äº›æ™‚é–“æ•´ç†ï¼Œæ­£å¼å°‡æ‰€æœ‰èˆ‡ discord.js æœ‰é—œçš„ import éƒ½å¡å…¥ BDB å…§äº†&lt;br&gt;ä¹Ÿå°±æ˜¯ä»¥å¾Œä½¿ç”¨ BDBï¼Œå°±çœŸæ­£å¯ä»¥åšåˆ°æ›ä¸€å€‹æª”æ¡ˆ -&amp;gt; å‡ç´šå®Œç•¢ï¼Œçš„é€™ç¨®äº‹æƒ…äº† ~~&lt;br&gt;é›–ç„¶åªæ˜¯åˆè¡·ä¸€èˆ¬çš„äº‹æƒ…ï¼Œä¹Ÿæ˜¯æœ€è¿‘ç¨å¾®é–’ä¸‹ä¾†æ‰çµ‚æ–¼å¯ä»¥æ•´ç†å¥½å•Š..æ„Ÿè¦ºå¯©è¦–äº†ä¸€æ¬¡è‡ªå·±çš„ä½œæ¥­æ•ˆç‡é˜¿ (æ±—)&lt;/p&gt;
  &lt;br&gt;

&lt;p&gt;ä»¥åŠç›¸æ¯”å‰å…©å€‹æ¯”è¼ƒå°å’–ï¼Œä½†ä¹Ÿç®—æ˜¯ä¸»è¦æ›´æ–°çš„&lt;br&gt;discord.js 13 ç‰ˆå¼•å…¥ï¼Œ14 ç‰ˆæ”¹éä¸€æ¬¡å¯¦ä¾‹æ–¹å¼çš„å„ç¨®åŠŸèƒ½éƒ½åšå‡ºæ¡†æ¶äº†&lt;br&gt;é›–ç„¶æ²’èƒ½åœ¨ 13 ç‰ˆæ™‚å°±åšå‡ºä¾†æœ‰é»éºæ†¾ï¼Œä½†ç­†è€…å°ç›®å‰çš„æ¡†æ¶å¾ˆæœ‰è‡ªä¿¡ï¼Œç›¸ä¿¡ç­‰ 15 ç‰ˆå‡ºä¾†çš„æ™‚å€™ï¼Œé€™äº› code ä¹Ÿæœƒå¾ˆå®¹æ˜“ç¶­è­·å§ï¼&lt;/p&gt;
&lt;br&gt;

&lt;hr&gt;
&lt;h3 id=&#34;æ¬¡è¦æ›´æ–°èªªæ˜&#34;&gt;&lt;a href=&#34;#æ¬¡è¦æ›´æ–°èªªæ˜&#34; class=&#34;headerlink&#34; title=&#34;æ¬¡è¦æ›´æ–°èªªæ˜&#34;&gt;&lt;/a&gt;æ¬¡è¦æ›´æ–°èªªæ˜&lt;/h3&gt;  &lt;br&gt;
åœ¨envçš„éƒ¨åˆ†åŠ ä¸Šäº† `MASTER_ID`ï¼Œä¸¦æ²’æœ‰å¯¦éš›åŠŸèƒ½&lt;br&gt;    
æ›´å¤šæ˜¯ç”¨æ–¼ DEBUGï¼Œæˆ–æ˜¯å¾€å¾Œè¦é–‹ä¸€äº›åªæœ‰è‡ªå·±èƒ½ç”¨çš„é–‹ç™¼äººå“¡æŒ‡ä»¤æ™‚å¯ä»¥ä½¿ç”¨  
  
  &lt;br&gt;
  
&lt;p&gt;å› ç‚ºæ›´æ–°å…§å®¹çœ¾å¤šï¼Œ readMe ä¹Ÿåšäº†ä¸€æ¬¡æ›´æ–°ï¼Œæ”¹äº†ä¸å°‘ï¼Œä½†é‚„æ˜¯ç¼ºå¾ˆå¤šæ±è¥¿ï¼Œåªäº¤ä»£äº†æœ€åŸºæœ¬çš„å…§å®¹&lt;br&gt;ç•¢ç«Ÿä½¿ç”¨ BDB ç›¸ç•¶æ–¼é‡æ–°èªè­˜ä¸€ç¨® API ï¼Œæœªä¾†æƒ³é–‹ä¸€ä»½å°ˆå±¬æ–¼ BDB çš„æ–‡æª”&lt;br&gt;ä¸çŸ¥é“é‚„è¦å¤šä¹…å°±æ˜¯äº†ï¼Œè«‹å¤§å®¶ç­‰ç­‰æˆ‘å›‰ xD ~&lt;/p&gt;
&lt;br&gt;
</content>
        <category term="node.js" />
        <category term="bot" />
        <category term="discord" />
        <category term="discord.js" />
        <category term="æ•™å­¸" />
        <updated>2022-11-01T10:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://smilin.net/2022/10/31/bdb2/</id>
        <title>BDBæ›´æ–°æ—¥èªŒ#2 - discord.js v14.6.0</title>
        <link rel="alternate" href="https://smilin.net/2022/10/31/bdb2/"/>
        <content type="html">&lt;h2 id=&#34;ä¸»è¦æ›´æ–°&#34;&gt;&lt;a href=&#34;#ä¸»è¦æ›´æ–°&#34; class=&#34;headerlink&#34; title=&#34;ä¸»è¦æ›´æ–°&#34;&gt;&lt;/a&gt;ä¸»è¦æ›´æ–°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;å°‡å°ˆæ¡ˆé©é…åˆ° &lt;code&gt;discord.js&lt;/code&gt; v14.6.0 ç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;å…¨ç‰ˆæœ¬å°ˆæ¡ˆæ£„ç”¨ &lt;code&gt;auth.json&lt;/code&gt; ï¼Œæ”¹æˆ &lt;code&gt;.env&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ¬¡è¦æ›´æ–°&#34;&gt;&lt;a href=&#34;#æ¬¡è¦æ›´æ–°&#34; class=&#34;headerlink&#34; title=&#34;æ¬¡è¦æ›´æ–°&#34;&gt;&lt;/a&gt;æ¬¡è¦æ›´æ–°&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;message é‚è¼¯æ•´åˆ&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹éƒ¨åˆ†è¨»è§£&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;github&#34;&gt;&lt;a href=&#34;#github&#34; class=&#34;headerlink&#34; title=&#34;github&#34;&gt;&lt;/a&gt;github&lt;/h3&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/Mr-Smilin/BaseDiscordBot/tree/v14.6.0&#34;&gt;github é é¢&lt;/a&gt;&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;hr&gt;
&lt;h2 id=&#34;ä¸€äº›è©±&#34;&gt;&lt;a href=&#34;#ä¸€äº›è©±&#34; class=&#34;headerlink&#34; title=&#34;ä¸€äº›è©±&#34;&gt;&lt;/a&gt;ä¸€äº›è©±&lt;/h2&gt;&lt;p&gt;å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å¾®ç¬‘&lt;/p&gt;
&lt;p&gt;é€™æ¬¡ç‰ˆæœ¬æ›´æ–°ï¼Œåœ¨åŸºæœ¬æ¶æ§‹ä¸Šè·Ÿ 13 ä¸¦æ²’æœ‰å·®å¤ªå¤š&lt;br&gt;ä¸»è¦æ˜¯ä¿®æ”¹äº†ä¹‹å‰ code çš„ä¸€äº›æ¶æ§‹è¨­è¨ˆï¼Œè®“ä¸»é«”æ›´åŠ ç²¾ç°¡äº†ä¸€äº›ï¼Œä»¥åŠä½¿ç”¨æ›´åŠ æ­£è¦çš„æ–¹å¼å„²å­˜ç§å¯†æ•¸å€¼&lt;/p&gt;
&lt;p&gt;ä¹‹å¾Œå¦‚æœæ™‚é–“å…è¨±ï¼Œå¸Œæœ›å¯ä»¥å°‡è‡ªå·±çš„ bot æå‡åˆ° 14.6.0 çš„ç‰ˆæœ¬(12 é‡åˆ°çš„ bug è¶Šä¾†è¶Šå¤šäº†&lt;del&gt;)&lt;br&gt;å±†æ™‚æˆ–è¨±æœƒå†å°‡åŠŸèƒ½æ‹†åˆ†ï¼Œæ›´æ–°åˆ°é€™é‚Šå§ï¼Œä¸éå› ç‚ºå·²ç¶“çœŸé¹¿å¤ªå¤šæ¬¡äº†ï¼Œå·²ç¶“æœ‰é»ä¸å¥½æ„æ€çµ¦æ‰¿è«¾äº†ï¼Œå„ä½çœ‹çœ‹å°±å¥½å§ï¼Œå“ˆå“ˆå“ˆ&lt;/del&gt;&lt;/p&gt;
&lt;br&gt;

&lt;hr&gt;
&lt;h3 id=&#34;ä¸»è¦æ›´æ–°èªªæ˜&#34;&gt;&lt;a href=&#34;#ä¸»è¦æ›´æ–°èªªæ˜&#34; class=&#34;headerlink&#34; title=&#34;ä¸»è¦æ›´æ–°èªªæ˜&#34;&gt;&lt;/a&gt;ä¸»è¦æ›´æ–°èªªæ˜&lt;/h3&gt;&lt;p&gt;åŸæœ¬å°ˆæ¡ˆä½¿ç”¨ json åšåƒæ•¸ç®¡ç†&lt;br&gt;æœ€è¿‘ç­†è€…å› ç‚ºæ›äº†ä¸Šé›²å¹³å°ï¼Œé‡æ–°ç ”ç©¶äº†ä¸€æ¬¡ç›¸é—œè³‡æ–™ï¼Œé€™æ¬¡ç´¢æ€§å°‡ &lt;code&gt;auth.json&lt;/code&gt; æ£„ç”¨ï¼Œçµ±ä¸€æ”¹æˆ &lt;code&gt;.env&lt;/code&gt;&lt;br&gt;åˆ©ç”¨ &lt;code&gt;dotenv&lt;/code&gt; çš„æ•ˆæœï¼Œå°±å¯ä»¥ç”¨ &lt;code&gt;process.env.&lt;/code&gt; çš„æ–¹å¼è¼‰å…¥å„ç¨®ç’°å¢ƒåƒæ•¸äº†&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/yCrkWDD.png&#34; alt=&#34;å¼•å…¥dotenvï¼Œæ”¹ç”¨process.env.xxxä¾†å–å€¼&#34;&gt;&lt;/p&gt;
&lt;br&gt;

&lt;hr&gt;
&lt;h3 id=&#34;æ¬¡è¦æ›´æ–°èªªæ˜&#34;&gt;&lt;a href=&#34;#æ¬¡è¦æ›´æ–°èªªæ˜&#34; class=&#34;headerlink&#34; title=&#34;æ¬¡è¦æ›´æ–°èªªæ˜&#34;&gt;&lt;/a&gt;æ¬¡è¦æ›´æ–°èªªæ˜&lt;/h3&gt;&lt;p&gt;å¦å¤–æ¯”è¼ƒé‡è¦çš„ä¿®æ”¹ï¼Œå°±æ˜¯åŸæœ¬å°‡ message å…¥å£æ”¾åœ¨ä¸»ç¨‹åºï¼Œçœ‹èµ·ä¾†æŒºå¥‡æ€ªçš„ï¼Œå°±è·Ÿ &lt;code&gt;prefix.json&lt;/code&gt; ä¸€èµ·é‡æ–°çµ±åˆåˆ°ç¨ç«‹çš„åˆ†é¡äº†&lt;br&gt;ä»¥åŠåœ¨è¨»è§£ä¸Šï¼Œä¹Ÿé‡æ–°åšäº†ä¸€è¼ªèª¿æ•´ï¼Œè®“æ–‡ä»¶é–“çš„è¨»è§£å­˜åœ¨çµ±ä¸€æ€§ï¼Œç›¸å°ä¸æœƒå¤ªéé›œäº‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/0m0R3m4.png&#34; alt=&#34;prefix.jsonæ›´åï¼Œä¸¦ä¸”æ”¾å…¥messageManageræ¨¡çµ„å…§&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/c7brWXz.png&#34; alt=&#34;æŠŠmessageé‚è¼¯æ¬åˆ°ç¨ç«‹æ–‡ä»¶å…§ï¼Œä»¥åŠéƒ¨åˆ†è¨»è§£çµ±ä¸€&#34;&gt;&lt;/p&gt;
&lt;br&gt;
</content>
        <category term="node.js" />
        <category term="bot" />
        <category term="discord" />
        <category term="discord.js" />
        <category term="æ•™å­¸" />
        <updated>2022-10-31T10:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://smilin.net/2022/10/25/herokuToRender/</id>
        <title>å°‡å°ˆæ¡ˆå¾herokuè½‰åˆ°renderéç¨‹æ€è·¯</title>
        <link rel="alternate" href="https://smilin.net/2022/10/25/herokuToRender/"/>
        <content type="html">&lt;h2 id=&#34;å‰è¨€&#34;&gt;&lt;a href=&#34;#å‰è¨€&#34; class=&#34;headerlink&#34; title=&#34;å‰è¨€&#34;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å¾®ç¬‘&lt;/p&gt;
&lt;p&gt;ç¹¼ä¸Šæ¬¡ç™¼æ–‡éäº†ä¹å€‹æœˆäº†&lt;/p&gt;
&lt;p&gt;å¾ˆå¯æ€•å•Šï¼Œæ„Ÿè¦ºè‡ªå·±å¥½æ··ï¼Œå“ˆå“ˆå“ˆ&lt;/p&gt;
&lt;p&gt;ç–«æƒ…æœŸé–“ï¼Œé‡åˆ°äº†ä¸å°‘äº‹æƒ…ï¼Œæœ€è¿‘æ‰çµ‚æ–¼æœ‰ä¸€é»èª¿æ•´å›æ­£è»Œçš„æ„Ÿè¦º&lt;/p&gt;
&lt;p&gt;å‰›å¥½ Heroku ç™¼ç”Ÿäº†ä¸€äº›å•é¡Œï¼Œéœ€è¦æ¬ç§»ç¨‹åºåˆ°å…¶ä»–è¨—ç®¡å¹³å°ï¼Œé€™é‚Šé †ä¾¿ &lt;del&gt;æ°´ä¸€é»æ–‡ç« &lt;/del&gt;&lt;/p&gt;
&lt;br&gt;

&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;hr&gt;
&lt;h3 id=&#34;é—œæ–¼ç™¼ç”Ÿåœ¨-Heroku-ä¸Šçš„ä¸€äº›å•é¡Œ&#34;&gt;&lt;a href=&#34;#é—œæ–¼ç™¼ç”Ÿåœ¨-Heroku-ä¸Šçš„ä¸€äº›å•é¡Œ&#34; class=&#34;headerlink&#34; title=&#34;é—œæ–¼ç™¼ç”Ÿåœ¨ Heroku ä¸Šçš„ä¸€äº›å•é¡Œ&#34;&gt;&lt;/a&gt;é—œæ–¼ç™¼ç”Ÿåœ¨ Heroku ä¸Šçš„ä¸€äº›å•é¡Œ&lt;/h3&gt;&lt;p&gt;Heroku åœ¨10æœˆåˆæ™‚ï¼Œå¯„é€çµ¦äº†é–‹ç™¼è€…ä¸€å°ä¿¡&lt;/p&gt;
&lt;p&gt;è£¡é¢æåˆ°ï¼ŒHeroku å°‡æ–¼2022å¹´11æœˆ28è™Ÿä»¥å¾Œï¼Œå…¨é¢é—œé–‰å…è²»æ–¹æ¡ˆçš„ä¸»æ©Ÿ&lt;/p&gt;
&lt;p&gt;å¦‚æœç¹¼çºŒä½¿ç”¨ Heroku çš„è©±ï¼Œæ ¹æ“šç›®å‰å®šåƒ¹æ–¹æ¡ˆï¼Œä¸€å°è¨—ç®¡ä¸»æ©Ÿéœ€è¦è² æ“”ä¸€å€‹æœˆ 7 ç¾å…ƒçš„æˆæœ¬&lt;/p&gt;
&lt;p&gt;å°æ–¼å–®ç´”åœ¨å­¸ç¿’çš„å­¸ç”Ÿï¼Œåˆæˆ–æ˜¯æˆ‘é€™ç¨®ç¨‹åºç”¨æ„›ç™¼é›»æ²’æœ‰åˆ©ç›Šçš„è¡Œç‚ºï¼Œé¡¯ç„¶æ˜¯åè¶³çš„å™©è€—&lt;/p&gt;
&lt;p&gt;ä¹Ÿå› æ­¤ï¼ŒåŸæœ¬åœ¨ Heroku ä¸Šä½¿ç”¨å…è²»æ–¹æ¡ˆçš„ä½¿ç”¨è€…ï¼Œé–‹å§‹åˆ°è™•å°‹æ‰¾å¯ä»¥ç¹¼çºŒä½¿ç”¨çš„å¹³å°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/K3Pngg8.png&#34; alt=&#34;herokuå°‡æ–¼2022å¹´11æœˆ28è™Ÿä»¥å¾Œï¼Œå…¨é¢é—œé–‰å…è²»æ–¹æ¡ˆçš„ä¸»æ©Ÿ&#34;&gt;&lt;/p&gt;
&lt;br&gt;

&lt;hr&gt;
&lt;h3 id=&#34;å¤šæ¨£åŒ–çš„é¸æ“‡&#34;&gt;&lt;a href=&#34;#å¤šæ¨£åŒ–çš„é¸æ“‡&#34; class=&#34;headerlink&#34; title=&#34;å¤šæ¨£åŒ–çš„é¸æ“‡&#34;&gt;&lt;/a&gt;å¤šæ¨£åŒ–çš„é¸æ“‡&lt;/h3&gt;&lt;p&gt;å› æ‡‰ Heroku æ”¶è²»åŒ–çš„é–‹å§‹ï¼Œæœ‰è¨±å¤šå¹³å°é™¸çºŒæµ®ç¾åˆ°é–‹ç™¼è€…çš„çœ¼å‰ï¼Œå…¶ä¸­ç”šè‡³æœ‰ç¶²ç«™çš„æ¨™é¡Œæ˜¯ã€ŒMigrate from Heroku to Railwayã€&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œé™¤äº† Heroku ä»¥å¤–ä»æœ‰è¨±å¤šå¹³å°ç­‰å¾…è‘—é–‹ç™¼è€…ç™¼æ˜(Fly.io&amp;#x2F;Railway.app&amp;#x2F;GoogleCloudPlatform - CloudRunç­‰..)&lt;/p&gt;
&lt;p&gt;é›–ç„¶æ ¹æ“šå°ˆæ¡ˆä¸åŒï¼Œæ²’æœ‰æ‰€è¬‚æœ€å¥½çš„é¸æ“‡ï¼Œä¸éç­†è€…åœ¨å¤šæ¬¡å˜—è©¦å¾Œï¼Œæœ€å¾Œæ±ºå®šå°‡ç¨‹å¼æ¬é·åˆ° Render ä¸Š&lt;/p&gt;
&lt;br&gt;

&lt;hr&gt;
&lt;h3 id=&#34;render-com&#34;&gt;&lt;a href=&#34;#render-com&#34; class=&#34;headerlink&#34; title=&#34;render.com&#34;&gt;&lt;/a&gt;render.com&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/JqcraLM.png&#34; alt=&#34;render.com&#34;&gt;&lt;/p&gt;
&lt;br&gt;

&lt;p&gt;ç•¶åˆæ¬é·ä¸»æ©Ÿæ™‚ï¼Œæœ€çœ‹ä¸­çš„é»å°±æ˜¯å¸Œæœ›èƒ½ç›¡é‡ä¸ç”¨æ”¹å‹•åŸæœ¬çš„æ¶æ§‹ï¼Œå…è²»é¡åº¦è¶³å¤ &lt;/p&gt;
&lt;p&gt;Render ç›®å‰æœ‰è‘—æ¯æœˆ 750 å°æ™‚çš„å…è²»é¡åº¦ï¼Œåªé–‹ä¸€å°æ©Ÿå™¨çš„è©±ç­‰åŒå…è²»&lt;/p&gt;
&lt;p&gt;ä¸¦ä¸”ä»–æ”¯æ´å¾ GitHub &amp;#x2F; GitLab ç­‰é–‹æºå¹³å°å°ˆæ¡ˆéƒ¨ç½²çš„æ–¹å¼ï¼ŒåŠŸèƒ½å–®ä¸€è®“æµç¨‹ç°¡åŒ–&lt;/p&gt;
&lt;p&gt;é™¤äº†æ”¯æ´è¨±å¤šèªè¨€ç›´æ¥éƒ¨ç½²ï¼Œä¹Ÿæ”¯æ´ Docker æ˜ åƒæª”éƒ¨ç½²ï¼Œé€™å¹¾ä¹æ˜¯ç¾åœ¨ä¸»æµå¹³å°éƒ½æœ‰çš„åŠŸèƒ½äº†ã€‚&lt;/p&gt;
&lt;p&gt;é‚£å› ç‚ºç­†è€…çš„å°ˆæ¡ˆä½¿ç”¨ Node.jsï¼Œå‰›å¥½åœ¨ Render æ”¯æ´çš„èªè¨€åˆ—è¡¨å…§ï¼Œæ‰€ä»¥è¨­å®šå¥½ä¹‹å¾Œï¼Œå°‡å°ˆæ¡ˆæ¨åˆ° Githubï¼Œä»–å°±æœƒè‡ªå‹•åšéƒ¨ç½²è¡Œç‚ºäº†&lt;/p&gt;
&lt;br&gt;

&lt;hr&gt;
&lt;h3 id=&#34;éƒ¨ç½²æµç¨‹&#34;&gt;&lt;a href=&#34;#éƒ¨ç½²æµç¨‹&#34; class=&#34;headerlink&#34; title=&#34;éƒ¨ç½²æµç¨‹&#34;&gt;&lt;/a&gt;éƒ¨ç½²æµç¨‹&lt;/h3&gt;&lt;br&gt;

&lt;p&gt;ç¬¬ä¸€æ¬¡éƒ¨ç½²è‚¯å®šæœƒæ¯”è¼ƒéº»ç…©çš„&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘å€‘è¦å…ˆç”¨ Github å¸³è™Ÿç™»å…¥ Render è¨»å†Šå¸³è™Ÿï¼Œé€²ä¾†å¾Œä»–æœƒå…ˆå‘Šè¨´ä½ ï¼Œå…è²»æ–¹æ¡ˆå¦‚ä»¥ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/TFqJqEB.png&#34; alt=&#34;å…è²»æ–¹æ¡ˆ&#34;&gt;&lt;/p&gt;
&lt;br&gt;

&lt;p&gt;Render æä¾›è¨±å¤šæ–¹æ¡ˆï¼Œé€™é‚Šæˆ‘å€‘è¦æ‰¾åˆ° web services æ‰èƒ½ä½¿ç”¨å…è²»ä¸»æ©Ÿ&lt;/p&gt;
&lt;br&gt;

&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/JgEO1dE.png&#34; alt=&#34;Overview&#34;&gt;&lt;/p&gt;
&lt;br&gt;

&lt;p&gt;ä¹‹å¾Œå–å¾— Github æˆæ¬Š repositoryï¼Œå°±å¯ä»¥è¼‰å…¥å°ˆæ¡ˆï¼Œé¸æ“‡ä¸»æ©Ÿåœ°å€ï¼Œèªè¨€ç­‰è¨­ç½®&lt;/p&gt;
&lt;p&gt;æ¯”è¼ƒéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå› ç‚º Render çš„ web æ¯å€‹åŠå°æ™‚ç„¡äººè¨ªå•ï¼Œæœƒé€²å…¥ä¼‘çœ (è¨˜å¾— Heroku ä¹Ÿæœ‰é€™é¡è¨­å®š)&lt;/p&gt;
&lt;p&gt;éœ€è¦å†æ¬¡è¨ªå•ç¶²ç«™æ‰èƒ½è®“ä»–å–šé†’&lt;/p&gt;
&lt;p&gt;ä»¥ Node ä¾†èªªï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨ request è·Ÿ node-schedule ï¼Œå‘¼å«è‡ªå·±é˜²æ­¢é€²å…¥ç¡çœ çš„æ–¹å¼ï¼Œä¾†è®“çœŸæ­£éœ€è¦çš„ç¨‹åºèƒ½ä¸é–“æ–·é‹è¡Œ&lt;/p&gt;
&lt;br&gt;

&lt;hr&gt;
&lt;h3 id=&#34;env&#34;&gt;&lt;a href=&#34;#env&#34; class=&#34;headerlink&#34; title=&#34;env&#34;&gt;&lt;/a&gt;env&lt;/h3&gt;&lt;br&gt;

&lt;p&gt;ä»¥å‰åœ¨ Heroku ï¼Œå¦‚æœä¸é€é Github è‡ªå‹•éƒ¨ç½²ï¼Œè€Œæ˜¯ç”¨ Heroku Git çš„è©±ï¼Œæ˜¯å¯ä»¥ç›´æ¥å°‡è¼ƒç‚ºç§å¯†çš„ key ç­‰è³‡æ–™ï¼Œç›´æ¥æ˜ç¢¼ä¸Šå‚³ä¸Šå»çš„&lt;/p&gt;
&lt;p&gt;é›–ç„¶ä¸æ˜¯å¾ˆå¥½çš„åšæ³•ï¼Œä½†æ˜¯å°æ–¼ç§äººå°ˆæ¡ˆä¾†èªªï¼Œé€™çš„ç¢ºæ˜¯å€‹å¾ˆæ–¹ä¾¿çš„åšæ³•ï¼Œåªä¸Šå‚³åœ¨ Heroku ä¹Ÿæœ‰æ•ˆçš„ä¿éšœäº†ç¨‹åºçš„å®‰å…¨æ€§&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ Render åªæ¥å— Github é¡åƒéƒ¨ç½²ï¼Œç§å¯†çš„ key æ˜¯ç„¡è«–å¦‚ä½•éƒ½ä¸æœƒæ”¾åœ¨ Github ä¸Šçš„&lt;/p&gt;
&lt;p&gt;Render åœ¨ env çš„è¨­å®šä¸Šä¹Ÿæ˜¯ååˆ†æ–¹ä¾¿ï¼Œ&lt;a href=&#34;https://render.com/docs/configure-environment-variables&#34;&gt;å®˜æ–¹æµç¨‹å¯åƒè€ƒé€™ç¯‡æ–‡æª”&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/dvzYkqs.png&#34; alt=&#34;env&#34;&gt;&lt;/p&gt;
&lt;br&gt;

&lt;p&gt;å–®ä¸€çš„ key è¦æ”¾åœ¨ Environment Variables&lt;/p&gt;
&lt;p&gt;å¦‚æœåŸæœ¬å°±ç¿’æ…£ä½¿ç”¨ .env ç®¡ç†æ‰€æœ‰åƒæ•¸çš„è©±ï¼Œå¯ä»¥å°‡æª”æ¡ˆçš„å…§å®¹è¤‡è£½é€² Secret Files&lt;/p&gt;
&lt;p&gt;Render åœ¨ env æœ‰å€‹å¥½è™•æ˜¯ï¼Œä¸€èˆ¬å¹³å°è¨­ç½® env å¾Œï¼ŒåŸºæ–¼å®‰å…¨æ€§ï¼Œå¹³å°éƒ½ä¸æœƒè®“ä½¿ç”¨è€…åœ¨å‰å°å­˜å– env çš„çœŸå¯¦è³‡æ–™&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ Render å¯ä»¥ï¼Œè€Œä¸”é‚„å¯ä»¥ç›´æ¥ä¿®æ”¹å…§å®¹ï¼Œé›–ç„¶å¿…é ˆçŠ§ç‰²ä¸€äº›å®‰å…¨æ€§ï¼Œä½†é€™æ¨£ä¹Ÿæ–¹ä¾¿äº†é–‹ç™¼è€…å°å€¼çš„ç®¡ç†ï¼Œå°ç­†è€…ä¾†èªªæ˜¯åˆ©å¤§æ–¼å¼Š&lt;/p&gt;
&lt;br&gt;

&lt;hr&gt;
&lt;h3 id=&#34;çµèª&#34;&gt;&lt;a href=&#34;#çµèª&#34; class=&#34;headerlink&#34; title=&#34;çµèª&#34;&gt;&lt;/a&gt;çµèª&lt;/h3&gt;&lt;br&gt;

&lt;p&gt;ç­†è€…ç•¶åˆä½¿ç”¨ Herokuï¼Œæ˜¯å› ç‚ºæ¥è§¸äº† discord botï¼Œç‚ºæ­¤é‚„å¯«äº†éµäººè³½&lt;/p&gt;
&lt;p&gt;èªªé•·ä¸é•·èªªçŸ­ä¸çŸ­çš„å…©å¹´ï¼ŒHeroku å®£å‘Šæ”¶è²»åŒ–ï¼Œå°æ–¼ç­†è€…é€™æ¨£çš„ä½¿ç”¨è€…ä¾†èªªï¼Œå°±åƒæ˜¯ä¸€å€‹å¹³å°çš„é—œé–‰ä¸€èˆ¬&lt;/p&gt;
&lt;p&gt;é€™å…©å¹´å¾å¾Œç«¯æ‘¸åˆ°å‰ç«¯ï¼Œå†å¾å‰ç«¯å­¸å›å¾Œç«¯ï¼Œå› ç‚ºç–«æƒ…ä¹Ÿé‡åˆ°äº†ä¸å°‘äº‹æƒ…ï¼ŒåŸæœ¬è¦ºå¾—æ¬é·ä¸»æ©Ÿï¼Œå°æ–¼ç­†è€…é€™é»èƒ½åŠ›ä¾†èªªä¸€å®šæ˜¯ä¸€ä»¶è‰±é‰…çš„å·¥ç¨‹&lt;/p&gt;
&lt;p&gt;ä¸éåœ¨æ¬é·çš„éç¨‹ä¸­ï¼Œé‡æ–°æ‹¾èµ· Nodeï¼Œæ‘¸ç´¢å°ç­†è€…æœ€å¥½çš„å¹³å°æ™‚ï¼Œæ„Ÿå—åˆ°è¨±å¤šæ„‰å¿«ï¼Œæœ‰ä¸€ç¨® åŸä¾†æˆ‘é‚„æ˜¯èƒ½å¿«æ¨‚å¯« code é˜¿ï¼Œçš„æ„Ÿæƒ³&lt;/p&gt;
&lt;p&gt;æˆ‘æƒ³ sideProject å°±åƒæ˜¯é–‹ç™¼è€…å€‘å¿ƒéˆçš„ç¶ æ´²å§ï¼Œèƒ½å› ç‚ºé€™æ¬¡æ©Ÿæœƒï¼Œé‡æ–°æ¾†çŒä»–ï¼Œæˆ‘ä¹Ÿæ”¶ç©«é —è±ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://ithelp.ithome.com.tw/articles/10255630&#34;&gt;æ–‡æœ«é™„ä¸Šå»å¹´å…§éƒ¨å“¡å·¥è‡ªå·±å¯«çš„æ¨è–¦æ–‡&lt;/a&gt;&lt;/p&gt;
</content>
        <category term="node.js" />
        <category term="bot" />
        <category term="discord" />
        <category term="discord.js" />
        <category term="æ•™å­¸" />
        <category term="heroku" />
        <category term="render" />
        <category term="render.com" />
        <updated>2022-10-25T10:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://smilin.net/2022/01/17/bdb1/</id>
        <title>BDBæ›´æ–°æ—¥èªŒ#1</title>
        <link rel="alternate" href="https://smilin.net/2022/01/17/bdb1/"/>
        <content type="html">&lt;h2 id=&#34;ä¸»è¦æ›´æ–°&#34;&gt;&lt;a href=&#34;#ä¸»è¦æ›´æ–°&#34; class=&#34;headerlink&#34; title=&#34;ä¸»è¦æ›´æ–°&#34;&gt;&lt;/a&gt;ä¸»è¦æ›´æ–°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;bot å•Ÿå‹•æ™‚è‡ªå‹•è¨»å†Šæ–œç·šå‘½ä»¤&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ¬¡è¦æ›´æ–°&#34;&gt;&lt;a href=&#34;#æ¬¡è¦æ›´æ–°&#34; class=&#34;headerlink&#34; title=&#34;æ¬¡è¦æ›´æ–°&#34;&gt;&lt;/a&gt;æ¬¡è¦æ›´æ–°&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;æ–œç·šå‘½ä»¤ç›¸é—œé‚è¼¯èª¿æ•´&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹ js æª”å&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹éƒ¨åˆ†è¨»è§£&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;github&#34;&gt;&lt;a href=&#34;#github&#34; class=&#34;headerlink&#34; title=&#34;github&#34;&gt;&lt;/a&gt;github&lt;/h3&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/Mr-Smilin/BaseDiscordBot/tree/2e168a31c74994c18e276f8f4bf1ff67d74803c9&#34;&gt;github é é¢&lt;/a&gt;&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;br&gt;

&lt;hr&gt;
&lt;h2 id=&#34;ä¸€äº›è©±&#34;&gt;&lt;a href=&#34;#ä¸€äº›è©±&#34; class=&#34;headerlink&#34; title=&#34;ä¸€äº›è©±&#34;&gt;&lt;/a&gt;ä¸€äº›è©±&lt;/h2&gt;&lt;p&gt;å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å¾®ç¬‘&lt;/p&gt;
&lt;p&gt;ç¸½è¦ºå¾—å¾ˆä¹…æ²’ç™¼æ–‡ï¼Œè‡ªä¸Šæ¬¡ç°¡å–®ä»‹ç´¹ discord.js å‡ç‰ˆå¾Œæœ‰å››å€‹æœˆäº†â€¦&lt;/p&gt;
&lt;p&gt;èˆ‡ä»¥å¾€æ¸¾æ¸¾å™©å™©ä¸åŒï¼Œ&lt;br&gt;æ¶è¨­äº† blogã€æœ‰äº†å¯¦éš›çš„ç´€éŒ„å¾Œæ›´å¯ä»¥æ„Ÿè¦ºåˆ°è‡ªå·±å¿…éœ€åŠªåŠ›(é›–ç„¶å¹³å¸¸æ›´å¤šæ™‚é–“éƒ½åœ¨æ”¾é›» haha)&lt;/p&gt;
&lt;p&gt;åŸæœ¬æ–°å¹´å¾Œç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œå¸Œæœ›å¯ä»¥å¯«é»æƒ³èªªçš„è©±ï¼›&lt;br&gt;å¯ä¹‹å‰æ²’æœ‰ç›¸é—œç¶“é©—ï¼Œä¸€åˆ°çœŸçš„è¦å‹•ç­†æ™‚ç¸½æ˜¯ä¸çŸ¥é“è©²å¯«äº›ç”šéº¼ã€‚&lt;br&gt;çµæœå°±æ‹–åˆ°ç¾åœ¨äº†ï¼Œå¯¦åœ¨æ˜¯æœ‰é»æ…šæ„§(æŠ¹è‡‰&lt;/p&gt;
&lt;p&gt;é›–ç„¶ä¸æ˜¯ 2022 ç¬¬ä¸€ç¯‡ï¼Œç›¸é—œçš„é›œè«‡å°±ç•™å¾…æ—¥å¾Œå§~&lt;br&gt;é€™é‚Šåšç‚ºæ›´æ–°æ—¥èªŒï¼Œæœƒç›¡é‡ä»¥ä»‹ç´¹æ›´æ–°ç‚ºä¸»çš„ï¼Œæ©æ©ã€‚&lt;/p&gt;
&lt;br&gt;

&lt;hr&gt;
&lt;h3 id=&#34;ä¸»è¦æ›´æ–°èªªæ˜&#34;&gt;&lt;a href=&#34;#ä¸»è¦æ›´æ–°èªªæ˜&#34; class=&#34;headerlink&#34; title=&#34;ä¸»è¦æ›´æ–°èªªæ˜&#34;&gt;&lt;/a&gt;ä¸»è¦æ›´æ–°èªªæ˜&lt;/h3&gt;&lt;p&gt;æ•˜è¿°ä¸ŠæŒºå¥½æ‡‚çš„ï¼ŒBDB(BaseDiscordBot)åŸæœ¬ä¸¦ä¸æœƒåœ¨è¨»å†Šæ™‚è‡ªå‹•è·‘&lt;a href=&#34;https://discord.js.org/#/docs/discord.js/v13/class/GuildApplicationCommandManager&#34;&gt;æ–œç·šæŒ‡ä»¤&lt;/a&gt;ã€‚&lt;br&gt;åŸæœ¬çš„ code æœ‰é»å•é¡Œï¼Œé€™æ¬¡æ”¹äº†å¯«æ³•ï¼Œä¸¦ä¸”æ‹‰é€²äº†&lt;a href=&#34;https://discord.js.org/#/docs/discord.js/v13/class/Client?scrollTo=e-ready&#34;&gt;Client#ready&lt;/a&gt;äº‹ä»¶å…§ã€‚&lt;br&gt;ä»¥å¾ŒåŸ·è¡Œæ™‚ï¼Œå°±æœƒå°‡ bot æ‰€åœ¨çš„æ‰€æœ‰ç¾¤çµ„éƒ½è¨»å†Šä¸€æ¬¡æ–œç·šæŒ‡ä»¤&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/wFQPoia.png&#34; alt=&#34;ç§»é™¤è¨»è§£ï¼Œä¿®æ”¹å‚³å…¥çš„åƒæ•¸&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/J8d01FY.png&#34; alt=&#34;å¯¦éš›åœ¨readyå‘¼å«äº†InsertSlash&#34;&gt;&lt;/p&gt;
&lt;br&gt;

&lt;hr&gt;
&lt;h3 id=&#34;æ¬¡è¦æ›´æ–°èªªæ˜&#34;&gt;&lt;a href=&#34;#æ¬¡è¦æ›´æ–°èªªæ˜&#34; class=&#34;headerlink&#34; title=&#34;æ¬¡è¦æ›´æ–°èªªæ˜&#34;&gt;&lt;/a&gt;æ¬¡è¦æ›´æ–°èªªæ˜&lt;/h3&gt;&lt;p&gt;åŸæœ¬ BDB åœ¨å‡ç´šåˆ° discord.js 13 æ™‚ï¼Œç›®æ¨™è‘—é‡åœ¨ä¿å…¨ &lt;strong&gt;åŠŸèƒ½æ¨¡çµ„åŒ–&lt;/strong&gt; æ­¤ä¸€å„ªé»ä¸Šï¼Œ&lt;br&gt;æ–œç·šæŒ‡ä»¤çš„å…¼å®¹ï¼Œä¸¦æ²’æœ‰èŠ±è²»éå¤šçš„æ™‚é–“å»ç ”ç©¶ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤æ¬¡é™¤äº†ä¸»è¦æ›´æ–°ä¸­æåˆ°çš„å…§å®¹ï¼Œé‚„ä¿®æ”¹äº†æ–œç·šæŒ‡ä»¤è¢«è§¸ç™¼æ™‚çš„é‚è¼¯ï¼Œ&lt;br&gt;å°‡ reply ä¸€åŒå¯«åœ¨ json å…§ï¼Œä»¥åˆ©æ–¼å¾€å¾Œæ“´å……ã€‚&lt;/p&gt;
&lt;p&gt;æ”¹å‹•ç°¡æ˜“ï¼Œå„ªé»ä¹Ÿæ˜¯é¡¯è€Œæ˜“è¦‹çš„ï¼Œ&lt;br&gt;æœ‰æ•ˆé¿å…æ—¥å¾Œæ–œç·šæŒ‡ä»¤éå¤šï¼Œè¨»å†Šèˆ‡å›å‚³åˆ—è¡¨ä¸åŒæ­¥çš„é¢¨éšªã€‚&lt;/p&gt;
&lt;p&gt;åŸºæ–¼ &lt;strong&gt;åŠŸèƒ½æ¨¡çµ„åŒ–&lt;/strong&gt; è¨´æ±‚ï¼Œé‡å°é€™ä¸€å¡Šçš„ä¸‹ä¸€æ­¥å„ªåŒ–ï¼Œ&lt;br&gt;é è¨ˆæœƒæ˜¯åœ¨ç¨‹å¼ç¢¼ä¸Šåšå‡ºå­æ¯ json æª”æ¡ˆï¼›&lt;br&gt;å¯ä»¥æ ¹æ“šè¦ä½¿ç”¨çš„åŠŸèƒ½åˆ¥ï¼Œä¾†ç›´æ¥å¥—ç”¨å„å€‹åŠŸèƒ½å°æ‡‰çš„ jsonã€‚&lt;/p&gt;
&lt;br&gt;

&lt;hr&gt;
&lt;br&gt;

&lt;p&gt;åŸæœ¬ BDB çš„å•Ÿå‹•æª”å–ååš bot.jsï¼Œå› ç­†è€…è‡ªèº«å¯«çš„ botï¼Œæª”åéƒ½æ˜¯ alice(å¥³å…’)ã€‚&lt;br&gt;BDB ç•¢ç«Ÿä¹Ÿæ˜¯æˆ‘çš„å°ˆæ¡ˆï¼Œæ€éº¼å¯ä»¥æœ‰å·®åˆ¥å¾…é‡å‘¢(ä¸æ˜¯&lt;br&gt;ä¹¾è„†å°±ä¸€ä½µçµ±ä¸€æˆæ„›ç¨±äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–èª¿æ•´äº†ä¸€é»é»è¨»è§£ä¸Šçš„å½¢å®¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/l93RXrB.png&#34; alt=&#34;ä¿®æ”¹äº†æ–œç·šæŒ‡ä»¤ï¼Œä»¥å›å‚³é¡å‹æ±ºå®šé‚è¼¯&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/QOybZGB.png&#34; alt=&#34;èª¿æ•´å¾Œçš„slashJson&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/bvwPWkT.png&#34; alt=&#34;èª¿æ•´äº†è¨»è§£èˆ‡åŸ·è¡Œçš„jsName&#34;&gt;&lt;/p&gt;
</content>
        <category term="node.js" />
        <category term="bot" />
        <category term="discord" />
        <category term="discord.js" />
        <category term="æ•™å­¸" />
        <updated>2022-01-17T10:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://smilin.net/2021/09/27/aboutDiscordJs13/</id>
        <title>é—œæ–¼discord.jså‡ç´šè‡³13ç‰ˆæœ¬</title>
        <link rel="alternate" href="https://smilin.net/2021/09/27/aboutDiscordJs13/"/>
        <content type="html">&lt;p&gt;discord.js æ˜¯åŸºæ–¼ node.js ï¼Œæä¾›é–‹ç™¼äººå“¡æ¶è¨­ discord bot çš„ä¸€å¥— library&lt;/p&gt;
&lt;p&gt;åœ¨å»å¹´çš„é€™å€‹æœˆï¼Œæˆ‘å¯«äº†ä¸€ç¯‡é—œæ–¼&lt;a href=&#34;https://smilin.net/tags/12th%E9%90%B5%E4%BA%BA%E8%B3%BD/&#34;&gt;ä½¿ç”¨ discord.js æ¶è¨­ bot çš„æ•™å­¸æ–‡ç« &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è€Œåœ¨ä»Šå¹´çš„ 8 æœˆ 13 è™Ÿï¼Œ discord.js å¾ 12 ç‰ˆå‡è‡³ 13 ç‰ˆ&lt;/p&gt;
&lt;p&gt;æ­¤æ”¹å‹•å½±éŸ¿äº†ä¸å°‘åŠŸèƒ½ï¼Œè²æ˜äº†ä»¥ message äº‹ä»¶ç‚ºé¦–çš„è¨±å¤šåŠŸèƒ½å³å°‡é­åˆ°å»¢æ£„(ç›®å‰çš„ 13 ç‰ˆä»ç„¶å¯ç”¨)ï¼Œä¸”ä½¿ç”¨å‰å¿…é ˆå…ˆè¡Œå®£å‘Š partials èˆ‡ intents&lt;/p&gt;
&lt;p&gt;è‡³æ­¤ï¼Œä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„é–‹ç™¼è€…ï¼Œç†æ‰€ç•¶ç„¶çš„ç„¡æ³•åœ¨ç¶²è·¯ä¸Šæ‰¾åˆ°è¼ƒç‚ºå…¨é¢çš„æ•™å­¸ï¼Œå› ç‚º 13 ç‰ˆåœ¨ä¸€é–‹å§‹åˆå§‹åŒ–æ™‚çš„å¯«æ³•å°±èˆ‡ä»¥å¾€å¤§ç›¸é€•åº­&lt;/p&gt;
&lt;p&gt;é‡å°æ–¼ç¾æ³ï¼Œç¹¼çºŒä½¿ç”¨ 12 ç‰ˆ library ï¼Œåˆæˆ–æ˜¯è©¦è‘—è‡ªå·±æ‘¸ç´¢ 13 ç‰ˆçš„å¯«æ³•éƒ½ä¸å¤±ç‚ºä¸€ç¨®è¾¦æ³•&lt;/p&gt;
&lt;p&gt;å°æ­¤æˆ‘ä¹Ÿå¯«äº†ä¸€å€‹æ¨¡æ¿ï¼Œæä¾›æœ€åŸºç¤çš„å¥—ç”¨&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;hr&gt;
&lt;p&gt;æ­¤å°ˆæ¡ˆæœ€åˆçš„èµ·å› ï¼Œå‡ºè‡ªæ–¼ä¸æ–·é‡æ§‹ bot çš„éç¨‹&lt;/p&gt;
&lt;p&gt;è€ƒæ…®åˆ° library ç‰ˆæœ¬æ±°æ›çš„ä¸æ–¹ä¾¿ï¼Œæƒ³å°‡é‚è¼¯èˆ‡å‡½å¼åˆ†éš”ï¼Œä¸­é–“ç”¨è‡ªå·±çš„æ–¹æ³•é‡æ–°å®£å‘Š&lt;/p&gt;
&lt;p&gt;å¦‚æ­¤ï¼Œå¾€å¾Œ library çš„æ›´æ–°ï¼Œæˆ‘å€‘å¯ä»¥æœ€å¤§é™åº¦çš„åƒ…æ›´æ–°è‡ªèº«æä¾›çš„æ–¹æ³•å³å¯ï¼Œè€Œä¸ä¿®æ”¹é‚è¼¯&lt;/p&gt;
&lt;p&gt;æˆªæ­¢æ–¼æœ¬æ–‡ç‚ºæ­¢ï¼Œæ­¤åº«æä¾› 12.5.3 èˆ‡ 13.1.0 çš„æ¨¡æ¿ï¼Œå¯ä»¥ç›´æ¥è¼¸å…¥ bot key å¥—ç”¨&lt;/p&gt;
&lt;p&gt;ç”±æ–¼æ­¤æ¨¡æ¿åå‘åŸºç¤çš„é‡æ§‹ï¼Œç›®å‰å°šæœªæ·»åŠ é¡å¤–çš„åŠŸèƒ½&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œæ­¤æ¨¡æ¿é©åˆçµ¦&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸæœ¬å°±å° discord.js æœ‰ä¸€å®šäº†è§£çš„äºº&lt;/li&gt;
&lt;li&gt;é‡å°é‡æ§‹çš„æ–¹æ³•æ²’æœ‰é ­ç·’ï¼ŒåŒæ™‚åˆå¸Œæœ›å¯ä»¥è§£æ±ºç‰ˆæœ¬æ±°æ›å•é¡Œçš„ä½¿ç”¨è€…&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¼ƒä¸é©åˆæ–¼&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸæœ¬å° discord.js è¼ƒä¸ç†Ÿæ‚‰çš„äºº&lt;/li&gt;
&lt;li&gt;å¸Œæœ›å•Ÿå‹•å¾Œå¯ä»¥ç«‹å³å¯¦ç¾å¤šç¨®åŠŸèƒ½çš„äºº&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸éï¼Œé—œæ–¼åŠŸèƒ½çš„éƒ¨åˆ†ï¼Œç›®å‰ä¹Ÿæœ‰è¨ˆç•«é–‹ç™¼ï¼›&lt;br&gt;è«¸å¦‚åŸºæœ¬æŒ‡ä»¤ï¼ŒéŸ³æ¨‚ç³»çµ±ç­‰åŠŸèƒ½ï¼Œæœªä¾†é è¨ˆæœƒä»¥æ’ä»¶çš„å½¢å¼ï¼Œå¦å¤–æ”¾åœ¨å…¶ä»– project ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/Mr-Smilin/BaseDiscordBot&#34;&gt;Git&lt;/a&gt;&lt;/p&gt;
</content>
        <category term="node.js" />
        <category term="bot" />
        <category term="discord" />
        <category term="discord.js" />
        <updated>2021-09-27T05:47:20.000Z</updated>
    </entry>
    <entry>
        <id>https://smilin.net/2020/09/30/12thDayEnd/</id>
        <title>æ²‰æ²‰å…¥ç¡çš„å›æ†¶å°å§ï¼ŒåŒ†åŒ†æšå¸†çš„æ™‚é–“å…ˆç”Ÿ</title>
        <link rel="alternate" href="https://smilin.net/2020/09/30/12thDayEnd/"/>
        <content type="html">&lt;p&gt;æœ€åˆçœ‹åˆ°éµäººè³½æ˜¯å¤§å­¸äºŒå¹´ç´šçš„æ™‚å€™ï¼Œè·é›¢ç¾åœ¨ä¹Ÿå°±å…©å¹´ï¼Œå…¶å¯¦é‚„æŒºçŸ­çš„&lt;/p&gt;
&lt;p&gt;å› ç‚ºæ—©æ—©ç‚ºå°ˆé¡Œåšæº–å‚™â€¦éœ€è¦æŸ¥è³‡æ–™ï¼Ÿé€ è¨ªäº†é€™å€‹åœ°æ–¹&lt;/p&gt;
&lt;p&gt;ç•¶æ™‚æƒ³éƒ½æ²’æƒ³éè‡ªå·±æœƒå¯«éµäººè³½(ç¬‘&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;hr&gt;
&lt;p&gt;éƒ½èªªå¤§å­¸çš„äººç”Ÿæ˜¯æœ€å¤šé‡‡å¤šå§¿çš„&lt;/p&gt;
&lt;p&gt;ä¸­é–“é‡åˆ°äº†è¨±å¤šäº‹æƒ…&lt;/p&gt;
&lt;p&gt;æ™‚å¸¸ç‚ºäº†å°ˆé¡Œç•™æ ¡&lt;/p&gt;
&lt;p&gt;é‡åˆ°å¯ä»¥ä¸€èµ·åŠªåŠ›çš„äºº&lt;/p&gt;
&lt;p&gt;å¶è€Œä¸€èµ·åƒåˆé¤&lt;/p&gt;
&lt;p&gt;æ¯å¤©éƒ½æ„Ÿåˆ°å……å¯¦&lt;/p&gt;
&lt;p&gt;é›–ç„¶ä¸å…¨æ˜¯å¿«æ¨‚çš„äº‹æƒ…&lt;/p&gt;
&lt;p&gt;æœ‰è¨±å¤šå¯¶è²´çš„å›æ†¶å‘€&lt;/p&gt;
&lt;p&gt;æƒ³å¿…æœ‰æ›´å¤šæœ‰è¶£çš„äº‹æƒ…æ²’æœ‰å»æŒ–æ˜&lt;/p&gt;
&lt;p&gt;æœ‰æ›´å¤šçš„æ—¥å­å¯ä»¥å»æ®éœ&lt;/p&gt;
&lt;p&gt;ä¸éä¹Ÿç•¢æ¥­äº†&lt;/p&gt;
&lt;p&gt;ä¹Ÿæœ‰è¨±å¤šäº‹æ˜¯å·²ç¶“éŒ¯éçš„&lt;/p&gt;
&lt;p&gt;ä¸æœƒæœ‰æ©Ÿæœƒå†å»å˜—è©¦äº†&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æœ€åˆåƒåŠ éµäººè³½çš„å¥‘æ©Ÿï¼Œè¡¨é¢ä¸Šæ˜¯æƒ³åˆ†äº«æ©Ÿå™¨äººçš„å¯«æ³•ï¼Œæƒ³å¢åŠ è‡ªå·±å±¥æ­·ä¸Šçš„è«‡è³‡&lt;/p&gt;
&lt;p&gt;ç¾åœ¨æƒ³ä¾†ï¼Œåªæ˜¯å¸Œæœ›å¯ä»¥å˜—è©¦æ›´å¤šäº‹æƒ…å§&lt;/p&gt;
&lt;p&gt;æƒ³è‘—ä¹Ÿè¨±é€™æ¨£å­åšï¼Œæˆ‘ä¹Ÿæœƒæœ‰ç”šéº¼æ”¹è®Š&lt;/p&gt;
&lt;p&gt;é›–ç„¶åˆ°å¾Œä¾†ï¼Œéµäººè³½çœŸçš„è®“æˆ‘æ„Ÿè¦ºè »è¾›è‹¦çš„&lt;/p&gt;
&lt;p&gt;æ™‚å¸¸è¦ºå¾—ï¼Œåæ­£ä¹Ÿä¸æœƒæœ‰äººä¾†çœ‹æˆ‘çš„æ–‡ç« &lt;/p&gt;
&lt;p&gt;ä¸¦ä¸æ˜¯èªªä¸åŠªåŠ›ï¼Œæˆ‘èŠ±äº†å¾ˆå¤šæ™‚é–“ä¾†æƒ³è¦æ•™ç”šéº¼æ‰å¥½&lt;/p&gt;
&lt;p&gt;ä½†å°±åƒè‡ªæš´è‡ªæ£„ä¸€èˆ¬çš„å¯«èµ·æµæ°´å¸³äº†&lt;/p&gt;
&lt;p&gt;ååˆ†æŠ±æ­‰&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é‚£éº¼ï¼Œæ™‚é–“ä¹Ÿå·®ä¸å¤šåˆ°äº†&lt;/p&gt;
&lt;p&gt;æœ‰è¨±å¤šäº‹æƒ…éƒ½é‚„æ²’åš&lt;/p&gt;
&lt;p&gt;æœ‰å¾—å¿…æœ‰å¤±ï¼Œæƒ³å¿…ä¹‹å¾Œä¹Ÿæœƒç¹¼çºŒéè‘—å¾—ä¸€å¤±ä¸€çš„æ—¥å­å§&lt;/p&gt;
&lt;p&gt;å„˜ç®¡å¦‚æ­¤ï¼Œæˆ‘ä¹ŸæœƒåŠªåŠ›çš„&lt;/p&gt;
&lt;p&gt;å› ç‚ºæƒ³è®Šå¾—æ¯”ç¾åœ¨æ›´å¥½ã€‚&lt;/p&gt;
</content>
        <category term="node.js" />
        <category term="bot" />
        <category term="discord" />
        <category term="discord.js" />
        <category term="12théµäººè³½" />
        <category term="æ—¥è¨˜" />
        <updated>2020-09-30T02:20:37.000Z</updated>
    </entry>
    <entry>
        <id>https://smilin.net/2020/09/30/12thDay30/</id>
        <title>Day30 - tagæ§ç®¡æ©Ÿåˆ¶(4)</title>
        <link rel="alternate" href="https://smilin.net/2020/09/30/12thDay30/"/>
        <content type="html">&lt;p&gt;ä»Šå¤©æŠŠtagçš„æœ€å¾Œä¸€ä»¶äº‹åšå®Œ&lt;/p&gt;
&lt;p&gt;å°‡ä½¿ç”¨è€…å¾æŒ‡å®šæ¬Šé™çµ„ç§»é™¤&lt;br&gt;å°‡æŒ‡å®šæ¬Šé™çµ„ç§»é™¤&lt;/p&gt;
&lt;p&gt;åœ¨tagå…¥å£æ–°å¢Deleteæ–¹æ³•&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/7Y2m2Rl.png&#34; alt=&#34;30-1&#34;&gt;&lt;/p&gt;
&lt;p&gt;å‰µå»ºå¯¦ä¾‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/78vy8E8.png&#34; alt=&#34;30-2&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//å¾æ¬Šé™çµ„ä¸­åˆªé™¤ä½¿ç”¨è€… OR åˆªé™¤æ¬Šé™çµ„
function DeleteTag(msg) &amp;#123;
    try &amp;#123;
        if (DoUserID === &amp;#39;&amp;#39;) &amp;#123;
            tempIsAdmin = CheckID(msg, null, msg.author.id, function(msg, cmd, haveUserData) &amp;#123;
                if (haveUserData.IsAdmin) return true;
                else return false;
            &amp;#125;);
            if (tempIsAdmin) &amp;#123;
                nowDoFunction = DeleteTagNow;
                DoUserID = msg.author.id;
                DoData = new Array;
                msg.channel.send(&amp;#39;è«‹å•è¦ç·¨è¼¯ä½¿ç”¨è€…æ¬Šé™é‚„æ˜¯æ¬Šé™çµ„?\n1 ä½¿ç”¨è€…æ¬Šé™ / 2 æ¬Šé™çµ„&amp;#39;);
            &amp;#125; else &amp;#123;
                msg.channel.send(&amp;#39;æ­¤æŒ‡ä»¤åªæœ‰ç®¡ç†å“¡å¯åŸ·è¡Œ&amp;#39;);
            &amp;#125;
        &amp;#125; else &amp;#123;
            msg.channel.send(&amp;#39;æœ‰å…¶ä»–äººæ­£åœ¨ä½¿ç”¨çºŒè¡Œä¸­ï¼Œè«‹ç¨ç­‰&amp;#39;);
        &amp;#125;
    &amp;#125; catch (err) &amp;#123;
        console.log(&amp;#39;DeleteTagError&amp;#39;, err);
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å‰µå»ºçºŒè¡Œå¯¦ä¾‹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//å¾æ¬Šé™çµ„ä¸­åˆªé™¤ä½¿ç”¨è€… OR åˆªé™¤æ¬Šé™çµ„(çºŒè¡Œ)
function DeleteTagNow(msg) &amp;#123;
    try &amp;#123;
        switch (DoingCount) &amp;#123;
            case 0:
                switch (msg.content) &amp;#123;
                    case &amp;#39;1&amp;#39;:
                        msg.channel.send(&amp;#39;è«‹è¼¸å…¥è¦ç·¨è¼¯çš„ä½¿ç”¨è€…ID&amp;#39;);
                        break;
                    case &amp;#39;2&amp;#39;:
                        DoingCount = 10;
                        msg.channel.send(&amp;#39;è«‹è¼¸å…¥è¦ç·¨è¼¯çš„æ¬Šé™çµ„&amp;#39;);
                        break;
                    default:
                        DoingCount--;
                        msg.channel.send(&amp;#39;ç„¡æ³•è¾¨è­˜è¨Šæ¯ï¼Œè«‹è¼¸å…¥1/2ä¾†é¸æ“‡&amp;#39;);
                        break;
                &amp;#125;
                break;
            case 1:
                if (msg.content == &amp;#39;N&amp;#39;) &amp;#123;
                    CloseAllDoingFunction();
                    msg.channel.send(&amp;#39;æŒ‡ä»¤é—œé–‰&amp;#39;);
                &amp;#125; else &amp;#123;
                    if (CheckID(msg, null, msg.content, (msg, cmd, haveUserData) =&amp;gt; &amp;#123; return haveUserData &amp;#125;)) &amp;#123;
                        DoData.push(msg.content); //userID
                        DoData.push(msg.author.id); //userName
                        msg.channel.send(&amp;#39;è«‹è¼¸å…¥è¦åˆªé™¤çš„ç¾¤çµ„æ¬Šé™&amp;#39;);
                    &amp;#125; else &amp;#123;
                        DoingCount--;
                        msg.channel.send(&amp;#39;æ­¤ç”¨æˆ¶ä¸å­˜åœ¨è³‡æ–™ï¼Œè«‹ç¢ºèªï¼Œå¦‚æœè¦é—œé–‰æŒ‡ä»¤è«‹è¼¸å…¥ N&amp;#39;);
                    &amp;#125;
                &amp;#125;
                break;
            case 2:
                DoData.push(msg.content); // Power
                DoData.push(false); // IsAdmin
                msg.channel.send(`ç”³è«‹è³‡æ–™å¦‚ä¸‹:\nç”³è«‹äºº &amp;lt;@$&amp;#123;msg.author.id&amp;#125;&amp;gt;\nä½¿ç”¨è€… &amp;lt;@$&amp;#123;DoData[0]&amp;#125;&amp;gt;\nåˆªé™¤æ¬Šé™çµ„ $&amp;#123;DoData[2]&amp;#125;\næ­£ç¢º Y / éŒ¯èª¤ N`);
                break;
            case 3:
                if (msg.content === &amp;#39;Y&amp;#39;) &amp;#123;
                    msg.channel.send(&amp;#39;å·²ç¢ºèªï¼Œè¼¸å…¥è³‡æ–™ä¸­...&amp;#39;);
                    //èˆ‡èˆŠè³‡æ–™æ¯”å°ï¼Œå·²æœ‰æ­¤äººè³‡æ–™è®Šé€²è¡Œæ›´æ–°
                    CheckID(msg, null, DoData[0], DeleteOldUserPower);
                    GetGas.postUserPower(DoData, function(dataED) &amp;#123;
                        if (dataED) &amp;#123;
                            //botå…§è®Šæ•¸ä¸æœƒæ›´æ–°ï¼Œæ‰‹å‹•æ›´æ–°
                            UserPowerData.unshift(&amp;#123;
                                &amp;#39;userID&amp;#39;: DoData[0],
                                &amp;#39;userName&amp;#39;: DoData[1],
                                &amp;#39;Joins&amp;#39;: DoData[2],
                                &amp;#39;IsAdmin&amp;#39;: DoData[3]
                            &amp;#125;);
                            msg.channel.send(&amp;#39;è¼¸å…¥å®Œç•¢!&amp;#39;);
                        &amp;#125; else &amp;#123;
                            msg.channel.send(&amp;#39;è³‡æ–™è¼¸å…¥å¤±æ•—ï¼Œè«‹é‡æ–°å˜—è©¦&amp;#39;);
                        &amp;#125;
                        CloseAllDoingFunction();
                    &amp;#125;);
                &amp;#125; else if (msg.content === &amp;#39;N&amp;#39;) &amp;#123;
                    CloseAllDoingFunction();
                    msg.channel.send(&amp;#39;å·²å–æ¶ˆè¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤&amp;#39;)
                &amp;#125; else &amp;#123;
                    DoingCount--;
                    msg.channel.send(&amp;#39;ç„¡æ³•è¾¨è­˜è¨Šæ¯ï¼Œè«‹è¼¸å…¥Y/Nä¾†é¸æ“‡&amp;#39;);
                &amp;#125;
                break;
            case 11:
                DoData.push(msg.content); //èº«åˆ†çµ„ID
                DoData.push(&amp;#39;2&amp;#39;); //type 2
                DoData.push(&amp;#39;&amp;#39;);
                msg.channel.send(`ç”³è«‹è³‡æ–™å¦‚ä¸‹:\nç”³è«‹äºº &amp;lt;@$&amp;#123;msg.author.id&amp;#125;&amp;gt;\nåˆªé™¤æ¬Šé™çµ„ $&amp;#123;DoData[0]&amp;#125;\næ­£ç¢º Y / éŒ¯èª¤ N`);
                break;
            case 12:
                if (msg.content === &amp;#39;Y&amp;#39;) &amp;#123;
                    msg.channel.send(&amp;#39;å·²ç¢ºèªï¼Œè¼¸å…¥è³‡æ–™ä¸­...&amp;#39;);
                    //èˆ‡èˆŠè³‡æ–™æ¯”å°ï¼Œæ²’æœ‰æ­¤èº«åˆ†çµ„è³‡æ–™æ¸…é™¤
                    DeleteOldPartyPower();
                    if (DoData[0] != &amp;#39;&amp;#39;) &amp;#123;
                        GetGas.postPartyPower(DoData, function(dataED) &amp;#123;
                            if (dataED) &amp;#123;
                                //botå…§è®Šæ•¸ä¸æœƒæ›´æ–°ï¼Œæ‰‹å‹•æ›´æ–°
                                PartyPowerData.unshift(&amp;#123;
                                    &amp;#39;ID&amp;#39;: DoData[0],
                                    &amp;#39;type&amp;#39;: DoData[1],
                                    &amp;#39;Power&amp;#39;: DoData[2]
                                &amp;#125;);
                                msg.channel.send(&amp;#39;è¼¸å…¥å®Œç•¢!&amp;#39;);
                            &amp;#125; else &amp;#123;
                                msg.channel.send(&amp;#39;è³‡æ–™è¼¸å…¥å¤±æ•—ï¼Œè«‹é‡æ–°å˜—è©¦&amp;#39;);
                            &amp;#125;
                            CloseAllDoingFunction();
                        &amp;#125;);
                    &amp;#125; else &amp;#123;
                        msg.channel.send(&amp;#39;è¼¸å…¥å®Œç•¢!&amp;#39;);
                        CloseAllDoingFunction();
                    &amp;#125;
                &amp;#125; else if (msg.content === &amp;#39;N&amp;#39;) &amp;#123;
                    CloseAllDoingFunction();
                    msg.channel.send(&amp;#39;å·²å–æ¶ˆè¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤&amp;#39;)
                &amp;#125; else &amp;#123;
                    DoingCount--;
                    msg.channel.send(&amp;#39;ç„¡æ³•è¾¨è­˜è¨Šæ¯ï¼Œè«‹è¼¸å…¥Y/Nä¾†é¸æ“‡&amp;#39;);
                &amp;#125;
                break;
        &amp;#125;
        if (DoUserID !== &amp;#39;&amp;#39;) DoingCount++;
    &amp;#125; catch (err) &amp;#123;
        CloseAllDoingFunction();
        client.channels.fetch(msg.channel.id).then(channel =&amp;gt; channel.send(&amp;#39;ç™¼ç”Ÿæ„å¤–éŒ¯èª¤ï¼Œä¸­æ–·æŒ‡ä»¤è¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤!&amp;#39;))
        console.log(&amp;#39;DeleteTagNowError&amp;#39;, err);
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å‰µå»ºåˆªé™¤é¡æ–¹æ³•&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/QZUmmzj.png&#34; alt=&#34;30-3&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//ç”¨æˆ¶èˆŠè³‡æ–™æ›´æ–°
function DeleteOldUserPower(msg, cmd, haveUserData) &amp;#123;
    //äºŒæ¬¡ç¢ºèª
    if (haveUserData) &amp;#123;
        if (DoData[0] == haveUserData.userID) &amp;#123;
            let str = haveUserData.Joins;
            DoData[2] = str.toString().replace(DoData[2], &amp;#39;&amp;#39;);
            DoData[3] = haveUserData.IsAdmin;
            return true;
        &amp;#125; else return false;
    &amp;#125; else return false;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/6x3lpht.png&#34; alt=&#34;30-4&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//æ¬Šé™çµ„èˆŠè³‡æ–™æ›´æ–°
function DeleteOldPartyPower() &amp;#123;
    if (PartyPowerData) &amp;#123;
        const tempPartyData = PartyPowerData.find(element =&amp;gt; &amp;#123;
            return element.ID == DoData[0];
        &amp;#125;)

        if (tempPartyData == undefined) &amp;#123;
            DoData[0] = &amp;#39;&amp;#39;;
            DoData[1] = &amp;#39;&amp;#39;;
            DoData[2] = &amp;#39;&amp;#39;;
        &amp;#125;
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é‹è¡Œçœ‹çœ‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/QrQC5iq.png&#34; alt=&#34;30-5&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/vbEQ8EO.png&#34; alt=&#34;30-6&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/q9MDunU.png&#34; alt=&#34;30-7&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/RUpxxCl.png&#34; alt=&#34;30-8&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆåŠŸ&lt;/p&gt;
&lt;p&gt;åˆ°æ­¤ï¼Œç•ªå¤–çš„éƒ¨åˆ†ä¹Ÿèªªå®Œäº†&lt;/p&gt;
&lt;p&gt;èˆ‡åŸºæœ¬çš„å…§å®¹ä¸åŒï¼Œå¤šèªªäº†postçš„APIï¼Œä»¥åŠç¨‹å¼ç¢¼çš„éƒ¨ä»½ç›¸å°è¤‡é›œ&lt;br&gt;ä¸”æ¯”èµ·å‰é¢çš„ç¯‡å¹…ï¼Œå¾ŒçºŒçš„æ–‡ç« å¤§å¤šéƒ½æ˜¯ç›´æ¥è²¼äº†ç¨‹å¼ç¢¼çš„é †åºï¼Œå¾ˆå°‘è¬›è§£&lt;/p&gt;
&lt;p&gt;æƒ³å¿…è®€èµ·ä¾†ååˆ†è‰±æ¾€å§?èƒ½è®€åˆ°é€™è£¡çš„ä½ æ˜¯ååˆ†äº†ä¸èµ·çš„ï¼Œæ­å–œä½ çœ‹å®Œäº†é€™ç¯‡æ–‡ç« &lt;/p&gt;
&lt;p&gt;å„˜ç®¡å¦‚æ­¤ï¼Œé€™æ”¯ç¨‹å¼ä»ç„¶æ˜¯ä¸æˆç†Ÿçš„ï¼Œç­†è€…å°æ¯å€‹åŠŸèƒ½ç›¡é‡éƒ½åªæ˜¯é»åˆ°ç‚ºæ­¢ï¼Œå¸Œæœ›èƒ½æŠŠå¤§éƒ¨ä»½çš„æ‡‰ç”¨éƒ½å¸¶åˆ°ï¼Œå¾Œé¢ä¾¿æ˜¯è¦é å„ä½è®€è€…&lt;br&gt;æ ¹æ“šè‡ªå·±é‡åˆ°çš„éœ€æ±‚ï¼Œä¾†æ”¹å–„åŠ å¼·ä»–å§ï¼Œç›¸ä¿¡åªè¦åŠªåŠ›å …æŒï¼Œå®Œæˆå¾Œçš„æ©Ÿå™¨äººä¸€å®šæœƒå¸¶çµ¦å„ä½ç¨‹å¼èƒ½åŠ›ä¸Šçš„æå‡çš„&lt;/p&gt;
&lt;p&gt;é‚£éº¼ï¼Œç”¨Node.jsè£½ä½œå¾Œå°é›¶è² æ“”çš„DiscordBotåˆ°æ­¤çµæŸ&lt;br&gt;ç¥å„ä½ä¸­ç§‹ä½³ç¯€æ„‰å¿«&lt;/p&gt;
&lt;p&gt;åº•ä¸‹é™„ä¸Šå®Œæ•´çš„bot.jsï¼Œä¾›åƒè€ƒ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//#region å…¨åŸŸè®Šæ•¸
const Discord = require(&amp;#39;discord.js&amp;#39;);
const client = new Discord.Client();
const ytdl = require(&amp;#39;ytdl-core&amp;#39;);
const ytpl = require(&amp;#39;ytpl&amp;#39;);
const auth = require(&amp;#39;./JSONHome/auth.json&amp;#39;);
const prefix = require(&amp;#39;./JSONHome/prefix.json&amp;#39;);
const GetGas = require(&amp;#39;./Script/GetGas.js&amp;#39;);
const shup = require(&amp;#39;./JSONHome/shup.json&amp;#39;);

//å­˜æ”¾BaseExcelAPIè³‡æ–™
let BaseExcelData = false;
let UserPowerData = false;
let PartyPowerData = false;

//æŒçºŒåŸ·è¡Œæ–¹æ³•
let nowDoFunction = false;
let DoingCount = 0;
let DoUserID = &amp;#39;&amp;#39;;
let DoData = undefined;

//#endregion

//#region ç™»å…¥
client.login(auth.key);

client.on(&amp;#39;ready&amp;#39;, () =&amp;gt; &amp;#123;
    GetGas.getBaseExcel(function(dataED) &amp;#123;
        if (dataED) &amp;#123;
            BaseExcelData = dataED //æœ‰è³‡æ–™
        &amp;#125;
        GetGas.getUserPower(function(dataED) &amp;#123;
            if (dataED) &amp;#123;
                UserPowerData = dataED;
            &amp;#125;
            GetGas.getPartyPower(function(dataED) &amp;#123;
                if (dataED) &amp;#123;
                    PartyPowerData = dataED;
                &amp;#125;
                console.log(`Logged in as $&amp;#123;client.user.tag&amp;#125;!`);
            &amp;#125;);
        &amp;#125;)
    &amp;#125;)
&amp;#125;);

//#endregion

//#region messageäº‹ä»¶å…¥å£
client.on(&amp;#39;message&amp;#39;, msg =&amp;gt; &amp;#123;
    //å‰ç½®åˆ¤æ–·
    try &amp;#123;
        if (!msg.guild || !msg.member) return; //è¨Šæ¯å…§ä¸å­˜åœ¨guildå…ƒç´  = éç¾¤çµ„æ¶ˆæ¯(ç§èŠ)
        if (!msg.member.user) return; //å¹«botå€¼å¤šæ‹‰ä¸€å±¤ï¼Œåˆ¤æ–·ä¸Šå±¤ç‰©ä»¶æ˜¯å¦å­˜åœ¨
        if (msg.member.user.bot) return; //è¨Šæ¯å…§botå€¼ç‚ºæ­£ = æ­¤æ¶ˆæ¯ç‚ºbotç™¼é€
    &amp;#125; catch (err) &amp;#123;
        return;
    &amp;#125;

    //çºŒè¡Œæ–¹æ³•
    if (nowDoFunction &amp;amp;&amp;amp; msg.author.id === DoUserID) &amp;#123;
        nowDoFunction(msg);
        return;
    &amp;#125;

    //å­—ä¸²åˆ†æ
    try &amp;#123;
        let tempPrefix = &amp;#39;-1&amp;#39;;
        const prefixED = Object.keys(prefix); //å‰ç¶´ç¬¦è™Ÿå®šç¾©
        prefixED.forEach(element =&amp;gt; &amp;#123;
            if (msg.content.substring(0, prefix[element].Value.length) === prefix[element].Value) &amp;#123;
                tempPrefix = element;
            &amp;#125;
        &amp;#125;);

        //ç¦è¨€ç³»çµ±åˆ¤æ–·
        if (!IsShut(msg, tempPrefix)) return;

        //å¯¦ä½œ
        switch (tempPrefix) &amp;#123;
            case &amp;#39;0&amp;#39;: //æ–‡å­—å›æ‡‰åŠŸèƒ½
                BasicFunction(msg, tempPrefix);
                break;
            case &amp;#39;1&amp;#39;: //éŸ³æ¨‚æŒ‡ä»¤ 
                MusicFunction(msg);
                break;
            case &amp;#39;2&amp;#39;: //æ©Ÿå™¨äººtagæŒ‡ä»¤
                TagFunction(msg, tempPrefix);
                break;
            default:
                BaseExcelFunction(msg);
                break;
        &amp;#125;
    &amp;#125; catch (err) &amp;#123;
        console.log(&amp;#39;OnMessageError&amp;#39;, err);
    &amp;#125;
&amp;#125;);

//#endregion

//#region åŸºæœ¬æŒ‡ä»¤ç³»çµ±
function BasicFunction(msg, tempPrefix) &amp;#123;
    const cmd = msg.content.substring(prefix[tempPrefix].Value.length).split(&amp;#39; &amp;#39;); //ä»¥ç©ºç™½åˆ†å‰²å‰ç¶´ä»¥å¾Œçš„å­—ä¸²
    switch (cmd[0]) &amp;#123;
        case &amp;#39;ping&amp;#39;:
            msg.channel.send(&amp;#39;pong&amp;#39;);
            break;
        case &amp;#39;è€å©†&amp;#39;:
            msg.reply(&amp;#39;ä½ æ²’æœ‰è€å©†!!&amp;#39;);
            break;
        case &amp;#39;myAvatar&amp;#39;:
            const avatar = GetMyAvatar(msg);
            if (avatar.files) msg.channel.send(`$&amp;#123;msg.author&amp;#125;`, avatar).catch(err =&amp;gt; &amp;#123; console.log(err) &amp;#125;);
            break;
            // case &amp;#39;test&amp;#39;:
            //     const testStr2 = msg.content.split(&amp;#39; &amp;#39;);
            //     console.log(client.users.fetch(testStr2[1]).then(element =&amp;gt; console.log(element.displayAvatarURL())));
            //     break;
    &amp;#125;
&amp;#125;

//#endregion

//#region éŸ³æ¨‚ç³»çµ±
//æ­Œæ›²æ§åˆ¶å™¨
let dispatcher = new Map();
//æ­Œæ›²æ¸…å–®
let musicList = new Map();

function MusicFunction(msg) &amp;#123;
    //å°‡è¨Šæ¯å…§çš„å‰ç¶´å­—æˆªæ–·ï¼Œå¾Œé¢çš„å­—æ˜¯æˆ‘å€‘è¦çš„
    const content = msg.content.substring(prefix[1].Value.length);
    //æŒ‡å®šæˆ‘å€‘çš„é–“éš”ç¬¦è™Ÿ
    const splitText = &amp;#39; &amp;#39;;
    //ç”¨é–“éš”ç¬¦è™Ÿéš”é–‹è¨Šæ¯ contents[0] = æŒ‡ä»¤,contents[1] = åƒæ•¸
    const contents = content.split(splitText);
    //å› ç‚ºæœƒæŒçºŒä½¿ç”¨åˆ°ï¼Œå°‡ç¾¤çµ„IDç¨ç«‹æˆåƒæ•¸
    const guildID = msg.guild.id;

    switch (contents[0]) &amp;#123;
        case &amp;#39;play&amp;#39;:
            //é»æ­Œ&amp;amp;æ’­æ”¾æ­Œæ›²åŠŸèƒ½
            playMusic(guildID, msg, contents);
            break;
        case &amp;#39;replay&amp;#39;:
            //é‡æ’­ç•¶å‰æ­Œæ›²
            replayMusic(guildID);
            break;
        case &amp;#39;np&amp;#39;:
            //ç•¶å‰æ­Œæ›²è³‡è¨Š
            nowPlayMusic(guildID, msg.channel.id);
            break;
        case &amp;#39;queue&amp;#39;:
            //æ­Œæ›²æ¸…å–®
            queueShow(guildID, msg.channel.id);
            break;
        case &amp;#39;skip&amp;#39;:
            //ä¸­æ–·æ­Œæ›²
            skipMusic(guildID);
            break;
        case &amp;#39;disconnect&amp;#39;:
            //é€€å‡ºèªéŸ³é »é“ä¸¦ä¸”æ¸…ç©ºæ­Œæ›²æ¸…å–®
            disconnectMusic(guildID, msg.channel.id);
            break;
        case &amp;#39;playList&amp;#39;:
            //è¼‰å…¥æ­Œå–®
            playListMusic(guildID, msg);
            break;
    &amp;#125;
&amp;#125;

//?play
async function playMusic(guildID, msg, contents) &amp;#123;
    //å®šç¾©æˆ‘å€‘çš„ç¬¬ä¸€å€‹åƒæ•¸å¿…éœ€æ˜¯ç¶²å€
    const urlED = contents[1];
    try &amp;#123;
        //ç¬¬ä¸€å€‹åƒæ•¸ä¸æ˜¯é€£çµå°±è¦ç¯©é¸æ‰
        if (urlED.substring(0, 4) !== &amp;#39;http&amp;#39;) return msg.reply(&amp;#39;The link is not working.1&amp;#39;);

        //é€élibraryåˆ¤æ–·é€£çµæ˜¯å¦å¯é‹è¡Œ
        const validate = await ytdl.validateURL(urlED);
        if (!validate) return msg.reply(&amp;#39;The link is not working.2&amp;#39;);

        //ç²å–æ­Œæ›²è³‡è¨Š
        const info = await ytdl.getInfo(urlED);
        //åˆ¤æ–·è³‡è¨Šæ˜¯å¦æ­£å¸¸
        if (info.videoDetails) &amp;#123;
            //æŒ‡ä»¤ä¸‹é”è€…æ˜¯å¦åœ¨èªéŸ³é »é“
            if (msg.member.voice.channel) &amp;#123;
                //åˆ¤æ–·botæ˜¯å¦å·²ç¶“é€£åˆ°èªéŸ³é »é“ æ˜¯:å°‡æ­Œæ›²åŠ å…¥æ­Œå–® ä¸æ˜¯:é€²å…¥èªéŸ³é »é“ä¸¦ä¸”æ’­æ”¾æ­Œæ›²
                if (!client.voice.connections.get(msg.guild.id)) &amp;#123;
                    //å› ç‚ºæ˜¯ç¬¬ä¸€æ¬¡åŠ å…¥ï¼Œå®£å‘Šæ–°çš„æ­Œæ›²åˆ—è¡¨
                    musicList.set(guildID, new Array());

                    //å°‡æ­Œæ›²åŠ å…¥æ­Œå–®
                    musicList.get(guildID).push(urlED);
                    //é€²å…¥èªéŸ³é »é“
                    msg.member.voice.channel.join()
                        .then(connection =&amp;gt; &amp;#123;
                            msg.reply(&amp;#39;ä¾†äº†~&amp;#39;);
                            //const guildID = msg.guild.id;
                            const channelID = msg.channel.id;
                            //æ’­æ”¾æ­Œæ›²
                            playMusic2(connection, guildID, channelID);
                        &amp;#125;)
                        .catch(err =&amp;gt; &amp;#123;
                            msg.reply(&amp;#39;boté€²å…¥èªéŸ³é »é“æ™‚ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹å†è©¦ä¸€æ¬¡&amp;#39;);
                            console.log(err, &amp;#39;playMusicError2&amp;#39;);
                        &amp;#125;)
                &amp;#125; else &amp;#123;
                    //å°‡æ­Œæ›²åŠ å…¥æ­Œå–®
                    musicList.get(guildID).push(urlED);
                    msg.reply(&amp;#39;å·²å°‡æ­Œæ›²åŠ å…¥æ­Œå–®!&amp;#39;);
                &amp;#125;
            &amp;#125; else return msg.reply(&amp;#39;è«‹å…ˆé€²å…¥é »é“:3...&amp;#39;);
        &amp;#125; else return msg.reply(&amp;#39;The link is not working.3&amp;#39;);
    &amp;#125; catch (err) &amp;#123;
        console.log(err, &amp;#39;playMusicError&amp;#39;);
    &amp;#125;
&amp;#125;

//?play éè¿´å‡½å¼
async function playMusic2(connection, guildID, channelID) &amp;#123;
    try &amp;#123;
        //æ’­æ”¾å‰æ­Œæ›²æ¸…å–®ä¸èƒ½æ²’æœ‰ç¶²å€
        if (musicList.get(guildID).length &amp;gt; 0) &amp;#123;
            //è¨­å®šéŸ³æ¨‚ç›¸é—œåƒæ•¸
            const streamOptions = &amp;#123;
                seek: 0,
                volume: 0.5,
                Bitrate: 192000,
                Passes: 1,
                highWaterMark: 1
            &amp;#125;;
            //è®€å–æ¸…å–®ç¬¬ä¸€ä½ç¶²å€
            const stream = await ytdl(musicList.get(guildID)[0], &amp;#123;
                filter: &amp;#39;audioonly&amp;#39;,
                quality: &amp;#39;highestaudio&amp;#39;,
                highWaterMark: 26214400 //25ms
            &amp;#125;)

            //æ’­æ”¾æ­Œæ›²ï¼Œä¸¦ä¸”å­˜å…¥dispatcher
            dispatcher.set(guildID, connection.play(stream, streamOptions));
            //ç›£è½æ­Œæ›²æ’­æ”¾çµæŸäº‹ä»¶
            dispatcher.get(guildID).on(&amp;quot;finish&amp;quot;, finish =&amp;gt; &amp;#123;
                //å°‡æ¸…å–®ä¸­ç¬¬ä¸€é¦–æ­Œæ¸…é™¤
                if (musicList.get(guildID).length &amp;gt; 0) musicList.get(guildID).shift();
                //æ’­æ”¾æ­Œæ›²
                playMusic2(connection, guildID, channelID);
            &amp;#125;)
        &amp;#125; else disconnectMusic(guildID, channelID); //æ¸…ç©ºæ­Œå–®ä¸¦ä¸”é€€å‡ºèªéŸ³é »é“
    &amp;#125; catch (err) &amp;#123;
        console.log(err, &amp;#39;playMusic2Error&amp;#39;);
    &amp;#125;
&amp;#125;

//?disconnect
function disconnectMusic(guildID, channelID) &amp;#123;
    try &amp;#123;
        //åˆ¤æ–·botæ˜¯å¦åœ¨æ­¤ç¾¤çµ„çš„èªéŸ³é »é“
        if (client.voice.connections.get(guildID)) &amp;#123;
            //æ¸…ç©ºæ­Œæ›²æ¸…å–®
            musicList.set(guildID, new Array());
            //é€€å‡ºèªéŸ³é »é“
            client.voice.connections.get(guildID).disconnect();

            client.channels.fetch(channelID).then(channel =&amp;gt; channel.send(&amp;#39;æ™šå®‰~&amp;#39;));
        &amp;#125; else client.channels.fetch(channelID).then(channel =&amp;gt; channel.send(&amp;#39;å¯æ˜¯..æˆ‘é‚„æ²’é€²ä¾†:3&amp;#39;))
    &amp;#125; catch (err) &amp;#123;
        console.log(err, &amp;#39;disconnectMusicError&amp;#39;);
    &amp;#125;
&amp;#125;

//?replay
function replayMusic(guildID) &amp;#123;
    if (musicList.get(guildID).length &amp;gt; 0) &amp;#123;
        //æŠŠç•¶å‰æ›²ç›®å†æ¨ä¸€å€‹åˆ°æœ€å‰é¢
        musicList.get(guildID).unshift(musicList[0]);
        //å°‡æ­Œæ›²é—œé–‰ï¼Œè§¸ç™¼finishäº‹ä»¶
        //finishäº‹ä»¶å°‡æ¸…å–®ç¬¬ä¸€é¦–æ­Œæ’å‡ºï¼Œç„¶å¾Œç¹¼çºŒæ’­æ”¾ä¸‹ä¸€é¦–
        if (dispatcher.get(guildID) !== undefined) dispatcher.get(guildID).end();
    &amp;#125;
&amp;#125;

//?skip
function skipMusic(guildID) &amp;#123;
    //å°‡æ­Œæ›²é—œé–‰ï¼Œè§¸ç™¼finishäº‹ä»¶
    if (dispatcher.get(guildID) !== undefined) dispatcher.get(guildID).end();
&amp;#125;

//?np
async function nowPlayMusic(guildID, channelID) &amp;#123;
    try &amp;#123;
        if (dispatcher.get(guildID) !== undefined &amp;amp;&amp;amp; musicList.get(guildID).length &amp;gt; 0) &amp;#123;
            //å¾é€£çµä¸­ç²å–æ­Œæ›²è³‡è¨Š æ¨™é¡Œ ç¸½é•·åº¦ç­‰
            const info = await ytdl.getInfo(musicList.get(guildID)[0]);
            //æ­Œæ›²æ¨™é¡Œ
            const title = info.videoDetails.title;
            //æ­Œæ›²å…¨é•·(s)
            const songLength = info.videoDetails.lengthSeconds;
            //ç•¶å‰æ’­æ”¾æ™‚é–“(ms)
            const nowSongLength = Math.floor(dispatcher.get(guildID).streamTime / 1000);
            //ä¸²å­—ä¸²
            const message = `$&amp;#123;title&amp;#125;\n$&amp;#123;streamString(songLength,nowSongLength)&amp;#125;`;
            client.channels.fetch(channelID).then(channel =&amp;gt; channel.send(message))
        &amp;#125;
    &amp;#125; catch (err) &amp;#123;
        console.log(err, &amp;#39;nowPlayMusicError&amp;#39;);
    &amp;#125;
&amp;#125;

//â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬?â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬
function streamString(songLength, nowSongLength) &amp;#123;
    let mainText = &amp;#39;?&amp;#39;;
    const secondText = &amp;#39;â–¬&amp;#39;;
    const whereMain = Math.floor((nowSongLength / songLength) * 100);
    let message = &amp;#39;&amp;#39;;
    for (i = 1; i &amp;lt;= 30; i++) &amp;#123;
        if (i * 3.3 + 1 &amp;gt;= whereMain) &amp;#123;
            message = message + mainText;
            mainText = secondText;
        &amp;#125; else &amp;#123;
            message = message + secondText;
        &amp;#125;
    &amp;#125;
    return message;
&amp;#125;

//?queue
async function queueShow(guildID, channelID) &amp;#123;
    try &amp;#123;
        if (musicList.get(guildID).length &amp;gt; 0) &amp;#123;
            let info;
            let message = &amp;#39;&amp;#39;;
            for (i = 0; i &amp;lt; musicList.get(guildID).length; i++) &amp;#123;
                //å¾é€£çµä¸­ç²å–æ­Œæ›²è³‡è¨Š æ¨™é¡Œ ç¸½é•·åº¦ç­‰
                info = await ytdl.getInfo(musicList.get(guildID)[i]);
                //æ­Œæ›²æ¨™é¡Œ
                title = info.videoDetails.title;
                //ä¸²å­—ä¸²
                message = message + `\n$&amp;#123;i+1&amp;#125;. $&amp;#123;title&amp;#125;`;
            &amp;#125;
            //æŠŠæœ€å‰é¢çš„\næ‹¿æ‰
            message = message.substring(1, message.length);
            if (message.length &amp;gt; 1900) message = message.substring(0, 1900);
            client.channels.fetch(channelID).then(channel =&amp;gt; channel.send(message))
        &amp;#125;
    &amp;#125; catch (err) &amp;#123;
        console.log(err, &amp;#39;queueShowError&amp;#39;);
    &amp;#125;
&amp;#125;

//?playList
async function playListMusic(guildID, msg) &amp;#123;
    try &amp;#123;
        //æ²’åœ¨éŸ³æ¨‚å»³ä¸èƒ½ä½¿ç”¨æ­¤åŠŸèƒ½
        if (!client.voice.connections.get(guildID)) &amp;#123;
            msg.channel.send(`è«‹å…ˆæ­£å¸¸å•Ÿç”¨éŸ³æ¨‚æŒ‡ä»¤å¾Œï¼Œå†ä½¿ç”¨æ­Œå–®è¼‰å…¥å–”`);
            return false;
        &amp;#125;
        //ç¶²å€
        const valueED = msg.content.split(&amp;#39; &amp;#39;);
        //å…ˆç”¨libraryè‡ªå¸¶çš„æ–¹å¼æª¢æŸ¥ä¸€æ¬¡èƒ½ä¸èƒ½ç”¨
        const canPlay = await ytpl.validateID(valueED[1]);
        //è®€å–åˆ°å¹¾é¦–æ­Œï¼Œä¸Šé™é»˜èª100é¦–
        let a = 0;
        //å¹¾é¦–æˆåŠŸæ”¾å…¥æ­Œå–®
        let b = 0;
        if (canPlay) &amp;#123;
            const listED = await ytpl(valueED[1]);
            await listED.items.forEach(async function(element) &amp;#123;
                a = a + 1;
                if (element.title !== &amp;#39;[Deleted video]&amp;#39;) &amp;#123;
                    canPlay2 = await ytdl.validateURL(element.url_simple);
                    if (canPlay2) &amp;#123;
                        b = b + 1;
                        musicList.get(guildID).push(element.url_simple);
                    &amp;#125;
                &amp;#125;
            &amp;#125;);
            //å›å‚³çµ±è¨ˆè³‡è¨Š
            msg.channel.send(`æ­Œå–® $&amp;#123;listED.title&amp;#125;\nå…±è¼‰å…¥$&amp;#123;b&amp;#125;é¦–æ­Œæ›²\n$&amp;#123;a-b&amp;#125;é¦–è¼‰å…¥å¤±æ•—`);
        &amp;#125; else &amp;#123;
            msg.channel.send(`This Url isn&amp;#39;t working in function.`);
        &amp;#125;
    &amp;#125; catch (err) &amp;#123;
        console.log(err, &amp;#39;playListMusicError&amp;#39;);
    &amp;#125;
&amp;#125;
//#endregion

//#region tagç³»çµ±
function TagFunction(msg, tempPrefix) &amp;#123;
    const cmd = msg.content.substring(prefix[tempPrefix].Value.length).split(&amp;#39; &amp;#39;); //ä»¥ç©ºç™½åˆ†å‰²å‰ç¶´ä»¥å¾Œçš„å­—ä¸²

    switch (cmd[0]) &amp;#123;
        case &amp;#39;AddUser&amp;#39;: //å°‡ä½¿ç”¨è€…åŠ å…¥èº«ä»½çµ„
            addUserFunction(msg);
            break;
        case &amp;#39;CreateParty&amp;#39;: //å‰µå»ºèº«åˆ†çµ„&amp;amp;å¢åŠ èº«åˆ†çµ„å¯tagå°è±¡
            CreatePartyFunction(msg);
            break;
        case &amp;#39;Delete&amp;#39;: //å¾æ¬Šé™çµ„ä¸­åˆªé™¤ä½¿ç”¨è€… OR åˆªé™¤æ¬Šé™çµ„
            DeleteTag(msg);
            break;
        default: //èº«ä»½çµ„ID
            tagOther(msg, cmd);
            break;
    &amp;#125;
&amp;#125;

//tagäºº
function tagOther(msg, cmd) &amp;#123;
    CheckID(msg, cmd, msg.author.id, (msg, cmd, haveUserData) =&amp;gt; &amp;#123;
        CheckParty(msg, cmd, haveUserData, SendTagMessage);
    &amp;#125;);
&amp;#125;

//åˆ¤æ–·æ­¤äººæœ‰æ²’æœ‰ç™»è¨˜è³‡æ–™
function CheckID(msg, cmd, userID, OtherFunction) &amp;#123;
    const haveUserData = UserPowerData.find(element =&amp;gt; &amp;#123;
        return element.userID == userID;
    &amp;#125;)

    if (haveUserData !== undefined) &amp;#123;
        //æœ‰è³‡æ–™
        return OtherFunction(msg, cmd, haveUserData);
    &amp;#125; else &amp;#123;
        return OtherFunction(msg, cmd, false);
    &amp;#125;
&amp;#125;

//æ ¹æ“šUserPowerç²å¾—Party
function CheckParty(msg, cmd, haveUserData, OtherFunction) &amp;#123;
    let havePartyPower;
    havePartyPower = PartyPowerData.filter(element =&amp;gt; &amp;#123;
        if (haveUserData.Joins[i].indexOf(element.ID) != -1) &amp;#123;
            return element.Power.indexOf(cmd[1]) != -1
        &amp;#125;
    &amp;#125;)

    if (isEmptyObject(havePartyPower)) &amp;#123;
        return OtherFunction(msg, cmd, haveUserData, false);
    &amp;#125; else &amp;#123;
        return OtherFunction(msg, cmd, haveUserData, havePartyPower);
    &amp;#125;
&amp;#125;

//å‚³é€è¨Šæ¯å–®ç¨å¯¦ä¾‹
function SendTagMessage(msg, cmd, haveUserData, havePartyPower) &amp;#123;
    if (haveUserData.IsAdmin) &amp;#123;
        msg.channel.send(`&amp;lt;@&amp;amp;$&amp;#123;cmd[1]&amp;#125;&amp;gt;\nä¾†è‡ªç®¡ç†å“¡&amp;lt;@$&amp;#123;msg.author.id&amp;#125;&amp;gt;çš„æŒ‡ä»¤å‘¼å«`);
    &amp;#125; else if (havePartyPower) &amp;#123;
        msg.channel.send(`&amp;lt;@&amp;amp;$&amp;#123;cmd[1]&amp;#125;&amp;gt;\nä¾†è‡ª&amp;lt;@$&amp;#123;msg.author.id&amp;#125;&amp;gt;çš„æŒ‡ä»¤å‘¼å«`);
    &amp;#125; else &amp;#123;
        msg.channel.send(&amp;#39;ç„¡æ¬Šé™ï¼Œè«‹ç¢ºèªåƒæ•¸æ˜¯å¦æ­£ç¢º&amp;#39;);
    &amp;#125;
&amp;#125;

//å°‡xxxåŠ å…¥èº«åˆ†çµ„
function addUserFunction(msg) &amp;#123;
    try &amp;#123;
        if (DoUserID === &amp;#39;&amp;#39;) &amp;#123;
            tempIsAdmin = CheckID(msg, null, msg.author.id, function(msg, cmd, haveUserData) &amp;#123;
                if (haveUserData.IsAdmin) return true;
                else return false;
            &amp;#125;);
            if (tempIsAdmin) &amp;#123;
                nowDoFunction = addUserFunctionNow;
                DoUserID = msg.author.id;
                DoData = new Array;
                msg.channel.send(&amp;#39;è«‹è¼¸å…¥è¦åŠ å…¥çš„ä½¿ç”¨è€…id&amp;#39;);
            &amp;#125; else &amp;#123;
                msg.channel.send(&amp;#39;æ­¤æŒ‡ä»¤åªæœ‰ç®¡ç†å“¡å¯åŸ·è¡Œ&amp;#39;);
            &amp;#125;
        &amp;#125; else &amp;#123;
            msg.channel.send(&amp;#39;æœ‰å…¶ä»–äººæ­£åœ¨ä½¿ç”¨çºŒè¡Œä¸­ï¼Œè«‹ç¨ç­‰&amp;#39;);
        &amp;#125;
    &amp;#125; catch (err) &amp;#123;
        console.log(&amp;#39;addUserFunctionError&amp;#39;, err);
    &amp;#125;
&amp;#125;

//å°‡xxxåŠ å…¥èº«ä»½çµ„(çºŒè¡Œæ–¹æ³•)
function addUserFunctionNow(msg) &amp;#123;
    try &amp;#123;
        switch (DoingCount) &amp;#123;
            case 0:
                DoData.push(msg.content); //åŠ å…¥ä½¿ç”¨è€…id
                DoData.push(msg.author.username); //åŠ å…¥ç”³è«‹è€…åå­—
                msg.channel.send(`è«‹è¼¸å…¥è¦åŠ å…¥çš„ç¾¤çµ„`);
                break;
            case 1:
                DoData.push(msg.content); //åŠ å…¥ç¾¤çµ„
                DoData.push(false); //IsAdminé è¨­Falseä¸å¯ä¿®æ”¹
                msg.channel.send(`ç”³è«‹è³‡æ–™å¦‚ä¸‹:\nç”³è«‹äºº &amp;lt;@$&amp;#123;msg.author.id&amp;#125;&amp;gt;\nä½¿ç”¨è€… &amp;lt;@$&amp;#123;DoData[0]&amp;#125;&amp;gt;\nåŠ å…¥æ¬Šé™çµ„ $&amp;#123;DoData[2]&amp;#125;\næ­£ç¢º Y / éŒ¯èª¤ N`);
                break;
            case 2:
                if (msg.content === &amp;#39;Y&amp;#39;) &amp;#123;
                    msg.channel.send(&amp;#39;å·²ç¢ºèªï¼Œè¼¸å…¥è³‡æ–™ä¸­...&amp;#39;);
                    //èˆ‡èˆŠè³‡æ–™æ¯”å°ï¼Œå·²æœ‰æ­¤äººè³‡æ–™è®Šé€²è¡Œæ›´æ–°
                    CheckID(msg, null, DoData[0], EditOldUserPower);
                    GetGas.postUserPower(DoData, function(dataED) &amp;#123;
                        if (dataED) &amp;#123;
                            //botå…§è®Šæ•¸ä¸æœƒæ›´æ–°ï¼Œæ‰‹å‹•æ›´æ–°
                            UserPowerData.unshift(&amp;#123;
                                &amp;#39;userID&amp;#39;: DoData[0],
                                &amp;#39;userName&amp;#39;: DoData[1],
                                &amp;#39;Joins&amp;#39;: DoData[2],
                                &amp;#39;IsAdmin&amp;#39;: DoData[3]
                            &amp;#125;);
                            msg.channel.send(&amp;#39;è¼¸å…¥å®Œç•¢!&amp;#39;);
                        &amp;#125; else &amp;#123;
                            msg.channel.send(&amp;#39;è³‡æ–™è¼¸å…¥å¤±æ•—ï¼Œè«‹é‡æ–°å˜—è©¦&amp;#39;);
                        &amp;#125;
                        CloseAllDoingFunction();
                    &amp;#125;);
                &amp;#125; else if (msg.content === &amp;#39;N&amp;#39;) &amp;#123;
                    CloseAllDoingFunction();
                    msg.channel.send(&amp;#39;å·²å–æ¶ˆè¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤&amp;#39;)
                &amp;#125; else &amp;#123;
                    DoingCount--;
                    msg.channel.send(&amp;#39;ç„¡æ³•è¾¨è­˜è¨Šæ¯ï¼Œè«‹è¼¸å…¥Y/Nä¾†é¸æ“‡&amp;#39;);
                &amp;#125;
                break;
        &amp;#125;
        if (DoUserID !== &amp;#39;&amp;#39;) DoingCount++;
    &amp;#125; catch (err) &amp;#123;
        CloseAllDoingFunction();
        client.channels.fetch(msg.channel.id).then(channel =&amp;gt; channel.send(&amp;#39;ç™¼ç”Ÿæ„å¤–éŒ¯èª¤ï¼Œä¸­æ–·æŒ‡ä»¤è¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤!&amp;#39;))
        console.log(&amp;#39;addUserFunctionNowError&amp;#39;, err);
    &amp;#125;
&amp;#125;

//ç”¨æˆ¶èˆŠè³‡æ–™æ›´æ–°
function EditOldUserPower(msg, cmd, haveUserData) &amp;#123;
    //äºŒæ¬¡ç¢ºèª
    if (haveUserData) &amp;#123;
        if (DoData[0] == haveUserData.userID) &amp;#123;
            DoData[2] = haveUserData.Joins + &amp;#39;;&amp;#39; + DoData[2];
            DoData[3] = haveUserData.IsAdmin;
            return true;
        &amp;#125; else return false;
    &amp;#125; else return false;
&amp;#125;

//ç”¨æˆ¶èˆŠè³‡æ–™æ›´æ–°
function DeleteOldUserPower(msg, cmd, haveUserData) &amp;#123;
    //äºŒæ¬¡ç¢ºèª
    if (haveUserData) &amp;#123;
        if (DoData[0] == haveUserData.userID) &amp;#123;
            let str = haveUserData.Joins;
            DoData[2] = str.toString().replace(DoData[2], &amp;#39;&amp;#39;);
            DoData[3] = haveUserData.IsAdmin;
            return true;
        &amp;#125; else return false;
    &amp;#125; else return false;
&amp;#125;

//å‰µå»ºèº«åˆ†çµ„&amp;amp;å¢åŠ èº«åˆ†çµ„å¯tagå°è±¡
function CreatePartyFunction(msg) &amp;#123;
    try &amp;#123;
        if (DoUserID === &amp;#39;&amp;#39;) &amp;#123;
            tempIsAdmin = CheckID(msg, null, msg.author.id, function(msg, cmd, haveUserData) &amp;#123;
                if (haveUserData) &amp;#123;
                    if (haveUserData.IsAdmin) return true;
                    else return false;
                &amp;#125; else return false;
            &amp;#125;);
            if (tempIsAdmin) &amp;#123;
                nowDoFunction = CreatePartyFunctionNow;
                DoUserID = msg.author.id;
                DoData = new Array;
                msg.channel.send(&amp;#39;è«‹è¼¸å…¥èº«ä»½çµ„åç¨±&amp;#39;);
            &amp;#125; else &amp;#123;
                msg.channel.send(&amp;#39;æ­¤æŒ‡ä»¤åªæœ‰ç®¡ç†å“¡å¯åŸ·è¡Œ&amp;#39;);
            &amp;#125;
        &amp;#125; else &amp;#123;
            msg.channel.send(&amp;#39;æœ‰å…¶ä»–äººæ­£åœ¨ä½¿ç”¨çºŒè¡Œä¸­ï¼Œè«‹ç¨ç­‰&amp;#39;);
        &amp;#125;
    &amp;#125; catch (err) &amp;#123;
        console.log(&amp;#39;CreatePartyFunctionError&amp;#39;, err);
    &amp;#125;
&amp;#125;

//å‰µå»ºèº«åˆ†çµ„&amp;amp;å¢åŠ èº«åˆ†çµ„å¯tagå°è±¡(çºŒè¡Œ)
function CreatePartyFunctionNow(msg) &amp;#123;
    try &amp;#123;
        switch (DoingCount) &amp;#123;
            case 0:
                DoData.push(msg.content); //èº«åˆ†çµ„ID
                DoData.push(&amp;#39;2&amp;#39;); //type 2
                msg.channel.send(`è«‹è¼¸å…¥è¦åŠ å…¥çš„tagID`);
                break;
            case 1:
                DoData.push(msg.content); //åŠ å…¥tagID
                msg.channel.send(`ç”³è«‹è³‡æ–™å¦‚ä¸‹:\nç”³è«‹äºº &amp;lt;@$&amp;#123;msg.author.id&amp;#125;&amp;gt;\næ¬Šé™çµ„ $&amp;#123;DoData[0]&amp;#125;\ntagID $&amp;#123;DoData[2]&amp;#125;\næ­£ç¢º Y / éŒ¯èª¤ N`);
                break;
            case 2:
                if (msg.content === &amp;#39;Y&amp;#39;) &amp;#123;
                    msg.channel.send(&amp;#39;å·²ç¢ºèªï¼Œè¼¸å…¥è³‡æ–™ä¸­...&amp;#39;);
                    //èˆ‡èˆŠè³‡æ–™æ¯”å°ï¼Œå·²æœ‰æ­¤äººè³‡æ–™è®Šé€²è¡Œæ›´æ–°
                    EditOldPartyPower();
                    GetGas.postPartyPower(DoData, function(dataED) &amp;#123;
                        if (dataED) &amp;#123;
                            //botå…§è®Šæ•¸ä¸æœƒæ›´æ–°ï¼Œæ‰‹å‹•æ›´æ–°
                            PartyPowerData.unshift(&amp;#123;
                                &amp;#39;ID&amp;#39;: DoData[0],
                                &amp;#39;type&amp;#39;: DoData[1],
                                &amp;#39;Power&amp;#39;: DoData[2]
                            &amp;#125;);
                            msg.channel.send(&amp;#39;è¼¸å…¥å®Œç•¢!&amp;#39;);
                        &amp;#125; else &amp;#123;
                            msg.channel.send(&amp;#39;è³‡æ–™è¼¸å…¥å¤±æ•—ï¼Œè«‹é‡æ–°å˜—è©¦&amp;#39;);
                        &amp;#125;
                        CloseAllDoingFunction();
                    &amp;#125;);
                &amp;#125; else if (msg.content === &amp;#39;N&amp;#39;) &amp;#123;
                    CloseAllDoingFunction();
                    msg.channel.send(&amp;#39;å·²å–æ¶ˆè¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤&amp;#39;)
                &amp;#125; else &amp;#123;
                    DoingCount--;
                    msg.channel.send(&amp;#39;ç„¡æ³•è¾¨è­˜è¨Šæ¯ï¼Œè«‹è¼¸å…¥Y/Nä¾†é¸æ“‡&amp;#39;);
                &amp;#125;
                break;
        &amp;#125;
        if (DoUserID !== &amp;#39;&amp;#39;) DoingCount++;
    &amp;#125; catch (err) &amp;#123;
        CloseAllDoingFunction();
        client.channels.fetch(msg.channel.id).then(channel =&amp;gt; channel.send(&amp;#39;ç™¼ç”Ÿæ„å¤–éŒ¯èª¤ï¼Œä¸­æ–·æŒ‡ä»¤è¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤!&amp;#39;))
        console.log(&amp;#39;CreatePartyFunctionNowError&amp;#39;, err);
    &amp;#125;
&amp;#125;

//æ¬Šé™çµ„èˆŠè³‡æ–™æ›´æ–°
function EditOldPartyPower() &amp;#123;
    if (PartyPowerData) &amp;#123;
        const tempPartyData = PartyPowerData.find(element =&amp;gt; &amp;#123;
            return element.ID == DoData[0];
        &amp;#125;)

        if (tempPartyData !== undefined) &amp;#123;
            DoData[2] = tempPartyData.Power + &amp;#39;;&amp;#39; + DoData[2];
        &amp;#125;
    &amp;#125;
&amp;#125;

//æ¬Šé™çµ„èˆŠè³‡æ–™æ›´æ–°
function DeleteOldPartyPower() &amp;#123;
    if (PartyPowerData) &amp;#123;
        const tempPartyData = PartyPowerData.find(element =&amp;gt; &amp;#123;
            return element.ID == DoData[0];
        &amp;#125;)

        if (tempPartyData == undefined) &amp;#123;
            DoData[0] = &amp;#39;&amp;#39;;
            DoData[1] = &amp;#39;&amp;#39;;
            DoData[2] = &amp;#39;&amp;#39;;
        &amp;#125;
    &amp;#125;
&amp;#125;

//å¾æ¬Šé™çµ„ä¸­åˆªé™¤ä½¿ç”¨è€… OR åˆªé™¤æ¬Šé™çµ„
function DeleteTag(msg) &amp;#123;
    try &amp;#123;
        if (DoUserID === &amp;#39;&amp;#39;) &amp;#123;
            tempIsAdmin = CheckID(msg, null, msg.author.id, function(msg, cmd, haveUserData) &amp;#123;
                if (haveUserData.IsAdmin) return true;
                else return false;
            &amp;#125;);
            if (tempIsAdmin) &amp;#123;
                nowDoFunction = DeleteTagNow;
                DoUserID = msg.author.id;
                DoData = new Array;
                msg.channel.send(&amp;#39;è«‹å•è¦ç·¨è¼¯ä½¿ç”¨è€…æ¬Šé™é‚„æ˜¯æ¬Šé™çµ„?\n1 ä½¿ç”¨è€…æ¬Šé™ / 2 æ¬Šé™çµ„&amp;#39;);
            &amp;#125; else &amp;#123;
                msg.channel.send(&amp;#39;æ­¤æŒ‡ä»¤åªæœ‰ç®¡ç†å“¡å¯åŸ·è¡Œ&amp;#39;);
            &amp;#125;
        &amp;#125; else &amp;#123;
            msg.channel.send(&amp;#39;æœ‰å…¶ä»–äººæ­£åœ¨ä½¿ç”¨çºŒè¡Œä¸­ï¼Œè«‹ç¨ç­‰&amp;#39;);
        &amp;#125;
    &amp;#125; catch (err) &amp;#123;
        console.log(&amp;#39;DeleteTagError&amp;#39;, err);
    &amp;#125;
&amp;#125;

//å¾æ¬Šé™çµ„ä¸­åˆªé™¤ä½¿ç”¨è€… OR åˆªé™¤æ¬Šé™çµ„(çºŒè¡Œ)
function DeleteTagNow(msg) &amp;#123;
    try &amp;#123;
        switch (DoingCount) &amp;#123;
            case 0:
                switch (msg.content) &amp;#123;
                    case &amp;#39;1&amp;#39;:
                        msg.channel.send(&amp;#39;è«‹è¼¸å…¥è¦ç·¨è¼¯çš„ä½¿ç”¨è€…ID&amp;#39;);
                        break;
                    case &amp;#39;2&amp;#39;:
                        DoingCount = 10;
                        msg.channel.send(&amp;#39;è«‹è¼¸å…¥è¦ç·¨è¼¯çš„æ¬Šé™çµ„&amp;#39;);
                        break;
                    default:
                        DoingCount--;
                        msg.channel.send(&amp;#39;ç„¡æ³•è¾¨è­˜è¨Šæ¯ï¼Œè«‹è¼¸å…¥1/2ä¾†é¸æ“‡&amp;#39;);
                        break;
                &amp;#125;
                break;
            case 1:
                if (msg.content == &amp;#39;N&amp;#39;) &amp;#123;
                    CloseAllDoingFunction();
                    msg.channel.send(&amp;#39;æŒ‡ä»¤é—œé–‰&amp;#39;);
                &amp;#125; else &amp;#123;
                    if (CheckID(msg, null, msg.content, (msg, cmd, haveUserData) =&amp;gt; &amp;#123; return haveUserData &amp;#125;)) &amp;#123;
                        DoData.push(msg.content); //userID
                        DoData.push(msg.author.id); //userName
                        msg.channel.send(&amp;#39;è«‹è¼¸å…¥è¦åˆªé™¤çš„ç¾¤çµ„æ¬Šé™&amp;#39;);
                    &amp;#125; else &amp;#123;
                        DoingCount--;
                        msg.channel.send(&amp;#39;æ­¤ç”¨æˆ¶ä¸å­˜åœ¨è³‡æ–™ï¼Œè«‹ç¢ºèªï¼Œå¦‚æœè¦é—œé–‰æŒ‡ä»¤è«‹è¼¸å…¥ N&amp;#39;);
                    &amp;#125;
                &amp;#125;
                break;
            case 2:
                DoData.push(msg.content); // Power
                DoData.push(false); // IsAdmin
                msg.channel.send(`ç”³è«‹è³‡æ–™å¦‚ä¸‹:\nç”³è«‹äºº &amp;lt;@$&amp;#123;msg.author.id&amp;#125;&amp;gt;\nä½¿ç”¨è€… &amp;lt;@$&amp;#123;DoData[0]&amp;#125;&amp;gt;\nåˆªé™¤æ¬Šé™çµ„ $&amp;#123;DoData[2]&amp;#125;\næ­£ç¢º Y / éŒ¯èª¤ N`);
                break;
            case 3:
                if (msg.content === &amp;#39;Y&amp;#39;) &amp;#123;
                    msg.channel.send(&amp;#39;å·²ç¢ºèªï¼Œè¼¸å…¥è³‡æ–™ä¸­...&amp;#39;);
                    //èˆ‡èˆŠè³‡æ–™æ¯”å°ï¼Œå·²æœ‰æ­¤äººè³‡æ–™è®Šé€²è¡Œæ›´æ–°
                    CheckID(msg, null, DoData[0], DeleteOldUserPower);
                    GetGas.postUserPower(DoData, function(dataED) &amp;#123;
                        if (dataED) &amp;#123;
                            //botå…§è®Šæ•¸ä¸æœƒæ›´æ–°ï¼Œæ‰‹å‹•æ›´æ–°
                            UserPowerData.unshift(&amp;#123;
                                &amp;#39;userID&amp;#39;: DoData[0],
                                &amp;#39;userName&amp;#39;: DoData[1],
                                &amp;#39;Joins&amp;#39;: DoData[2],
                                &amp;#39;IsAdmin&amp;#39;: DoData[3]
                            &amp;#125;);
                            msg.channel.send(&amp;#39;è¼¸å…¥å®Œç•¢!&amp;#39;);
                        &amp;#125; else &amp;#123;
                            msg.channel.send(&amp;#39;è³‡æ–™è¼¸å…¥å¤±æ•—ï¼Œè«‹é‡æ–°å˜—è©¦&amp;#39;);
                        &amp;#125;
                        CloseAllDoingFunction();
                    &amp;#125;);
                &amp;#125; else if (msg.content === &amp;#39;N&amp;#39;) &amp;#123;
                    CloseAllDoingFunction();
                    msg.channel.send(&amp;#39;å·²å–æ¶ˆè¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤&amp;#39;)
                &amp;#125; else &amp;#123;
                    DoingCount--;
                    msg.channel.send(&amp;#39;ç„¡æ³•è¾¨è­˜è¨Šæ¯ï¼Œè«‹è¼¸å…¥Y/Nä¾†é¸æ“‡&amp;#39;);
                &amp;#125;
                break;
            case 11:
                DoData.push(msg.content); //èº«åˆ†çµ„ID
                DoData.push(&amp;#39;2&amp;#39;); //type 2
                DoData.push(&amp;#39;&amp;#39;);
                msg.channel.send(`ç”³è«‹è³‡æ–™å¦‚ä¸‹:\nç”³è«‹äºº &amp;lt;@$&amp;#123;msg.author.id&amp;#125;&amp;gt;\nåˆªé™¤æ¬Šé™çµ„ $&amp;#123;DoData[0]&amp;#125;\næ­£ç¢º Y / éŒ¯èª¤ N`);
                break;
            case 12:
                if (msg.content === &amp;#39;Y&amp;#39;) &amp;#123;
                    msg.channel.send(&amp;#39;å·²ç¢ºèªï¼Œè¼¸å…¥è³‡æ–™ä¸­...&amp;#39;);
                    //èˆ‡èˆŠè³‡æ–™æ¯”å°ï¼Œæ²’æœ‰æ­¤èº«åˆ†çµ„è³‡æ–™æ¸…é™¤
                    DeleteOldPartyPower();
                    if (DoData[0] != &amp;#39;&amp;#39;) &amp;#123;
                        GetGas.postPartyPower(DoData, function(dataED) &amp;#123;
                            if (dataED) &amp;#123;
                                //botå…§è®Šæ•¸ä¸æœƒæ›´æ–°ï¼Œæ‰‹å‹•æ›´æ–°
                                PartyPowerData.unshift(&amp;#123;
                                    &amp;#39;ID&amp;#39;: DoData[0],
                                    &amp;#39;type&amp;#39;: DoData[1],
                                    &amp;#39;Power&amp;#39;: DoData[2]
                                &amp;#125;);
                                msg.channel.send(&amp;#39;è¼¸å…¥å®Œç•¢!&amp;#39;);
                            &amp;#125; else &amp;#123;
                                msg.channel.send(&amp;#39;è³‡æ–™è¼¸å…¥å¤±æ•—ï¼Œè«‹é‡æ–°å˜—è©¦&amp;#39;);
                            &amp;#125;
                            CloseAllDoingFunction();
                        &amp;#125;);
                    &amp;#125; else &amp;#123;
                        msg.channel.send(&amp;#39;è¼¸å…¥å®Œç•¢!&amp;#39;);
                        CloseAllDoingFunction();
                    &amp;#125;
                &amp;#125; else if (msg.content === &amp;#39;N&amp;#39;) &amp;#123;
                    CloseAllDoingFunction();
                    msg.channel.send(&amp;#39;å·²å–æ¶ˆè¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤&amp;#39;)
                &amp;#125; else &amp;#123;
                    DoingCount--;
                    msg.channel.send(&amp;#39;ç„¡æ³•è¾¨è­˜è¨Šæ¯ï¼Œè«‹è¼¸å…¥Y/Nä¾†é¸æ“‡&amp;#39;);
                &amp;#125;
                break;
        &amp;#125;
        if (DoUserID !== &amp;#39;&amp;#39;) DoingCount++;
    &amp;#125; catch (err) &amp;#123;
        CloseAllDoingFunction();
        client.channels.fetch(msg.channel.id).then(channel =&amp;gt; channel.send(&amp;#39;ç™¼ç”Ÿæ„å¤–éŒ¯èª¤ï¼Œä¸­æ–·æŒ‡ä»¤è¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤!&amp;#39;))
        console.log(&amp;#39;DeleteTagNowError&amp;#39;, err);
    &amp;#125;
&amp;#125;

//#endregion

//#region å°è©±è³‡æ–™åº«ç³»çµ±
function BaseExcelFunction(msg) &amp;#123;
    const messageED = GetBaseExcelData(msg);
    if (messageED) msg.channel.send(messageED);
&amp;#125;

//#endregion

//#region å­é¡æ–¹æ³•
//ç²å–é ­åƒ
function GetMyAvatar(msg) &amp;#123;
    try &amp;#123;
        return &amp;#123;
            files: [&amp;#123;
                attachment: msg.users.author.displayAvatarURL(&amp;#39;png&amp;#39;, true),
                name: &amp;#39;avatar.jpg&amp;#39;
            &amp;#125;]
        &amp;#125;;
    &amp;#125; catch (err) &amp;#123;
        console.log(&amp;#39;GetMyAvatar,Error&amp;#39;);
    &amp;#125;
&amp;#125;

//BaseExcelå­—ä¸²æ¯”å°
function GetBaseExcelData(msg) &amp;#123;
    try &amp;#123;
        if (BaseExcelData) &amp;#123;
            const userMessage = msg.content;

            e = BaseExcelData.filter(element =&amp;gt; &amp;#123;
                return element.NAME === userMessage;
            &amp;#125;)

            if (e.length != 0) return e[0].VALUE;
            else return false;
        &amp;#125;
    &amp;#125; catch (err) &amp;#123;
        console.log(&amp;#39;GetBaseExcelDataError&amp;#39;, err);
    &amp;#125;
&amp;#125;

//ç¦è¨€ç³»çµ±åˆ¤æ–·
function IsShut(msg, tempPrefix) &amp;#123;
    //ç¾¤çµ„id
    const guildID = msg.guild.id;
    //é »é“id
    const channelID = msg.channel.id;
    //ç•¶å‰ç‹€æ…‹
    let status = true;

    //å…ˆåˆ¤æ–·ç¾¤çµ„ï¼Œç¾¤çµ„åˆ¤æ–·å®Œåˆ¤æ–·é »é“(é »é“æ¬Šé™å„ªå…ˆæ–¼ç¾¤çµ„)
    const guildIF = shup.Group.find(element =&amp;gt; &amp;#123;
        if (element.GroupID == guildID) &amp;#123;
            return element.Power.indexOf(tempPrefix) !== -1;
        &amp;#125;
        return false;
    &amp;#125;)

    //æ‰¾åˆ°è³‡æ–™ = æ­¤ç¾¤çµ„å­˜åœ¨Groupä¸­ä¸”Powerå­˜åœ¨æ­¤æ¬¡æŒ‡ä»¤ä»£ç¢¼
    if (guildIF !== undefined) &amp;#123;
        status = false;
    &amp;#125;

    //é »é“
    const channelIF = shup.Channel.find(element =&amp;gt; &amp;#123;
        if (element.ChannelID == channelID) &amp;#123;
            return true;
        &amp;#125;
        return false;
    &amp;#125;)

    //æ‰¾åˆ°è³‡æ–™ = æ­¤é »é“å­˜åœ¨Channelä¸­
    if (channelIF !== undefined) &amp;#123;
        //Poweræœ‰æ­¤è³‡æ–™=&amp;gt;ç¦ç”¨åŠŸèƒ½ ç„¡è³‡æ–™=&amp;gt;ä¸è¨­é™
        if (channelIF.Power.indexOf(tempPrefix) !== -1) &amp;#123;
            status = false;
        &amp;#125; else &amp;#123;
            status = true;
        &amp;#125;
    &amp;#125;

    return status;
&amp;#125;

//ArrayIsEmpty
function isEmptyObject(obj) &amp;#123;
    return !Object.keys(obj).length;
&amp;#125;

//é—œé–‰çºŒè¡Œæ–¹æ³•
function CloseAllDoingFunction() &amp;#123;
    nowDoFunction = false;
    DoingCount = 0;
    DoUserID = &amp;#39;&amp;#39;;
    DoData = undefined;
&amp;#125;
//#endregion
&lt;/code&gt;&lt;/pre&gt;
</content>
        <category term="node.js" />
        <category term="bot" />
        <category term="discord" />
        <category term="discord.js" />
        <category term="æ•™å­¸" />
        <category term="12théµäººè³½" />
        <updated>2020-09-30T01:53:30.000Z</updated>
    </entry>
    <entry>
        <id>https://smilin.net/2020/09/29/12thDay29/</id>
        <title>Day29 - tagæ§ç®¡æ©Ÿåˆ¶(3)</title>
        <link rel="alternate" href="https://smilin.net/2020/09/29/12thDay29/"/>
        <content type="html">&lt;p&gt;æ˜¨å¤©æˆ‘å€‘åšå¥½äº† å°‡ä½¿ç”¨è€…åŠ å…¥èº«ä»½çµ„æŒ‡ä»¤&lt;br&gt;ä»Šå¤©æŠŠ å‰µå»ºèº«åˆ†çµ„çš„æŒ‡ä»¤åšå¥½&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;p&gt;è·Ÿæ˜¨å¤©ä¸€æ¨£ï¼Œè«‹å…ˆé–‹å•ŸGASï¼Œèº«åˆ†çµ„çš„GASå«åšgetPartyPower&lt;br&gt;æ–°å¢ä»¥ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/eqoYtRi.png&#34; alt=&#34;29-1&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;function doPost(e)&amp;#123;
  var para = e.parameter; // å­˜æ”¾ post æ‰€æœ‰å‚³é€çš„åƒæ•¸
  
  var id = &amp;#39;1mQ6qTJfOs3Gv5--K9r87w56wmDc3hUcpHm5hF1YKTms&amp;#39;; //æŠ“å–è¡¨å–®
  var spreadsheet = SpreadsheetApp.openById(id); // Sheet id
  var sheet1 = spreadsheet.getSheetByName(&amp;quot;PartyPower&amp;quot;); // æ ¹æ“šè¡¨æ ¼åç¨±å–è¡¨
  var rowLength = sheet1.getLastRow()-1;
  var columnLength = sheet1.getLastColumn();
  var data = sheet1.getRange(2,1,rowLength,columnLength).getValues(); // å–å¾—çš„è³‡æ–™
  var ID   = para.ID,
      type = para.type,
      Power    = para.Power;
  
  var upData = [];
  
  for(i=0;i&amp;lt;=rowLength-1;i++)&amp;#123;
    upData = data[i]
    if((upData[0]==ID) == false)&amp;#123;
      upData = undefined;
    &amp;#125;
  
  
    if(upData != undefined)&amp;#123;
      sheet1.getRange(i+2, 1).setValue(ID);
      sheet1.getRange(i+2, 2).setValue(type);
      sheet1.getRange(i+2, 3).setValue(Power);
      return ContentService.createTextOutput(upData).setMimeType(ContentService.MimeType.JSON);
    &amp;#125;
  &amp;#125;
  
  
  sheet1.appendRow([ID,type,Power]); // æ’å…¥ä¸€åˆ—æ–°çš„è³‡æ–™
  var dataExportFormat = JSON.stringify(para);
  return ContentService.createTextOutput(dataExportFormat).setMimeType(ContentService.MimeType.JSON);
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åŠ åˆ°auth.json&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/0brSMZw.png&#34; alt=&#34;29-2&#34;&gt;&lt;/p&gt;
&lt;p&gt;GetGas.js&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/9KlDFkj.png&#34; alt=&#34;29-3&#34;&gt;&lt;/p&gt;
&lt;p&gt;bot.js&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/oKcdCTg.png&#34; alt=&#34;29-4&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/nQgPf3p.png&#34; alt=&#34;29-5&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//å‰µå»ºèº«åˆ†çµ„&amp;amp;å¢åŠ èº«åˆ†çµ„å¯tagå°è±¡(çºŒè¡Œ)
function CreatePartyFunctionNow(msg) &amp;#123;
    try &amp;#123;
        switch (DoingCount) &amp;#123;
            case 0:
                DoData.push(msg.content); //èº«åˆ†çµ„ID
                DoData.push(&amp;#39;2&amp;#39;); //type 2
                msg.channel.send(`è«‹è¼¸å…¥è¦åŠ å…¥çš„tagID`);
                break;
            case 1:
                DoData.push(msg.content); //åŠ å…¥tagID
                msg.channel.send(`ç”³è«‹è³‡æ–™å¦‚ä¸‹:\nç”³è«‹äºº &amp;lt;@$&amp;#123;msg.author.id&amp;#125;&amp;gt;\næ¬Šé™çµ„ &amp;lt;@$&amp;#123;DoData[0]&amp;#125;&amp;gt;\ntagID $&amp;#123;DoData[2]&amp;#125;\næ­£ç¢º Y / éŒ¯èª¤ N`);
                break;
            case 2:
                if (msg.content === &amp;#39;Y&amp;#39;) &amp;#123;
                    msg.channel.send(&amp;#39;å·²ç¢ºèªï¼Œè¼¸å…¥è³‡æ–™ä¸­...&amp;#39;);
                    //èˆ‡èˆŠè³‡æ–™æ¯”å°ï¼Œå·²æœ‰æ­¤äººè³‡æ–™è®Šé€²è¡Œæ›´æ–°
                    EditOldPartyPower();
                    GetGas.postPartyPower(DoData, function(dataED) &amp;#123;
                        if (dataED) &amp;#123;
                            //botå…§è®Šæ•¸ä¸æœƒæ›´æ–°ï¼Œæ‰‹å‹•æ›´æ–°
                            PartyPowerData.unshift(&amp;#123;
                                &amp;#39;ID&amp;#39;: DoData[0],
                                &amp;#39;type&amp;#39;: DoData[1],
                                &amp;#39;Power&amp;#39;: DoData[2]
                            &amp;#125;);
                            msg.channel.send(&amp;#39;è¼¸å…¥å®Œç•¢!&amp;#39;);
                        &amp;#125; else &amp;#123;
                            msg.channel.send(&amp;#39;è³‡æ–™è¼¸å…¥å¤±æ•—ï¼Œè«‹é‡æ–°å˜—è©¦&amp;#39;);
                        &amp;#125;
                        CloseAllDoingFunction();
                    &amp;#125;);
                &amp;#125; else if (msg.content === &amp;#39;N&amp;#39;) &amp;#123;
                    CloseAllDoingFunction();
                    msg.channel.send(&amp;#39;å·²å–æ¶ˆè¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤&amp;#39;)
                &amp;#125; else &amp;#123;
                    DoingCount--;
                    msg.channel.send(&amp;#39;ç„¡æ³•è¾¨è­˜è¨Šæ¯ï¼Œè«‹è¼¸å…¥Y/Nä¾†é¸æ“‡&amp;#39;);
                &amp;#125;
                break;
        &amp;#125;
        if (DoUserID !== &amp;#39;&amp;#39;) DoingCount++;
    &amp;#125; catch (err) &amp;#123;
        CloseAllDoingFunction();
        client.channels.fetch(msg.channel.id).then(channel =&amp;gt; channel.send(&amp;#39;ç™¼ç”Ÿæ„å¤–éŒ¯èª¤ï¼Œä¸­æ–·æŒ‡ä»¤è¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤!&amp;#39;))
        console.log(&amp;#39;CreatePartyFunctionNowError&amp;#39;, err);
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/FB6RfAd.png&#34; alt=&#34;29-6&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä½œæ³•åŸºæœ¬ä¸Šè·Ÿä¸Šæ¬¡æ–°å¢ä½¿ç”¨è€…ä¸€æ¨£&lt;br&gt;è©¦è‘—é‹è¡Œçœ‹çœ‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/x3Qx41S.png&#34; alt=&#34;29-7&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/Mf6vO49.png&#34; alt=&#34;29-8&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/VH2f5L2.png&#34; alt=&#34;29-9&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆåŠŸ&lt;br&gt;æ˜å¤©å°±æ˜¯æœ€å¾Œä¸€ç¯‡äº†ï¼Œç­†è€…æœƒæŠŠåˆªé™¤çš„æŒ‡ä»¤åšå¥½&lt;br&gt;å…¶å¯¦è·Ÿç¾åœ¨æ–°å¢çš„ä½œæ³•æ˜¯å¤§åŒå°ç•°çš„ï¼Œå„ä½ä¸å½·è©¦è©¦çœ‹&lt;/p&gt;
&lt;p&gt;ç‚ºäº†å°‡CheckIDèˆ‡CheckPartyçš„åˆ†å·¥åŒ–æ›´æ˜ç¢ºä¸€é»ï¼Œå› æ­¤æœ‰ç¨å¾®ä¿®æ”¹ç¨‹å¼ç¢¼&lt;br&gt;é€™é‚Šè²¼ä¸Šç¨‹å¼ç¢¼&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//#region tagç³»çµ±
function TagFunction(msg, tempPrefix) &amp;#123;
    const cmd = msg.content.substring(prefix[tempPrefix].Value.length).split(&amp;#39; &amp;#39;); //ä»¥ç©ºç™½åˆ†å‰²å‰ç¶´ä»¥å¾Œçš„å­—ä¸²

    switch (cmd[0]) &amp;#123;
        case &amp;#39;AddUser&amp;#39;: //å°‡ä½¿ç”¨è€…åŠ å…¥èº«ä»½çµ„
            addUserFunction(msg);
            break;
        case &amp;#39;CreateParty&amp;#39;: //å‰µå»ºèº«åˆ†çµ„&amp;amp;å¢åŠ èº«åˆ†çµ„å¯tagå°è±¡
            CreatePartyFunction(msg);
            break;
        default: //èº«ä»½çµ„ID
            tagOther(msg, cmd);
            break;
    &amp;#125;
&amp;#125;

//tagäºº
function tagOther(msg, cmd) &amp;#123;
    CheckID(msg, cmd, msg.author.id, (msg, cmd, haveUserData) =&amp;gt; &amp;#123;
        CheckParty(msg, cmd, haveUserData, SendTagMessage);
    &amp;#125;);
&amp;#125;

//åˆ¤æ–·æ­¤äººæœ‰æ²’æœ‰ç™»è¨˜è³‡æ–™
function CheckID(msg, cmd, userID, OtherFunction) &amp;#123;
    const haveUserData = UserPowerData.find(element =&amp;gt; &amp;#123;
        return element.userID == userID;
    &amp;#125;)

    if (haveUserData !== undefined) &amp;#123;
        //æœ‰è³‡æ–™
        return OtherFunction(msg, cmd, haveUserData);
    &amp;#125; else &amp;#123;
        return OtherFunction(msg, cmd, false);
    &amp;#125;
&amp;#125;

//æ ¹æ“šUserPowerç²å¾—Party
function CheckParty(msg, cmd, haveUserData, OtherFunction) &amp;#123;
    let havePartyPower;
    havePartyPower = PartyPowerData.filter(element =&amp;gt; &amp;#123;
        if (haveUserData.Joins[i].indexOf(element.ID) != -1) &amp;#123;
            return element.Power.indexOf(cmd[1]) != -1
        &amp;#125;
    &amp;#125;)

    if (isEmptyObject(havePartyPower)) &amp;#123;
        OtherFunction(msg, cmd, haveUserData, false);
    &amp;#125; else &amp;#123;
        OtherFunction(msg, cmd, haveUserData, havePartyPower);
    &amp;#125;
&amp;#125;

//å‚³é€è¨Šæ¯å–®ç¨å¯¦ä¾‹
function SendTagMessage(msg, cmd, haveUserData, havePartyPower) &amp;#123;
    if (haveUserData.IsAdmin) &amp;#123;
        msg.channel.send(`&amp;lt;@&amp;amp;$&amp;#123;cmd[1]&amp;#125;&amp;gt;\nä¾†è‡ªç®¡ç†å“¡&amp;lt;@$&amp;#123;msg.author.id&amp;#125;&amp;gt;çš„æŒ‡ä»¤å‘¼å«`);
    &amp;#125; else if (havePartyPower) &amp;#123;
        msg.channel.send(`&amp;lt;@&amp;amp;$&amp;#123;cmd[1]&amp;#125;&amp;gt;\nä¾†è‡ª&amp;lt;@$&amp;#123;msg.author.id&amp;#125;&amp;gt;çš„æŒ‡ä»¤å‘¼å«`);
    &amp;#125; else &amp;#123;
        msg.channel.send(&amp;#39;ç„¡æ¬Šé™ï¼Œè«‹ç¢ºèªåƒæ•¸æ˜¯å¦æ­£ç¢º&amp;#39;);
    &amp;#125;
&amp;#125;

//å°‡xxxåŠ å…¥èº«åˆ†çµ„
function addUserFunction(msg) &amp;#123;
    try &amp;#123;
        if (DoUserID === &amp;#39;&amp;#39;) &amp;#123;
            tempIsAdmin = CheckID(msg, null, msg.author.id, function(msg, cmd, haveUserData) &amp;#123;
                if (haveUserData.IsAdmin) return true;
                else return false;
            &amp;#125;);
            if (tempIsAdmin) &amp;#123;
                nowDoFunction = addUserFunctionNow;
                DoUserID = msg.author.id;
                DoData = new Array;
                msg.channel.send(&amp;#39;è«‹è¼¸å…¥è¦åŠ å…¥çš„ä½¿ç”¨è€…id&amp;#39;);
            &amp;#125; else &amp;#123;
                msg.channel.send(&amp;#39;æ­¤æŒ‡ä»¤åªæœ‰ç®¡ç†å“¡å¯åŸ·è¡Œ&amp;#39;);
            &amp;#125;
        &amp;#125; else &amp;#123;
            msg.channel.send(&amp;#39;æœ‰å…¶ä»–äººæ­£åœ¨ä½¿ç”¨çºŒè¡Œä¸­ï¼Œè«‹ç¨ç­‰&amp;#39;);
        &amp;#125;
    &amp;#125; catch (err) &amp;#123;
        console.log(&amp;#39;addUserFunctionError&amp;#39;, err);
    &amp;#125;
&amp;#125;

//å°‡xxxåŠ å…¥èº«ä»½çµ„(çºŒè¡Œæ–¹æ³•)
function addUserFunctionNow(msg) &amp;#123;
    try &amp;#123;
        switch (DoingCount) &amp;#123;
            case 0:
                DoData.push(msg.content); //åŠ å…¥ä½¿ç”¨è€…id
                DoData.push(msg.author.username); //åŠ å…¥ç”³è«‹è€…åå­—
                msg.channel.send(`è«‹è¼¸å…¥è¦åŠ å…¥çš„ç¾¤çµ„`);
                break;
            case 1:
                DoData.push(msg.content); //åŠ å…¥ç¾¤çµ„
                DoData.push(false); //IsAdminé è¨­Falseä¸å¯ä¿®æ”¹
                msg.channel.send(`ç”³è«‹è³‡æ–™å¦‚ä¸‹:\nç”³è«‹äºº &amp;lt;@$&amp;#123;msg.author.id&amp;#125;&amp;gt;\nä½¿ç”¨è€… &amp;lt;@$&amp;#123;DoData[0]&amp;#125;&amp;gt;\nåŠ å…¥æ¬Šé™çµ„ $&amp;#123;DoData[2]&amp;#125;\næ­£ç¢º Y / éŒ¯èª¤ N`);
                break;
            case 2:
                if (msg.content === &amp;#39;Y&amp;#39;) &amp;#123;
                    msg.channel.send(&amp;#39;å·²ç¢ºèªï¼Œè¼¸å…¥è³‡æ–™ä¸­...&amp;#39;);
                    //èˆ‡èˆŠè³‡æ–™æ¯”å°ï¼Œå·²æœ‰æ­¤äººè³‡æ–™è®Šé€²è¡Œæ›´æ–°
                    CheckID(msg, null, DoData[0], EditOldUserPower);
                    GetGas.postUserPower(DoData, function(dataED) &amp;#123;
                        if (dataED) &amp;#123;
                            //botå…§è®Šæ•¸ä¸æœƒæ›´æ–°ï¼Œæ‰‹å‹•æ›´æ–°
                            UserPowerData.unshift(&amp;#123;
                                &amp;#39;userID&amp;#39;: DoData[0],
                                &amp;#39;userName&amp;#39;: DoData[1],
                                &amp;#39;Joins&amp;#39;: DoData[2],
                                &amp;#39;IsAdmin&amp;#39;: DoData[3]
                            &amp;#125;);
                            msg.channel.send(&amp;#39;è¼¸å…¥å®Œç•¢!&amp;#39;);
                        &amp;#125; else &amp;#123;
                            msg.channel.send(&amp;#39;è³‡æ–™è¼¸å…¥å¤±æ•—ï¼Œè«‹é‡æ–°å˜—è©¦&amp;#39;);
                        &amp;#125;
                        CloseAllDoingFunction();
                    &amp;#125;);
                &amp;#125; else if (msg.content === &amp;#39;N&amp;#39;) &amp;#123;
                    CloseAllDoingFunction();
                    msg.channel.send(&amp;#39;å·²å–æ¶ˆè¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤&amp;#39;)
                &amp;#125; else &amp;#123;
                    DoingCount--;
                    msg.channel.send(&amp;#39;ç„¡æ³•è¾¨è­˜è¨Šæ¯ï¼Œè«‹è¼¸å…¥Y/Nä¾†é¸æ“‡&amp;#39;);
                &amp;#125;
                break;
        &amp;#125;
        if (DoUserID !== &amp;#39;&amp;#39;) DoingCount++;
    &amp;#125; catch (err) &amp;#123;
        CloseAllDoingFunction();
        client.channels.fetch(msg.channel.id).then(channel =&amp;gt; channel.send(&amp;#39;ç™¼ç”Ÿæ„å¤–éŒ¯èª¤ï¼Œä¸­æ–·æŒ‡ä»¤è¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤!&amp;#39;))
        console.log(&amp;#39;addUserFunctionNowError&amp;#39;, err);
    &amp;#125;
&amp;#125;

//ç”¨æˆ¶èˆŠè³‡æ–™æ›´æ–°
function EditOldUserPower(msg, cmd, haveUserData) &amp;#123;
    //äºŒæ¬¡ç¢ºèª
    if (haveUserData) &amp;#123;
        if (DoData[0] == haveUserData.userID) &amp;#123;
            DoData[2] = haveUserData.Joins + &amp;#39;;&amp;#39; + DoData[2];
            DoData[3] = haveUserData.IsAdmin;
            return true;
        &amp;#125; else return false;
    &amp;#125; else return false;
&amp;#125;

//å‰µå»ºèº«åˆ†çµ„&amp;amp;å¢åŠ èº«åˆ†çµ„å¯tagå°è±¡
function CreatePartyFunction(msg) &amp;#123;
    try &amp;#123;
        if (DoUserID === &amp;#39;&amp;#39;) &amp;#123;
            tempIsAdmin = CheckID(msg, null, msg.author.id, function(msg, cmd, haveUserData) &amp;#123;
                if (haveUserData) &amp;#123;
                    if (haveUserData.IsAdmin) return true;
                    else return false;
                &amp;#125; else return false;
            &amp;#125;);
            if (tempIsAdmin) &amp;#123;
                nowDoFunction = CreatePartyFunctionNow;
                DoUserID = msg.author.id;
                DoData = new Array;
                msg.channel.send(&amp;#39;è«‹è¼¸å…¥èº«ä»½çµ„åç¨±&amp;#39;);
            &amp;#125; else &amp;#123;
                msg.channel.send(&amp;#39;æ­¤æŒ‡ä»¤åªæœ‰ç®¡ç†å“¡å¯åŸ·è¡Œ&amp;#39;);
            &amp;#125;
        &amp;#125; else &amp;#123;
            msg.channel.send(&amp;#39;æœ‰å…¶ä»–äººæ­£åœ¨ä½¿ç”¨çºŒè¡Œä¸­ï¼Œè«‹ç¨ç­‰&amp;#39;);
        &amp;#125;
    &amp;#125; catch (err) &amp;#123;
        console.log(&amp;#39;CreatePartyFunctionError&amp;#39;, err);
    &amp;#125;
&amp;#125;

//å‰µå»ºèº«åˆ†çµ„&amp;amp;å¢åŠ èº«åˆ†çµ„å¯tagå°è±¡(çºŒè¡Œ)
function CreatePartyFunctionNow(msg) &amp;#123;
    try &amp;#123;
        switch (DoingCount) &amp;#123;
            case 0:
                DoData.push(msg.content); //èº«åˆ†çµ„ID
                DoData.push(&amp;#39;2&amp;#39;); //type 2
                msg.channel.send(`è«‹è¼¸å…¥è¦åŠ å…¥çš„tagID`);
                break;
            case 1:
                DoData.push(msg.content); //åŠ å…¥tagID
                msg.channel.send(`ç”³è«‹è³‡æ–™å¦‚ä¸‹:\nç”³è«‹äºº &amp;lt;@$&amp;#123;msg.author.id&amp;#125;&amp;gt;\næ¬Šé™çµ„ $&amp;#123;DoData[0]&amp;#125;\ntagID $&amp;#123;DoData[2]&amp;#125;\næ­£ç¢º Y / éŒ¯èª¤ N`);
                break;
            case 2:
                if (msg.content === &amp;#39;Y&amp;#39;) &amp;#123;
                    msg.channel.send(&amp;#39;å·²ç¢ºèªï¼Œè¼¸å…¥è³‡æ–™ä¸­...&amp;#39;);
                    //èˆ‡èˆŠè³‡æ–™æ¯”å°ï¼Œå·²æœ‰æ­¤äººè³‡æ–™è®Šé€²è¡Œæ›´æ–°
                    EditOldPartyPower();
                    GetGas.postPartyPower(DoData, function(dataED) &amp;#123;
                        if (dataED) &amp;#123;
                            //botå…§è®Šæ•¸ä¸æœƒæ›´æ–°ï¼Œæ‰‹å‹•æ›´æ–°
                            PartyPowerData.unshift(&amp;#123;
                                &amp;#39;ID&amp;#39;: DoData[0],
                                &amp;#39;type&amp;#39;: DoData[1],
                                &amp;#39;Power&amp;#39;: DoData[2]
                            &amp;#125;);
                            msg.channel.send(&amp;#39;è¼¸å…¥å®Œç•¢!&amp;#39;);
                        &amp;#125; else &amp;#123;
                            msg.channel.send(&amp;#39;è³‡æ–™è¼¸å…¥å¤±æ•—ï¼Œè«‹é‡æ–°å˜—è©¦&amp;#39;);
                        &amp;#125;
                        CloseAllDoingFunction();
                    &amp;#125;);
                &amp;#125; else if (msg.content === &amp;#39;N&amp;#39;) &amp;#123;
                    CloseAllDoingFunction();
                    msg.channel.send(&amp;#39;å·²å–æ¶ˆè¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤&amp;#39;)
                &amp;#125; else &amp;#123;
                    DoingCount--;
                    msg.channel.send(&amp;#39;ç„¡æ³•è¾¨è­˜è¨Šæ¯ï¼Œè«‹è¼¸å…¥Y/Nä¾†é¸æ“‡&amp;#39;);
                &amp;#125;
                break;
        &amp;#125;
        if (DoUserID !== &amp;#39;&amp;#39;) DoingCount++;
    &amp;#125; catch (err) &amp;#123;
        CloseAllDoingFunction();
        client.channels.fetch(msg.channel.id).then(channel =&amp;gt; channel.send(&amp;#39;ç™¼ç”Ÿæ„å¤–éŒ¯èª¤ï¼Œä¸­æ–·æŒ‡ä»¤è¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤!&amp;#39;))
        console.log(&amp;#39;CreatePartyFunctionNowError&amp;#39;, err);
    &amp;#125;
&amp;#125;

//æ¬Šé™çµ„èˆŠè³‡æ–™æ›´æ–°
function EditOldPartyPower() &amp;#123;
    if (PartyPowerData) &amp;#123;
        const tempPartyData = PartyPowerData.find(element =&amp;gt; &amp;#123;
            return element.ID == DoData[0];
        &amp;#125;)

        if (tempPartyData !== undefined) &amp;#123;
            DoData[2] = tempPartyData.Power + &amp;#39;;&amp;#39; + DoData[2];
        &amp;#125;
    &amp;#125;
&amp;#125;

//#endregion
&lt;/code&gt;&lt;/pre&gt;
</content>
        <category term="node.js" />
        <category term="bot" />
        <category term="discord" />
        <category term="discord.js" />
        <category term="æ•™å­¸" />
        <category term="12théµäººè³½" />
        <updated>2020-09-29T01:27:13.000Z</updated>
    </entry>
    <entry>
        <id>https://smilin.net/2020/09/28/12thDay28/</id>
        <title>Day28 - tagæ§ç®¡æ©Ÿåˆ¶(2)</title>
        <link rel="alternate" href="https://smilin.net/2020/09/28/12thDay28/"/>
        <content type="html">&lt;p&gt;ä»Šå¤©ä¾†æŠŠpostAPIè·ŸçºŒè¡Œçš„æ¡†æ¶èˆ‡åŠ å…¥ä½¿ç”¨è€…è‡³èº«ä»½çµ„çš„åŠŸèƒ½å¯«å¥½&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;p&gt;è«‹æ‰“é–‹ä¹‹å‰å†googleé›²ç«¯ä¸Šå‰µå»ºçš„GAS ï¼Œ getUserPower&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/cPksdp2.png&#34; alt=&#34;28-1&#34;&gt;&lt;/p&gt;
&lt;p&gt;åŸæœ¬çš„ç¨‹å¼å¯«åœ¨doGetæ–¹æ³•ï¼Œæˆ‘å€‘åœ¨doGetæ–¹æ³•ä¸‹æ–°å¢ä¸€å€‹doPostæ–¹æ³•ï¼Œç„¶å¾Œå¯«ä¸Šé€™äº›æ±è¥¿&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;function doPost(e)&amp;#123;
  var para = e.parameter; // å­˜æ”¾ post æ‰€æœ‰å‚³é€çš„åƒæ•¸
  
  var id = &amp;#39;1mQ6qTJfOs3Gv5--K9r87w56wmDc3hUcpHm5hF1YKTms&amp;#39;; //æŠ“å–è¡¨å–®
  var spreadsheet = SpreadsheetApp.openById(id); // Sheet id
  var sheet1 = spreadsheet.getSheetByName(&amp;quot;UserPower&amp;quot;); // æ ¹æ“šè¡¨æ ¼åç¨±å–è¡¨
  var rowLength = sheet1.getLastRow()-1;
  var columnLength = sheet1.getLastColumn();
  var data = sheet1.getRange(2,1,rowLength,columnLength).getValues(); // å–å¾—çš„è³‡æ–™
  var userID   = para.userID,
      userName = para.userName,
      Joins    = para.Joins,
      IsAdmin  = para.IsAdmin;
  
  var upData = [];
  
  for(i=0;i&amp;lt;=rowLength-1;i++)&amp;#123;
    upData = data[i]
    if((upData[0]==userID) == false)&amp;#123;
      upData = undefined;
    &amp;#125;
  
  
    if(upData != undefined)&amp;#123;
      sheet1.getRange(i+2, 1).setValue(userID);
      sheet1.getRange(i+2, 2).setValue(userName);
      sheet1.getRange(i+2, 3).setValue(Joins);
      sheet1.getRange(i+2, 4).setValue(IsAdmin);
      return ContentService.createTextOutput(upData).setMimeType(ContentService.MimeType.JSON);
    &amp;#125;
  &amp;#125;
  
  
  sheet1.appendRow([userID,userName,Joins,IsAdmin]); // æ’å…¥ä¸€åˆ—æ–°çš„è³‡æ–™
  var dataExportFormat = JSON.stringify(para);
  return ContentService.createTextOutput(dataExportFormat).setMimeType(ContentService.MimeType.JSON);
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;doGetèˆ‡doPostæ˜¯GASé»˜èªçš„Getèˆ‡Postæ–¹æ³•&lt;br&gt;ä½¿ç”¨ä»–çš„UrlåŸ·è¡ŒGetè«‹æ±‚å°±æœƒé€²doGet&lt;br&gt;åä¹‹postå°±æœƒé€²doPost&lt;/p&gt;
&lt;p&gt;å›åˆ°ç¨‹åºï¼Œä¸€æ¨£åœ¨authåŠ å…¥url&lt;br&gt;é›–ç„¶å€¼è·ŸGetæ–¹æ³•æ™‚çš„Urlä¸€æ¨£ï¼Œä¸éé€™æ¨£å¯«æœƒæ¯”è¼ƒå¥½åˆ†è¾¨ï¼Œä¹‹å¾Œæƒ³æ”¹æˆå…©å€‹æª”æ¡ˆä¹Ÿå¯ä»¥&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/znAkUYg.png&#34; alt=&#34;28-2&#34;&gt;&lt;/p&gt;
&lt;p&gt;å› ç‚ºæˆ‘å€‘è¦åœ¨postè«‹æ±‚å¸¶å…¥åƒæ•¸ï¼Œé€™é‚Šå°‡è«‹æ±‚URLçš„å®£å‘Šç›´æ¥æ”¾åˆ°å¯¦ä½œè£¡é¢&lt;br&gt;é€™æ¨£åœ¨å‰µå»ºçš„åŒæ™‚ä¹Ÿæœƒå¸¶å…¥åƒæ•¸&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/tiDcUkk.png&#34; alt=&#34;28-3&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;exports.postUserPower = function(bodyData, callback) &amp;#123;
    const userPowerPost = &amp;#123;
        &amp;#39;method&amp;#39;: &amp;#39;POST&amp;#39;,
        &amp;#39;url&amp;#39;: auth.Gas.Post.UserPower,
        &amp;#39;headers&amp;#39;: &amp;#123;&amp;#125;,
        form: &amp;#123;
            &amp;#39;userID&amp;#39;: bodyData[0],
            &amp;#39;userName&amp;#39;: bodyData[1],
            &amp;#39;Joins&amp;#39;: bodyData[2],
            &amp;#39;IsAdmin&amp;#39;: bodyData[3]
        &amp;#125;
    &amp;#125;;
    request(userPowerPost, function(error, response) &amp;#123;
        try &amp;#123;
            if (error) &amp;#123;
                console.log(&amp;#39;postUserPowerError1&amp;#39;, error);
                callback(false);
            &amp;#125; else &amp;#123;
                callback(true);
            &amp;#125;
        &amp;#125; catch (err) &amp;#123;
            console.log(&amp;#39;postUserPowerError2&amp;#39;, err);
            callback(false);
        &amp;#125;
    &amp;#125;);
&amp;#125;;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨å…¨åŸŸè®Šæ•¸(æœ€ä¸Šæ–¹)æ–°å¢é€™å››å€‹æ±è¥¿&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/qJhS30L.png&#34; alt=&#34;28-4&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å­é¡æ–¹æ³•(æœ€ä¸‹æ–¹)åŠ å…¥åˆå§‹åŒ–æ–¹æ³•&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/bSFGj1I.png&#34; alt=&#34;28-5&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨onMessageä¸­é–“åŠ å…¥çºŒè¡Œæ–¹æ³•å…¥å£&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/4NE1BQC.png&#34; alt=&#34;28-6&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    //çºŒè¡Œæ–¹æ³•
    if (nowDoFunction &amp;amp;&amp;amp; msg.author.id === DoUserID) &amp;#123;
        nowDoFunction(msg);
        return;
    &amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨tagç³»çµ±å…¥å£åŠ å…¥addUser&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/66thUHz.png&#34; alt=&#34;28-7&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¯¦ä¾‹addUserFunction&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/Fxh4bSy.png&#34; alt=&#34;28-8&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//å°‡xxxåŠ å…¥èº«åˆ†çµ„
function addUserFunction(msg) &amp;#123;
    try &amp;#123;
        if (DoUserID === &amp;#39;&amp;#39;) &amp;#123;
            nowDoFunction = addUserFunctionNow;
            DoUserID = msg.author.id;
            DoData = new Array;
            msg.channel.send(&amp;#39;è«‹è¼¸å…¥è¦åŠ å…¥çš„ä½¿ç”¨è€…id&amp;#39;);
        &amp;#125; else &amp;#123;
            msg.channel.send(&amp;#39;æœ‰å…¶ä»–äººæ­£åœ¨ä½¿ç”¨çºŒè¡Œä¸­ï¼Œè«‹ç¨ç­‰&amp;#39;);
        &amp;#125;
    &amp;#125; catch (err) &amp;#123;
        console.log(&amp;#39;addUserFunctionError&amp;#39;, err);
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯¦ä¾‹addUserFunctionNow(çºŒè¡Œæ–¹æ³•)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//å°‡xxxåŠ å…¥èº«ä»½çµ„(çºŒè¡Œæ–¹æ³•)
function addUserFunctionNow(msg) &amp;#123;
    try &amp;#123;
        switch (DoingCount) &amp;#123;
            case 0:
                DoData.push(msg.content); //åŠ å…¥ä½¿ç”¨è€…id
                DoData.push(msg.author.username); //åŠ å…¥ç”³è«‹è€…åå­—
                msg.channel.send(`è«‹è¼¸å…¥è¦åŠ å…¥çš„ç¾¤çµ„`);
                break;
            case 1:
                DoData.push(msg.content); //åŠ å…¥ç¾¤çµ„
                DoData.push(false); //IsAdminé è¨­Falseä¸å¯ä¿®æ”¹
                msg.channel.send(`ç”³è«‹è³‡æ–™å¦‚ä¸‹:\nç”³è«‹äºº &amp;lt;@$&amp;#123;msg.author.id&amp;#125;&amp;gt;\nä½¿ç”¨è€… &amp;lt;@$&amp;#123;DoData[0]&amp;#125;&amp;gt;\nåŠ å…¥æ¬Šé™çµ„ $&amp;#123;DoData[2]&amp;#125;\næ­£ç¢º Y / éŒ¯èª¤ N`);
                break;
            case 2:
                if (msg.content === &amp;#39;Y&amp;#39;) &amp;#123;
                    msg.channel.send(&amp;#39;å·²ç¢ºèªï¼Œè¼¸å…¥è³‡æ–™ä¸­...&amp;#39;);
                    //èˆ‡èˆŠè³‡æ–™æ¯”å°ï¼Œå·²æœ‰æ­¤äººè³‡æ–™è®Šé€²è¡Œæ›´æ–°
                    CheckID(msg, null, EditOldUserPower, DoData[0]);
                    GetGas.postUserPower(DoData, function(dataED) &amp;#123;
                        if (dataED) &amp;#123;
                            //botå…§è®Šæ•¸ä¸æœƒæ›´æ–°ï¼Œæ‰‹å‹•æ›´æ–°
                            UserPowerData.unshift(&amp;#123;
                                &amp;#39;userID&amp;#39;: DoData[0],
                                &amp;#39;userName&amp;#39;: DoData[1],
                                &amp;#39;Joins&amp;#39;: DoData[2],
                                &amp;#39;IsAdmin&amp;#39;: DoData[3]
                            &amp;#125;);
                            msg.channel.send(&amp;#39;è¼¸å…¥å®Œç•¢!&amp;#39;);
                        &amp;#125; else &amp;#123;
                            msg.channel.send(&amp;#39;è³‡æ–™è¼¸å…¥å¤±æ•—ï¼Œè«‹é‡æ–°å˜—è©¦&amp;#39;);
                        &amp;#125;
                        CloseAllDoingFunction();
                    &amp;#125;);
                &amp;#125; else if (msg.content === &amp;#39;N&amp;#39;) &amp;#123;
                    CloseAllDoingFunction();
                    msg.channel.send(&amp;#39;å·²å–æ¶ˆè¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤&amp;#39;)
                &amp;#125; else &amp;#123;
                    DoingCount--;
                    msg.channel.send(&amp;#39;ç„¡æ³•è¾¨è­˜è¨Šæ¯ï¼Œè«‹è¼¸å…¥Y/Nä¾†é¸æ“‡&amp;#39;);
                &amp;#125;
                break;
        &amp;#125;
        if (DoUserID !== &amp;#39;&amp;#39;) DoingCount++;
    &amp;#125; catch (err) &amp;#123;
        CloseAllDoingFunction();
        client.channels.fetch(msg.channel.id).then(channel =&amp;gt; channel.send(&amp;#39;ç™¼ç”Ÿæ„å¤–éŒ¯èª¤ï¼Œä¸­æ–·æŒ‡ä»¤è¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤!&amp;#39;))
        console.log(&amp;#39;addUserFunctionNowError&amp;#39;, err);
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¾®èª¿CheckIDèˆ‡CheckParty&lt;br&gt;å°‡userIDçš„å–å€¼ç¨ç«‹ï¼Œå°‡adminåˆ¤æ–·æ‹‰åˆ°CheckParty&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/EFqmBqa.png&#34; alt=&#34;28-9&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/6Oos50b.png&#34; alt=&#34;28-10&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¯¦ä¾‹EditOldUserPower&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/0HXohq7.png&#34; alt=&#34;28-11&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;æ¸¬è©¦ç’°ç¯€&#34;&gt;&lt;a href=&#34;#æ¸¬è©¦ç’°ç¯€&#34; class=&#34;headerlink&#34; title=&#34;æ¸¬è©¦ç’°ç¯€&#34;&gt;&lt;/a&gt;æ¸¬è©¦ç’°ç¯€&lt;/h1&gt;&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/HWloU7g.png&#34; alt=&#34;28-12&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/dJplXOG.png&#34; alt=&#34;28-13&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/ppMXmB4.png&#34; alt=&#34;28-14&#34;&gt; &lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/EO9pkZt.png&#34; alt=&#34;28-15&#34;&gt;&lt;/p&gt;
&lt;p&gt;å®Œæˆ&lt;/p&gt;
&lt;p&gt;å› ç‚ºä»Šå¤©æœ‰ä¿®æ”¹åˆ°Day26çš„æ±è¥¿ï¼Œé€™å¯èƒ½å°è‡´æ•™å­¸æœ‰é»é›œäº‚&lt;br&gt;åº•ä¸‹é™„ä¸Štagç³»çµ±ç›®å‰çš„ç¨‹å¼ç¢¼ï¼Œç•¶ä½œå½Œè£œ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//#region tagç³»çµ±
function TagFunction(msg, tempPrefix) &amp;#123;
    const cmd = msg.content.substring(prefix[tempPrefix].Value.length).split(&amp;#39; &amp;#39;); //ä»¥ç©ºç™½åˆ†å‰²å‰ç¶´ä»¥å¾Œçš„å­—ä¸²

    switch (cmd[0]) &amp;#123;
        case &amp;#39;addUser&amp;#39;: //å°‡ä½¿ç”¨è€…åŠ å…¥èº«ä»½çµ„
            addUserFunction(msg);
            break;
        default: //èº«ä»½çµ„ID
            CheckID(msg, cmd, CheckParty, msg.author.id);
            break;
    &amp;#125;
&amp;#125;

//åˆ¤æ–·æ­¤äººæœ‰æ²’æœ‰ç™»è¨˜è³‡æ–™
function CheckID(msg, cmd, OtherFunction, userID) &amp;#123;
    const haveUserData = UserPowerData.find(element =&amp;gt; &amp;#123;
        return element.userID == userID;
    &amp;#125;)

    if (haveUserData !== undefined) &amp;#123;
        //æœ‰è³‡æ–™
        return OtherFunction(msg, cmd, haveUserData);
    &amp;#125; else &amp;#123;
        return false;
    &amp;#125;
&amp;#125;

//æ ¹æ“šUserPowerç²å¾—Party
function CheckParty(msg, cmd, haveUserData) &amp;#123;

    if (haveUserData.IsAdmin) &amp;#123;
        //æ˜¯ç®¡ç†å“¡ï¼Œç›´æ¥åšå¾ŒçºŒäº‹æƒ…
        return SendTagMessage(msg, `&amp;lt;@&amp;amp;$&amp;#123;cmd[1]&amp;#125;&amp;gt;\nä¾†è‡ªç®¡ç†å“¡&amp;lt;@$&amp;#123;msg.author.id&amp;#125;&amp;gt;çš„æŒ‡ä»¤å‘¼å«`);
    &amp;#125;

    let havePartyPower;
    havePartyPower = PartyPowerData.filter(element =&amp;gt; &amp;#123;
        if (haveUserData.Joins[i].indexOf(element.ID) != -1) &amp;#123;
            return element.Power.indexOf(cmd[1]) != -1
        &amp;#125;
    &amp;#125;)

    if (isEmptyObject(havePartyPower)) &amp;#123;
        SendTagMessage(msg, &amp;#39;ç„¡æ¬Šé™ï¼Œè«‹ç¢ºèªåƒæ•¸æ˜¯å¦æ­£ç¢º&amp;#39;);
    &amp;#125; else &amp;#123;
        SendTagMessage(msg, `&amp;lt;@&amp;amp;$&amp;#123;cmd[1]&amp;#125;&amp;gt;\nä¾†è‡ª&amp;lt;@$&amp;#123;msg.author.id&amp;#125;&amp;gt;çš„æŒ‡ä»¤å‘¼å«`);
    &amp;#125;
&amp;#125;

//å‚³é€è¨Šæ¯å–®ç¨å¯¦ä¾‹
function SendTagMessage(msg, data) &amp;#123;
    msg.channel.send(data);
&amp;#125;

//å°‡xxxåŠ å…¥èº«åˆ†çµ„
function addUserFunction(msg) &amp;#123;
    try &amp;#123;
        if (DoUserID === &amp;#39;&amp;#39;) &amp;#123;
            nowDoFunction = addUserFunctionNow;
            DoUserID = msg.author.id;
            DoData = new Array;
            msg.channel.send(&amp;#39;è«‹è¼¸å…¥è¦åŠ å…¥çš„ä½¿ç”¨è€…id&amp;#39;);
        &amp;#125; else &amp;#123;
            msg.channel.send(&amp;#39;æœ‰å…¶ä»–äººæ­£åœ¨ä½¿ç”¨çºŒè¡Œä¸­ï¼Œè«‹ç¨ç­‰&amp;#39;);
        &amp;#125;
    &amp;#125; catch (err) &amp;#123;
        console.log(&amp;#39;addUserFunctionError&amp;#39;, err);
    &amp;#125;
&amp;#125;

//å°‡xxxåŠ å…¥èº«ä»½çµ„(çºŒè¡Œæ–¹æ³•)
function addUserFunctionNow(msg) &amp;#123;
    try &amp;#123;
        switch (DoingCount) &amp;#123;
            case 0:
                DoData.push(msg.content); //åŠ å…¥ä½¿ç”¨è€…id
                DoData.push(msg.author.username); //åŠ å…¥ç”³è«‹è€…åå­—
                msg.channel.send(`è«‹è¼¸å…¥è¦åŠ å…¥çš„ç¾¤çµ„`);
                break;
            case 1:
                DoData.push(msg.content); //åŠ å…¥ç¾¤çµ„
                DoData.push(false); //IsAdminé è¨­Falseä¸å¯ä¿®æ”¹
                msg.channel.send(`ç”³è«‹è³‡æ–™å¦‚ä¸‹:\nç”³è«‹äºº &amp;lt;@$&amp;#123;msg.author.id&amp;#125;&amp;gt;\nä½¿ç”¨è€… &amp;lt;@$&amp;#123;DoData[0]&amp;#125;&amp;gt;\nåŠ å…¥æ¬Šé™çµ„ $&amp;#123;DoData[2]&amp;#125;\næ­£ç¢º Y / éŒ¯èª¤ N`);
                break;
            case 2:
                if (msg.content === &amp;#39;Y&amp;#39;) &amp;#123;
                    msg.channel.send(&amp;#39;å·²ç¢ºèªï¼Œè¼¸å…¥è³‡æ–™ä¸­...&amp;#39;);
                    //èˆ‡èˆŠè³‡æ–™æ¯”å°ï¼Œå·²æœ‰æ­¤äººè³‡æ–™è®Šé€²è¡Œæ›´æ–°
                    CheckID(msg, null, EditOldUserPower, DoData[0]);
                    GetGas.postUserPower(DoData, function(dataED) &amp;#123;
                        if (dataED) &amp;#123;
                            //botå…§è®Šæ•¸ä¸æœƒæ›´æ–°ï¼Œæ‰‹å‹•æ›´æ–°
                            UserPowerData.unshift(&amp;#123;
                                &amp;#39;userID&amp;#39;: DoData[0],
                                &amp;#39;userName&amp;#39;: DoData[1],
                                &amp;#39;Joins&amp;#39;: DoData[2],
                                &amp;#39;IsAdmin&amp;#39;: DoData[3]
                            &amp;#125;);
                            msg.channel.send(&amp;#39;è¼¸å…¥å®Œç•¢!&amp;#39;);
                        &amp;#125; else &amp;#123;
                            msg.channel.send(&amp;#39;è³‡æ–™è¼¸å…¥å¤±æ•—ï¼Œè«‹é‡æ–°å˜—è©¦&amp;#39;);
                        &amp;#125;
                        CloseAllDoingFunction();
                    &amp;#125;);
                &amp;#125; else if (msg.content === &amp;#39;N&amp;#39;) &amp;#123;
                    CloseAllDoingFunction();
                    msg.channel.send(&amp;#39;å·²å–æ¶ˆè¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤&amp;#39;)
                &amp;#125; else &amp;#123;
                    DoingCount--;
                    msg.channel.send(&amp;#39;ç„¡æ³•è¾¨è­˜è¨Šæ¯ï¼Œè«‹è¼¸å…¥Y/Nä¾†é¸æ“‡&amp;#39;);
                &amp;#125;
                break;
        &amp;#125;
        if (DoUserID !== &amp;#39;&amp;#39;) DoingCount++;
    &amp;#125; catch (err) &amp;#123;
        CloseAllDoingFunction();
        client.channels.fetch(msg.channel.id).then(channel =&amp;gt; channel.send(&amp;#39;ç™¼ç”Ÿæ„å¤–éŒ¯èª¤ï¼Œä¸­æ–·æŒ‡ä»¤è¡Œç‚ºï¼Œè«‹é‡æ–°ä¸‹é”æŒ‡ä»¤!&amp;#39;))
        console.log(&amp;#39;addUserFunctionNowError&amp;#39;, err);
    &amp;#125;
&amp;#125;

//ç”¨æˆ¶èˆŠè³‡æ–™æ›´æ–°
function EditOldUserPower(msg, cmd, haveUserData) &amp;#123;
    //äºŒæ¬¡ç¢ºèª
    if (DoData[0] == haveUserData.userID) &amp;#123;
        DoData[2] = haveUserData.Joins + &amp;#39;;&amp;#39; + DoData[2];
        DoData[3] = haveUserData.IsAdmin;
        return true;
    &amp;#125; else return false;
&amp;#125;
//#endregion
&lt;/code&gt;&lt;/pre&gt;
</content>
        <category term="node.js" />
        <category term="bot" />
        <category term="discord" />
        <category term="discord.js" />
        <category term="æ•™å­¸" />
        <category term="12théµäººè³½" />
        <updated>2020-09-28T01:25:39.000Z</updated>
    </entry>
    <entry>
        <id>https://smilin.net/2020/09/27/12thDay27/</id>
        <title>Day27 - tagæ§ç®¡ - çºŒè¡Œæ–¹æ³•è§£èªª</title>
        <link rel="alternate" href="https://smilin.net/2020/09/27/12thDay27/"/>
        <content type="html">&lt;p&gt;æ˜¨å¤©æˆ‘å€‘å¯¦ä½œäº†tagèº«ä»½çµ„åŠŸèƒ½&lt;br&gt;ä½¿ç”¨è€…é€éæ©Ÿå™¨äººtagä¸€æ•´å€‹èº«ä»½çµ„çš„åŠŸèƒ½&lt;br&gt;æˆ‘å€‘å¸Œæœ›é‚„å¯ä»¥æœ‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‰µå»ºèº«åˆ†çµ„çš„æŒ‡ä»¤&lt;/li&gt;
&lt;li&gt;å°‡ä½¿ç”¨è€…åŠ å…¥èº«ä»½çµ„æŒ‡ä»¤&lt;/li&gt;
&lt;li&gt;åˆªé™¤èº«åˆ†çµ„çš„æŒ‡ä»¤&lt;/li&gt;
&lt;li&gt;å°‡ä½¿ç”¨è€…å¾æŸå€‹èº«ä»½çµ„ä¸­åˆªé™¤çš„æŒ‡ä»¤&lt;/li&gt;
&lt;/ul&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;p&gt;é€™äº›åŠŸèƒ½èˆ‡ä»¥å¾€çš„åšæ³•ä¸åŒ&lt;br&gt;APIæœƒå¾åŸæœ¬çš„Getæ”¹æˆä½¿ç”¨Postæ–¹æ³•&lt;br&gt;botç¨‹åºæœƒéœ€è¦ç”¨åˆ°çºŒè¡Œæ–¹æ³•ï¼Œä¾†å½Œè£œç•¶å‰æ©Ÿå™¨äººæ¡†æ¶ç„¡æ³•å¯¦ç¾çš„åŠŸèƒ½&lt;/p&gt;
&lt;h1 id=&#34;çºŒè¡Œæ–¹æ³•&#34;&gt;&lt;a href=&#34;#çºŒè¡Œæ–¹æ³•&#34; class=&#34;headerlink&#34; title=&#34;çºŒè¡Œæ–¹æ³•&#34;&gt;&lt;/a&gt;çºŒè¡Œæ–¹æ³•&lt;/h1&gt;&lt;p&gt;ç¨‹å¼ä¸Šä¸¦æ²’æœ‰é€™ç¨®å¯«æ³•çš„ç¨±å‘¼ï¼Œåªæ˜¯åœ¨ç•¶å‰æ¡†æ¶ä¸‹ï¼Œæˆ‘çµ¦é€™å€‹å¯«æ³•çš„ä¸€ç¨®å«æ³•è€Œå·²&lt;/p&gt;
&lt;p&gt;ç›®å‰æˆ‘å€‘æ©Ÿå™¨äººæŒ‡ä»¤çš„å‘¼å«æ–¹å¼åŸºæœ¬æ¨¡å¼æ˜¯&lt;/p&gt;
&lt;p&gt;å‰ç¶´å­— + æŒ‡ä»¤ + é–“éš”ç¬¦ + åƒæ•¸(å¦‚æœæœ‰)&lt;/p&gt;
&lt;p&gt;å¦‚æœå‰ç¶´å­—æ²’æœ‰åŒ¹é…ï¼Œå°±å°è³‡æ–™åº«åšåˆ¤æ–·ï¼Œæ˜¯å¦æœ‰ç›¸åŒè§¸ç™¼å­—ä¾†è‡ªå‹•å›æ‡‰(å¡ç±³ç‹—æ¨¡å¼)&lt;/p&gt;
&lt;p&gt;é€™ç¨®åšæ³•æœƒé¢è‡¨åˆ°ä¸€å€‹å•é¡Œï¼ŒæŒ‡ä»¤éƒ½æ˜¯åœ¨ä¸€è¡Œå…§å®Œæˆçš„&lt;/p&gt;
&lt;p&gt;å¦‚æœå¸Œæœ›å…ˆä¸‹é”æŒ‡ä»¤ï¼Œç­‰å¾…æ©Ÿå™¨äººçµ¦äºˆå›é¥‹ï¼Œå†ç¹¼çºŒè¼¸å…¥æŒ‡ä»¤å‘¢?&lt;/p&gt;
&lt;p&gt;æ²’éŒ¯ï¼Œä½¿ç”¨è€…çš„æ“ä½œæœƒè®Šå¾—ç›¸å°è¤‡é›œ&lt;br&gt;å‡è¨­ä¸€å€‹æŒ‡ä»¤å«åš !AFK ï¼Œç„¶å¾Œè¦è¼¸å…¥ä¸‰æ¬¡ä¸”ä¸‰æ¬¡çš„åƒæ•¸éƒ½æ­£ç¢ºï¼Œæ©Ÿå™¨äººæ‰æœƒé†’ä¾†&lt;br&gt;é‚£ä½¿ç”¨è€…å°±è¦é€£çºŒè¼¸å…¥ä¸‰æ¬¡&lt;/p&gt;
&lt;p&gt;!AFK 1&lt;br&gt;!AFK 2&lt;br&gt;!AFK 3&lt;/p&gt;
&lt;p&gt;è€Œä¸æ˜¯&lt;/p&gt;
&lt;p&gt;!AFK&lt;br&gt;1&lt;br&gt;2&lt;br&gt;3&lt;/p&gt;
&lt;p&gt;è®“ä½¿ç”¨è€…ä¸æ–·é‡è¤‡çš„è¼¸å…¥æŒ‡ä»¤é¡¯ç„¶ä¸æ˜¯æˆ‘å€‘å¸Œæœ›çš„&lt;/p&gt;
&lt;p&gt;å› æ­¤æˆ‘å€‘æœƒéœ€è¦ä½¿ç”¨çºŒè¡Œï¼Œè®“BOTè§¸ç™¼åˆ°ç‰¹å®šæŒ‡ä»¤å¾Œï¼Œç¶å®šæ­¤ç”¨æˆ¶é€²è¡Œæ¥ä¸‹ä¾†çš„è¡Œç‚º&lt;/p&gt;
&lt;p&gt;æ˜å¤©æˆ‘å€‘æœƒå¯¦ä½œpostAPIï¼Œä»¥åŠå°‡ å°‡ä½¿ç”¨è€…åŠ å…¥ç‰¹å®šèº«åˆ†çµ„çš„åŠŸèƒ½ å¯«å¥½&lt;br&gt;å¦‚æœç¯‡å¹…è¶³å¤ æœƒå†è¬› å°‡ä½¿ç”¨è€…å¾æŸå€‹èº«ä»½çµ„ä¸­åˆªé™¤&lt;/p&gt;
</content>
        <category term="node.js" />
        <category term="bot" />
        <category term="discord" />
        <category term="discord.js" />
        <category term="æ•™å­¸" />
        <category term="12théµäººè³½" />
        <updated>2020-09-27T07:59:10.000Z</updated>
    </entry>
    <entry>
        <id>https://smilin.net/2020/09/26/12thDay26/</id>
        <title>Day26 - tagæ§ç®¡æ©Ÿåˆ¶(1)</title>
        <link rel="alternate" href="https://smilin.net/2020/09/26/12thDay26/"/>
        <content type="html">&lt;p&gt;æ˜¨å¤©æˆ‘å€‘æç¹ªäº†æ¬Šé™ç³»çµ±çš„æ¶æ§‹ï¼Œä»Šå¤©ä¾†å»ºç«‹èº«ä»½çµ„ç’°å¢ƒ&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;p&gt;æ‰“é–‹æˆ‘å€‘ä¹‹å‰çš„è©¦ç®—è¡¨ï¼Œæ–°å¢å…©å€‹table&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/uoHRTQ9.png&#34; alt=&#34;26-1&#34;&gt;&lt;/p&gt;
&lt;p&gt;UserPower&lt;br&gt;ä»£è¡¨æˆå“¡table&lt;/p&gt;
&lt;p&gt;userID&lt;br&gt;discordçš„userIDï¼Œä¸»è¦ç”¨ä¾†è¾¨è­˜è¨Šæ¯æ–¹æ˜¯å¦æ˜¯æ­¤ç”¨æˆ¶&lt;/p&gt;
&lt;p&gt;userName&lt;br&gt;ç”¨è™•ä¸€æ¨£ä¸å¤§ï¼Œçµ¦äººçœ‹çš„&lt;/p&gt;
&lt;p&gt;Joins&lt;br&gt;è¡¨ç¤ºæ­¤ç”¨æˆ¶æœ‰å“ªäº›èº«ä»½çµ„çš„æ¬Šé™ï¼Œç­†è€…æ‰“ç®—ä¹‹å¾ŒæŠŠæ‰€æœ‰èº«ä»½éƒ½å¯«åœ¨é€™æ¬„ï¼Œç”¨åˆ†è™Ÿä¾†åšå€éš”&lt;/p&gt;
&lt;p&gt;IsAdmin&lt;br&gt;ç®¡ç†å“¡é–‹é—œï¼Œé–‹å•Ÿå¾Œä¸åšä»»ä½•èº«ä»½çµ„åˆ¤æ–·ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•åŠŸèƒ½&lt;/p&gt;
&lt;p&gt;ä¸‹åœ–ä¸­ï¼Œç­†è€…çš„userIDæœ‰Eæœ‰+çš„ï¼Œé€™æ˜¯Excelè‡ªå‹•çµ¦äºˆçš„æ ¼å¼ï¼Œå¯ä»¥åœ¨å·¦ä¸Šè§’çœ‹åˆ°å¯¦éš›æ•¸å€¼ï¼Œè®€å–æ™‚ä»ç„¶æ˜¯è®€å–165753385385984000ï¼Œä¸ç”¨ä¿®æ”¹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/2ilbHq9.png&#34; alt=&#34;26-2&#34;&gt;&lt;/p&gt;
&lt;p&gt;PartyPower&lt;br&gt;ä»£è¡¨èº«ä»½çµ„table&lt;/p&gt;
&lt;p&gt;ID&lt;br&gt;è©²èº«ä»½çµ„çš„IDï¼Œä½¿ç”¨è€…é€éé€™å€‹IDä¾†åˆ¤æ–·è‡ªå·±æœ‰å“ªäº›æ¬Šé™&lt;/p&gt;
&lt;p&gt;type&lt;br&gt;ä»£è¡¨é€™å€‹èº«ä»½çµ„çš„é¡å‹&lt;br&gt;ç›®å‰æš«å®š1æ˜¯ç¦è¨€é¡èº«ä»½çµ„ï¼Œ2æ˜¯tagæ¬Šé™èº«ä»½çµ„&lt;/p&gt;
&lt;p&gt;Power&lt;br&gt;ä»£è¡¨å¯¦éš›å¯è¡Œé§›çš„æ¬Šé™ï¼Œæœƒæ ¹æ“štypeçš„ä¸åŒæœ‰ä¸åŒçš„å«æ„&lt;br&gt;åœ¨tagæ¬Šé™ä¸‹ï¼ŒPowerå¸¶å…¥tagIDï¼Œä»£è¡¨å¯ä»¥è¡Œä½¿æ­¤tag&lt;br&gt;é€™é‚Šå¸¶å…¥Powerçš„æ˜¯èº«ä»½çµ„ID&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/uNgxfC1.png&#34; alt=&#34;26-3&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ•™ä¸€ä¸‹æ‰‹å‹•ç²å–èº«ä»½çµ„ID&lt;/p&gt;
&lt;p&gt;æŠŠäººé»é–‹ï¼Œå°èº«ä»½çµ„å³éµ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/Z2t6akk.png&#34; alt=&#34;26-4&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ–æ˜¯å…ˆæ‹‰å‡ºtagï¼Œç„¶å¾Œåœ¨tagå‰æ–¹åŠ ä¸Šä¸€å€‹åæ–œç·š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/vtlv8pE.png&#34; alt=&#34;26-5&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/tlpvlge.png&#34; alt=&#34;26-6&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä»¥ä¸Šæ“ä½œé‡åˆ°å•é¡Œï¼Œç”šè‡³æ˜¯UserIDä¹ŸæŠ“ä¸åˆ°&lt;br&gt;å¯ä»¥çœ‹ä¸€ä¸‹&lt;a href=&#34;https://support.discord.com/hc/zh-tw/articles/206346498-%E6%88%91%E5%9C%A8%E5%93%AA%E8%A3%A1%E5%8F%AF%E4%BB%A5%E6%89%BE%E5%88%B0%E6%88%91%E7%9A%84%E7%94%A8%E6%88%B6-%E6%9C%8D%E5%8B%99%E5%99%A8-%E6%B6%88%E6%81%AFID-&#34;&gt;é€™ç¯‡æ–‡ç« &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ–æ˜¯æ‰¾æ‰¾æ€éº¼é–‹å•ŸDiscordçš„é–‹ç™¼è€…æ¨¡å¼&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å†ä¾†æˆ‘å€‘è¦æ–°å¢å…©å€‹GASæª”æ¡ˆ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/L7WOiyD.png&#34; alt=&#34;26-7&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;function doGet(e) &amp;#123;
  var id = &amp;#39;ä½ çš„ID&amp;#39;; //æŠ“å–è¡¨å–®
  var spreadsheet = SpreadsheetApp.openById(id); // Sheet id
  var sheet = spreadsheet.getSheetByName(&amp;quot;UserPower&amp;quot;); // æ ¹æ“šè¡¨æ ¼åç¨±å–è¡¨
  var rowLength = sheet.getLastRow()-1; //å–è¡Œé•·åº¦
  var columnLength = sheet.getLastColumn(); //å–åˆ—é•·åº¦
  var data = sheet.getRange(2,1,rowLength,columnLength).getValues(); // å–å¾—çš„è³‡æ–™
  
  var dataExport = [];
  
  for(i in data)&amp;#123;
    if(data[i][0] != &amp;quot;&amp;quot;)&amp;#123;
    dataExport[i] = &amp;#123;
      userID:     data[i][0],
      userName:   data[i][1],
      Joins:   data[i][2],
      IsAdmin: data[i][3]
      &amp;#125;
    &amp;#125;
  &amp;#125;
  
  
  var dataExportFormat = JSON.stringify(dataExport);
  return ContentService.createTextOutput(dataExportFormat).setMimeType(ContentService.MimeType.JSON);
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/7P09NvS.png&#34; alt=&#34;26-8&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;function doGet(e) &amp;#123;
  var id = &amp;#39;ä½ çš„ID&amp;#39;; //æŠ“å–è¡¨å–®
  var spreadsheet = SpreadsheetApp.openById(id); // Sheet id
  var sheet = spreadsheet.getSheetByName(&amp;quot;PartyPower&amp;quot;); // æ ¹æ“šè¡¨æ ¼åç¨±å–è¡¨
  var rowLength = sheet.getLastRow()-1; //å–è¡Œé•·åº¦
  var columnLength = sheet.getLastColumn(); //å–åˆ—é•·åº¦
  var data = sheet.getRange(2,1,rowLength,columnLength).getValues(); // å–å¾—çš„è³‡æ–™
  
  var dataExport = [];
  
  for(i in data)&amp;#123;
    if(data[i][0] != &amp;quot;&amp;quot;)&amp;#123;
    dataExport[i] = &amp;#123;
      ID:     data[i][0],
      type:   data[i][1],
      Power:   data[i][2]
      &amp;#125;
    &amp;#125;
  &amp;#125;
  
  
  var dataExportFormat = JSON.stringify(dataExport);
  return ContentService.createTextOutput(dataExportFormat).setMimeType(ContentService.MimeType.JSON);
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¨˜å¾—éƒ½è¦å­˜æª”å¾Œï¼Œç™¼ä½ˆæˆç¶²è·¯æ‡‰ç”¨ï¼Œç²å–URL&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/iohSLWG.png&#34; alt=&#34;26-9&#34;&gt;&lt;/p&gt;
&lt;p&gt;(ä¹‹å‰ç¤ºç¯„JSONArrayçš„[]ï¼Œå¯ä»¥æ‹¿æ‰)&lt;br&gt;è·ŸbaseExcelä¸€æ¨£ï¼Œæˆ‘å€‘æœƒå¸Œæœ›botåœ¨å•Ÿå‹•æ™‚å°±æŠŠè¡¨éƒ½è®€å–é€²ä¾†ï¼Œå¾é›²ç«¯ä¸‹è¼‰æˆæœ¬åœ°dbçš„æ„Ÿè¦ºï¼Œé †ä¾¿åšè³‡æ–™äºŒæ¬¡è™•ç†&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/s3bibHM.png&#34; alt=&#34;26-10&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const userPower = &amp;#123;
    &amp;#39;method&amp;#39;: &amp;#39;GET&amp;#39;,
    &amp;#39;url&amp;#39;: auth.Gas.Get[0].UserPower,
    &amp;#39;headers&amp;#39;: &amp;#123;&amp;#125;
&amp;#125;;

const partyPower = &amp;#123;
    &amp;#39;method&amp;#39;: &amp;#39;GET&amp;#39;,
    &amp;#39;url&amp;#39;: auth.Gas.Get[0].PartyPower,
    &amp;#39;headers&amp;#39;: &amp;#123;&amp;#125;
&amp;#125;;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/hykI0wE.png&#34; alt=&#34;26-11&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/2K8yobJ.png&#34; alt=&#34;26-12&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;exports.getUserPower = function(callback) &amp;#123;
    let backValue = new Array;
    request(userPower, function(error, response) &amp;#123;
        try &amp;#123;
            if (error) &amp;#123;
                console.log(&amp;#39;getUserPowerError1&amp;#39;, error);
                callback(false);
            &amp;#125; else &amp;#123;
                const data = JSON.parse(response.body); //æ¥æ”¶å›å‚³(response)çš„body
                for (i in data) &amp;#123;
                    backValue.push(data[i]);
                    backValue[i].Joins = backValue[i].Joins.split(&amp;#39;;&amp;#39;);
                &amp;#125;
                callback(backValue);
            &amp;#125;
        &amp;#125; catch (err) &amp;#123;
            console.log(&amp;#39;getUserPowerError2&amp;#39;, err);
            callback(false);
        &amp;#125;
    &amp;#125;);
&amp;#125;;

exports.getPartyPower = function(callback) &amp;#123;
    let backValue = new Array;
    request(partyPower, function(error, response) &amp;#123;
        try &amp;#123;
            if (error) &amp;#123;
                console.log(&amp;#39;getPartyPowerError1&amp;#39;, error);
                callback(false);
            &amp;#125; else &amp;#123;
                const data = JSON.parse(response.body); //æ¥æ”¶å›å‚³(response)çš„body
                for (i in data) &amp;#123;
                    backValue.push(data[i]);
                    backValue[i].Power = backValue[i].Power.split(&amp;#39;;&amp;#39;);
                &amp;#125;
                callback(backValue);
            &amp;#125;
        &amp;#125; catch (err) &amp;#123;
            console.log(&amp;#39;getPartyPowerError2&amp;#39;, err);
            callback(false);
        &amp;#125;
    &amp;#125;);
&amp;#125;;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/PEI3XAU.png&#34; alt=&#34;26-13&#34;&gt;&lt;/p&gt;
&lt;p&gt;(é–‹å§‹è®Šæˆcallbackåœ°ç„äº†)&lt;/p&gt;
&lt;p&gt;è³‡æ–™éƒ½æ¥åˆ°ä¹Ÿè™•ç†å¥½äº†ï¼Œå†ä¾†è¦ç”¨é€™äº›è³‡æ–™å¯¦ä½œåŠŸèƒ½&lt;/p&gt;
&lt;p&gt;å¢åŠ æŒ‡ä»¤åˆ—è¡¨çš„ä¸€å€‹æ–°ç³»çµ±&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/8g2yKAQ.png&#34; alt=&#34;26-14&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨messageäº‹ä»¶æ–°å¢å…¥å£&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/5k6UBOp.png&#34; alt=&#34;26-15&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶å¾Œåšå‡ºå¯¦éš›åŠŸèƒ½&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/f4FEeTh.png&#34; alt=&#34;26-16&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//#region tagç³»çµ±
function TagFunction(msg, tempPrefix) &amp;#123;
    const cmd = msg.content.substring(prefix[tempPrefix].Value.length).split(&amp;#39; &amp;#39;); //ä»¥ç©ºç™½åˆ†å‰²å‰ç¶´ä»¥å¾Œçš„å­—ä¸²

    switch (cmd[0]) &amp;#123;
        case &amp;#39;å…¶é¤˜æŒ‡ä»¤&amp;#39;:
            break;
        default: //èº«ä»½çµ„ID
            CheckID(msg, cmd, CheckParty);
            break;
    &amp;#125;
&amp;#125;

//åˆ¤æ–·æ­¤äººæœ‰æ²’æœ‰ç™»è¨˜è³‡æ–™
function CheckID(msg, cmd, OtherFunction) &amp;#123;
    const haveUserData = UserPowerData.find(element =&amp;gt; &amp;#123;
        return element.userID == msg.author.id;
    &amp;#125;)

    if (haveUserData !== undefined) &amp;#123;
        //æœ‰è³‡æ–™
        if (haveUserData.IsAdmin) &amp;#123;
            //æ˜¯ç®¡ç†å“¡ï¼Œç›´æ¥åšå¾ŒçºŒäº‹æƒ…
            return SendTagMessage(msg, `&amp;lt;@&amp;amp;$&amp;#123;cmd[1]&amp;#125;&amp;gt;\nä¾†è‡ªç®¡ç†å“¡&amp;lt;@$&amp;#123;msg.author.id&amp;#125;&amp;gt;çš„æŒ‡ä»¤å‘¼å«`);
        &amp;#125; else &amp;#123;
            //ä¸æ˜¯ç®¡ç†å“¡ï¼Œå…ˆçœ‹æœ‰ç”šéº¼ç¾¤çµ„
            return OtherFunction(msg, cmd, haveUserData);
        &amp;#125;
    &amp;#125;
&amp;#125;

//æ ¹æ“šUserPowerç²å¾—Party
function CheckParty(msg, cmd, haveUserData) &amp;#123;
    let havePartyPower;
    havePartyPower = PartyPowerData.filter(element =&amp;gt; &amp;#123;
        if (haveUserData.Joins[i].indexOf(element.ID) != -1) &amp;#123;
            return element.Power.indexOf(cmd[1]) != -1
        &amp;#125;
    &amp;#125;)

    if (isEmptyObject(havePartyPower)) &amp;#123;
        SendTagMessage(msg, &amp;#39;ç„¡æ¬Šé™ï¼Œè«‹ç¢ºèªåƒæ•¸æ˜¯å¦æ­£ç¢º&amp;#39;);
    &amp;#125; else &amp;#123;
        SendTagMessage(msg, `&amp;lt;@&amp;amp;$&amp;#123;cmd[1]&amp;#125;&amp;gt;\nä¾†è‡ª&amp;lt;@$&amp;#123;msg.author.id&amp;#125;&amp;gt;çš„æŒ‡ä»¤å‘¼å«`);
    &amp;#125;
&amp;#125;

//å‚³é€è¨Šæ¯å–®ç¨å¯¦ä¾‹
function SendTagMessage(msg, data) &amp;#123;
    msg.channel.send(data);
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æœ€å¾Œè£œå€‹åˆ¤æ–·Arrayæ˜¯ä¸æ˜¯ç©ºé›†åˆçš„å°function&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/LWubzzI.png&#34; alt=&#34;26-17&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¤§è‡´è§£èªªä¸€ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/I4egiAN.png&#34; alt=&#34;26-18&#34;&gt;&lt;/p&gt;
&lt;p&gt;Tagç³»çµ±çš„å…¥å£function&lt;br&gt;è·Ÿå…¶ä»–ç³»çµ±ä¸€æ¨£ï¼Œåˆ¤æ–·è¦ä½¿ç”¨ç”šéº¼æŒ‡ä»¤&lt;br&gt;ä»Šå¤©å…ˆæŠŠé è¨­(default)æŒ‡ä»¤ï¼Œä¹Ÿå°±æ˜¯tagèº«åˆ†çµ„åšå‡ºä¾†&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/leRaRUt.png&#34; alt=&#34;26-19&#34;&gt;&lt;/p&gt;
&lt;p&gt;æª¢æŸ¥UserPowerä¸­æ˜¯å¦æœ‰æ­¤äººè³‡æ–™ï¼Œä»¥åŠæ˜¯å¦æ˜¯ç®¡ç†å“¡&lt;br&gt;å¦‚æœæœ‰è³‡æ–™ä¸”ä¸æ˜¯ç®¡ç†å“¡ï¼Œç¹¼çºŒæª¢æŸ¥å…¶æ‰€å±¬èº«ä»½çµ„æ¬Šé™&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/5u8N8DC.png&#34; alt=&#34;26-20&#34;&gt;&lt;/p&gt;
&lt;p&gt;æª¢æŸ¥èº«ä»½çµ„ä¸­æ˜¯å¦æœ‰æ¬Šé™ç¬¦åˆé€™æ¬¡è¦tagçš„å°è±¡idï¼Œæœ‰çš„è©±ä»£è¡¨æ­¤æ¬¡æŒ‡ä»¤æ»¿è¶³æ¬Šé™ï¼Œçµ¦äºˆtag&lt;/p&gt;
&lt;p&gt;æˆ‘å€‘è·‘çœ‹çœ‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/R4VEGBa.png&#34; alt=&#34;26-21&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆåŠŸ&lt;/p&gt;
</content>
        <category term="node.js" />
        <category term="bot" />
        <category term="discord" />
        <category term="discord.js" />
        <category term="æ•™å­¸" />
        <category term="12théµäººè³½" />
        <updated>2020-09-26T01:54:26.000Z</updated>
    </entry>
    <entry>
        <id>https://smilin.net/2020/09/25/12thDay25/</id>
        <title>Day25 - æ¬Šé™ç³»çµ±è¦æ ¼</title>
        <link rel="alternate" href="https://smilin.net/2020/09/25/12thDay25/"/>
        <content type="html">&lt;p&gt;æœ€è¿‘åœ¨ç·¨å¯«ç¾¤çµ„æ¬Šé™ç›¸é—œçš„åŠŸèƒ½ï¼Œå°±èªªèªªé€™å€‹å§&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;p&gt;å…ˆèªªæ˜æ­¤åŠŸèƒ½éœ€æ±‚æƒ…å¢ƒ:&lt;/p&gt;
&lt;p&gt;ç¾¤çµ„äººæ•¸éå¤šï¼Œç®¡ç†å±¤ä¸å¸Œæœ›ç¾¤çµ„äººå“¡å¯ä»¥ä½¿ç”¨ every æˆ– èº«åˆ†çµ„ æˆ– é »é“ç­‰æœƒç¾¤é«”å‘¼å«çš„tag&lt;/p&gt;
&lt;p&gt;ä½†åˆå¸Œæœ›åœ¨å¿…è¦çš„æ™‚å€™ï¼Œå…¶ä»–äººå¯ä»¥ä½¿ç”¨æ­¤åŠŸèƒ½&lt;/p&gt;
&lt;p&gt;å› æ­¤å¸Œæœ›å°‡æ­¤æ¬Šé™é—œé–‰ï¼Œä¸¦ä¸”çµ¦äºˆæ©Ÿå™¨äººæ­¤æ¬Šé™&lt;br&gt;é€éæ©Ÿå™¨äººåšäºŒæ¬¡æ¬Šé™ç®¡ç†ï¼Œä¸¦ä¸”å°ä½¿ç”¨äººèˆ‡æ™‚é–“ç­‰é€²è¡Œç´€éŒ„&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ç‚ºäº†å®Œæˆéœ€æ±‚ï¼Œæˆ‘å€‘å‡è¨­æ©Ÿå™¨äººæ¬Šé™æ˜¯adminï¼Œæˆ‘å€‘éœ€è¦â€¦&lt;/p&gt;
&lt;p&gt;ä¸‰å±¤èº«ä»½çµ„&lt;br&gt;ç¾¤ä¸»-&amp;gt;ç®¡ç†å“¡-&amp;gt;è‡ªå®šç¾©èº«ä»½&lt;br&gt;ä¸æ˜¯dcçš„èº«ä»½çµ„ï¼Œæ˜¯å¯«åœ¨æ©Ÿå™¨äººå…§çš„èº«ä»½çµ„&lt;br&gt;èº«åˆ†çµ„å…§æœ‰æ­¤äººid-&amp;gt;å¯ä»¥è¡Œä½¿æ­¤èº«ä»½çµ„ä¸‹æ‰€é–‹é€šçš„åŠŸèƒ½&lt;br&gt;ä¾‹å¦‚ç®¡ç†å“¡èº«ä»½çµ„ä¸‹çš„äººå¯ä»¥æŒ‡æ´¾æ–°çš„èº«ä»½çµ„ï¼Œæ­¤èº«ä»½çµ„å¯ä»¥ä½¿ç”¨å“ªå¹¾ç¨®tag&lt;br&gt;è¦æŠŠèª°åŠ å…¥èº«ä»½çµ„ç­‰&lt;/p&gt;
&lt;p&gt;æŒ‡æ´¾ç®¡ç†å“¡&lt;br&gt;å¯ä»¥å°‡æŒ‡å®šäººå“¡åŠ å…¥ç®¡ç†å“¡èº«ä»½çµ„&lt;br&gt;æ­¤æŒ‡ä»¤åªæœ‰ç¾¤ä¸»èº«ä»½çµ„å¯ä»¥è¡Œä½¿&lt;/p&gt;
&lt;p&gt;å‰µå»ºæ–°èº«ä»½çµ„&lt;br&gt;å‰µå»ºè‡ªå®šç¾©çš„èº«ä»½çµ„ï¼Œæœƒçµ¦äºˆä¸€çµ„idï¼Œå¾ŒçºŒæ­¤idä»£è¡¨èº«ä»½çµ„&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹èº«ä»½çµ„åç¨±&lt;br&gt;ä¿®æ”¹èº«ä»½çµ„åç¨±ï¼Œä¾¿æ–¼ç®¡ç†ï¼Œåƒæ•¸éœ€å¸¶å…¥èº«ä»½çµ„id&lt;/p&gt;
&lt;p&gt;æ–°å¢èº«ä»½çµ„å¯tagå…§å®¹&lt;br&gt;æ–°å¢èº«ä»½çµ„å…§å¯ä»¥tagçš„é¡å‹ï¼Œåƒæ•¸éœ€å¸¶å…¥èº«ä»½çµ„idèˆ‡è¦tagå…§å®¹çš„id&lt;/p&gt;
&lt;p&gt;åˆªé™¤èº«åˆ†çµ„å¯tagå…§å®¹&lt;br&gt;åŒä¸Š&lt;/p&gt;
&lt;p&gt;æ–°å¢èº«ä»½çµ„æˆå“¡&lt;br&gt;å°‡ç¾¤çµ„æˆå“¡åŠ å…¥èº«ä»½çµ„ï¼Œåƒæ•¸å¸¶å…¥èº«ä»½çµ„idèˆ‡æˆå“¡id&lt;/p&gt;
&lt;p&gt;åˆªé™¤èº«ä»½çµ„æˆå“¡&lt;br&gt;åŒä¸Š&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨tag&lt;br&gt;é€ébot tagæŒ‡å®šidï¼Œåƒæ•¸éœ€å¸¶å…¥tagIDï¼Œå¯é¡å¤–å¸¶å…¥è¦èªªçš„è©±&lt;/p&gt;
</content>
        <category term="node.js" />
        <category term="bot" />
        <category term="discord" />
        <category term="discord.js" />
        <category term="æ•™å­¸" />
        <category term="12théµäººè³½" />
        <updated>2020-09-25T01:42:13.000Z</updated>
    </entry>
    <entry>
        <id>https://smilin.net/2020/09/24/12thDay24/</id>
        <title>Day24 - æ„›éº—çµ²å®‰éœ!</title>
        <link rel="alternate" href="https://smilin.net/2020/09/24/12thDay24/"/>
        <content type="html">&lt;p&gt;ä»Šå¤©æƒ³æ•™æ€éº¼è®“æ©Ÿå™¨äººå®‰éœ&amp;#x2F;å•Ÿå‹•&lt;br&gt;é€™æ¨£æ‰èƒ½èªªä¹‹å¾Œæƒ³æ•™çš„æ±è¥¿&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;h1 id=&#34;æƒ…å¢ƒæè¿°&#34;&gt;&lt;a href=&#34;#æƒ…å¢ƒæè¿°&#34; class=&#34;headerlink&#34; title=&#34;æƒ…å¢ƒæè¿°&#34;&gt;&lt;/a&gt;æƒ…å¢ƒæè¿°&lt;/h1&gt;&lt;p&gt;æ©Ÿå™¨äººéœ€è¦æœ‰å€‹æ§åˆ¶æ˜¯å¦å•Ÿå‹•çš„é–‹é—œ&lt;br&gt;å¯è¨­å®šåœ¨è©²ç¾¤çµ„ or é »é“æ˜¯å¦å¯ä»¥æ¥æ”¶æŒ‡ä»¤&lt;/p&gt;
&lt;p&gt;å› ç‚ºæˆ‘å€‘çš„æ©Ÿå™¨äººæœƒæœ‰å¤šçµ„ç³»çµ±(æ–‡å­—å›ç­”&amp;amp;éŸ³æ¨‚ç³»çµ±)&lt;br&gt;æœƒå¸Œæœ›å†é¡å¤–è¨­å®šå¯ä»¥åœ¨æŒ‡å®šçš„ç¾¤çµ„ or é »é“æ˜¯å¦å¯ä»¥æ¥æ”¶ç‰¹å®šç³»çµ±çš„æŒ‡ä»¤&lt;/p&gt;
&lt;h1 id=&#34;å¯¦ä½œé–‹å§‹&#34;&gt;&lt;a href=&#34;#å¯¦ä½œé–‹å§‹&#34; class=&#34;headerlink&#34; title=&#34;å¯¦ä½œé–‹å§‹&#34;&gt;&lt;/a&gt;å¯¦ä½œé–‹å§‹&lt;/h1&gt;&lt;p&gt;é¦–å…ˆè«‹å…ˆå¹«æˆ‘æ–°å»ºä¸€å€‹JSONæª”æ¡ˆï¼Œå«åšshup.jsonâ€¦æˆ–æ˜¯ä½ å–œæ­¡çš„åå­—xD&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/A3FgZSp.png&#34; alt=&#34;24-1&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¨˜å¾—JSONæª”æ¡ˆéƒ½è¦æ”¾åœ¨JSONHomeå–”&lt;/p&gt;
&lt;p&gt;type&lt;br&gt;å‹æ…‹ï¼Œä»£è¡¨é€™ä¸€ç­†JSONObjectæ˜¯ç”šéº¼é¡å‹&lt;br&gt;ç›®å‰é‚„ç”¨ä¸åˆ°ï¼Œéƒ½è¨­1å°±å¥½&lt;/p&gt;
&lt;p&gt;GroupID&lt;br&gt;ç¾¤çµ„IDï¼Œä¸»è¦çµ¦å¾ŒçºŒåˆ¤å®šçš„éƒ¨ä»½&lt;/p&gt;
&lt;p&gt;GroupName&lt;br&gt;ç¾¤çµ„åç¨±ï¼Œç”¨è™•ä¸å¤§ã€ä¸»è¦çµ¦ä½¿ç”¨è€…å¥½åˆ†è¾¨çš„&lt;/p&gt;
&lt;p&gt;Power&lt;br&gt;ä»£è¡¨ä¸å¯ä½¿ç”¨çš„æ¬Šé™ï¼Œå¾Œé¢æœƒä¸€é‚Šå¯«ä¸€é‚Šè§£èªª&lt;/p&gt;
&lt;p&gt;ç¦è¨€æŒ‡ä»¤ï¼Œé¡§åæ€ç¾©ã€å¸Œæœ›æ©Ÿå™¨äººæ˜¯å¦è¢«ç¦è¨€çš„é–‹é—œ&lt;br&gt;é€™é–‹é—œéœ€è¦æ”¾åœ¨æ‰€æœ‰æŒ‡ä»¤ä¹‹å‰ï¼Œé€™æ¨£æ‰å¯ä»¥åˆ¤æ–·å‡ºå…§å®¹æ˜¯å¦éœ€è¦è¢«ç¦æ­¢&lt;/p&gt;
&lt;p&gt;è€æ¨£å­ï¼Œæˆ‘å€‘è¦å…ˆå¼•å…¥json&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/P7TjmyD.png&#34; alt=&#34;24-2&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ”¾åœ¨messageäº‹ä»¶çš„ä¸Šæ–¹ï¼Œç•¶åˆ¤æ–·æ¬Šé™ç‚ºfalseï¼Œå°±åœæ­¢å¾ŒçºŒè¡Œç‚º&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/Ijtpyyk.png&#34; alt=&#34;24-3&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ¥è‘—æˆ‘å€‘å¯¦ä½œIsShut&lt;br&gt;IsShutæ ¹æ“šshup.jsonï¼Œå…ˆåˆ¤æ–·è¨Šæ¯ç¾¤çµ„&amp;amp;è¨Šæ¯æœ‰æ²’æœ‰è³‡æ–™ï¼Œå†ä¾†åˆ¤æ–·è³‡æ–™ä¸­å­˜ä¸å­˜åœ¨tempPrefixï¼Œå­˜åœ¨çš„è©±å°±è¦ç¦ç”¨åŠŸèƒ½ï¼Œå› ç‚ºé»˜èªä¸å­˜åœ¨æ™‚æ–‡æª”ä¸­ä¸æœƒæœ‰è³‡æ–™ï¼Œè‡ªç„¶å°±ä¸è©²è¨­é™&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//ç¦è¨€ç³»çµ±åˆ¤æ–·
function IsShut(msg, tempPrefix) &amp;#123;
    //ç¾¤çµ„id
    const guildID = msg.guild.id;
    //é »é“id
    const channelID = msg.channel.id;
    //ç•¶å‰ç‹€æ…‹
    let status = true;

    //å…ˆåˆ¤æ–·ç¾¤çµ„ï¼Œç¾¤çµ„åˆ¤æ–·å®Œåˆ¤æ–·é »é“(é »é“æ¬Šé™å„ªå…ˆæ–¼ç¾¤çµ„)
    const guildIF = shup.Group.find(element =&amp;gt; &amp;#123;
        if (element.GroupID == guildID) &amp;#123;
            return element.Power.indexOf(tempPrefix) !== -1;
        &amp;#125;
        return false;
    &amp;#125;)

    //æ‰¾åˆ°è³‡æ–™ = æ­¤ç¾¤çµ„å­˜åœ¨Groupä¸­ä¸”Powerå­˜åœ¨æ­¤æ¬¡æŒ‡ä»¤ä»£ç¢¼
    if (guildIF !== undefined) &amp;#123;
        status = false;
    &amp;#125;

    //é »é“
    const channelIF = shup.Channel.find(element =&amp;gt; &amp;#123;
        if (element.ChannelID == channelID) &amp;#123;
            return true;
        &amp;#125;
        return false;
    &amp;#125;)

    //æ‰¾åˆ°è³‡æ–™ = æ­¤é »é“å­˜åœ¨Channelä¸­
    if (channelIF !== undefined) &amp;#123;
        //Poweræœ‰æ­¤è³‡æ–™=&amp;gt;ç¦ç”¨åŠŸèƒ½ ç„¡è³‡æ–™=&amp;gt;ä¸è¨­é™
        if (channelIF.Power.indexOf(tempPrefix) !== -1) &amp;#123;
            status = false;
        &amp;#125; else &amp;#123;
            status = true;
        &amp;#125;
    &amp;#125;

    return status;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ¥è‘—æˆ‘å€‘å°‡è³‡æ–™å¯¦éš›keyå…¥shup.jsonçœ‹çœ‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/r2YX14O.png&#34; alt=&#34;24-4&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸çŸ¥é“åŒå­¸æœ‰æ²’æœ‰çœ‹å‡ºPowerçš„åˆ¤æ–·ä¾æ“šäº†?&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/IQw9uKQ.png&#34; alt=&#34;24-5&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ²’éŒ¯ï¼Œå°±æ˜¯ä¾æ“šprefixæ™‚è¨­ç½®çš„å„ç³»çµ±ä»£è¡¨ID&lt;/p&gt;
&lt;p&gt;æˆ‘å€‘è©¦è‘—è·‘çœ‹çœ‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/fPPlTwE.png&#34; alt=&#34;24-6&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¦ä¸€å€‹é »é“&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/uV9zJ4q.png&#34; alt=&#34;24-7&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¤§æˆåŠŸ~&lt;br&gt;é€™æ¨£å°±åšåˆ°å„é »é“å„åŠŸèƒ½æ¬Šé™è¨­ç½®äº†&lt;/p&gt;
&lt;p&gt;ä¸éå­˜åœ¨ä¸€äº›å•é¡Œ&lt;br&gt;ä¾‹å¦‚æ”¾åœ¨é è¨­(default)çš„è³‡æ–™åº«æ–‡å­—æ¯”å°åŠŸèƒ½è¦æ€éº¼åˆ¤ï¼Œæ‡‰è©²æ˜¯é è¨­çš„-1å§&lt;br&gt;å¦‚æœæ˜¯-1è¦æ€éº¼åˆ¤æ–·å‘¢?&lt;/p&gt;
&lt;p&gt;ä»¥åŠç›®å‰é€™æ¨£çš„åšæ³•åªåšåˆ°åˆ¤æ–·ç¦è¨€åŠŸèƒ½çš„å¯¦ä½œï¼Œé‚„æ²’æœ‰è¾¦æ³•åœ¨å‰å°è®“ä½¿ç”¨è€…æ‰‹å‹•æ–°å¢&lt;/p&gt;
&lt;p&gt;é€™éƒ¨ä»½ç­†è€…å…ˆè³£å€‹é—œå­ï¼Œå„ä½å¯ä»¥å˜—è©¦å¯«çœ‹çœ‹ï¼Œæ˜å¤©æˆ‘å€‘ç¹¼çºŒåšåˆ¥çš„åŠŸèƒ½ï¼Œä¹‹å¾Œå†ç¹å›ä¾†&lt;/p&gt;
</content>
        <category term="node.js" />
        <category term="bot" />
        <category term="discord" />
        <category term="discord.js" />
        <category term="æ•™å­¸" />
        <category term="12théµäººè³½" />
        <updated>2020-09-24T02:58:46.000Z</updated>
    </entry>
    <entry>
        <id>https://smilin.net/2020/09/23/12thDay23/</id>
        <title>Day23 - éŸ³æ¨‚ç³»çµ±çš„æ­Œå–®æ‰¹é‡è¼‰å…¥(é¡å¤–)</title>
        <link rel="alternate" href="https://smilin.net/2020/09/23/12thDay23/"/>
        <content type="html">&lt;p&gt;æ˜¨å¤©æˆ‘å€‘æŠŠéŸ³æ¨‚ç³»çµ±çš„å¤šç¾¤çµ„æ”¯æ´åšå¥½äº†&lt;br&gt;ä»Šå¤©æƒ³è¬›ä¸€ä¸‹æ€éº¼ç›´æ¥å°å…¥æ­Œå–®&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;p&gt;é¦–å…ˆè«‹åœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹çš„çµ‚ç«¯æ©Ÿå®‰è£&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;npm install ytpl
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/Ugc2fg4.png&#34; alt=&#34;23-1&#34;&gt; &lt;/p&gt;
&lt;p&gt;å®‰è£å®Œæˆå¾Œï¼Œæˆ‘å€‘æ‰“é–‹çœ‹package.json&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/BZIUj5U.png&#34; alt=&#34;23-2&#34;&gt; &lt;/p&gt;
&lt;p&gt;æœ€å¾Œä¸€è¡Œå‡ºç¾äº†ytpl&lt;br&gt;è«‹åˆ°é€™å€‹ç¶²ç«™æ¯”å°ytplçš„ç‰ˆæœ¬ï¼Œå¦‚æœåƒç­†è€…ä¸€æ¨£ç‰ˆæœ¬éä½çš„è©±ï¼Œè«‹å°‡package.jsonå…§çš„ytplç‰ˆæœ¬æ‹‰é«˜ï¼Œç„¶å¾Œæ›´æ–°ä¸€æ¬¡ytpl&lt;br&gt;&lt;a href=&#34;https://www.npmjs.com/package/ytpl&#34;&gt;https://www.npmjs.com/package/ytpl&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/prueQ8r.png&#34; alt=&#34;23-3&#34;&gt; &lt;/p&gt;
&lt;p&gt;å®˜æ–¹æ–‡æª”ç‰ˆæœ¬1.0.1&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/zDoQ0ox.png&#34; alt=&#34;23-4&#34;&gt; &lt;/p&gt;
&lt;p&gt;æ‰‹å‹•æŠŠ0.3.0æ”¹æˆ1.0.1ç„¶å¾Œä¸‹æŒ‡ä»¤&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/XAAeYn1.png&#34; alt=&#34;23-5&#34;&gt; &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;npm update ytpl
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é€™æ¨£å°±æœƒæ›´æ–°ä½ çš„ytplå‡½å¼åº«&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ä¸€å®‰è£å®Œå°±å»ç¢ºèªç‰ˆæœ¬æ˜¯å¦æœ€æ–°ï¼Œæ˜¯å› ç‚ºèˆŠç‰ˆæœ¬çš„ytplåœ¨æŠ“å–æ­Œå–®è³‡æ–™æ™‚ååˆ†ä¸ç©©ï¼Œç”šè‡³æœ‰å¯èƒ½ç›´æ¥è¢«ytæ“‹ä¸‹&lt;/p&gt;
&lt;p&gt;åŸå› ä¸æ˜ï¼Œä½†é€™é“ç†å¯ä»¥å¥—åˆ°ytdl-coreä¸Šï¼Œä¹‹å¾ŒåŒå­¸å€‘æœ‰ä»»ä½•å•é¡Œéƒ½å¯ä»¥å…ˆæ›´æ–°ç‰ˆæœ¬çœ‹çœ‹&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æ›´æ–°å¥½å¾Œï¼Œæˆ‘å€‘åœ¨bot.jså¼•ç”¨ytpl&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/saOcdBI.png&#34; alt=&#34;23-6&#34;&gt; &lt;/p&gt;
&lt;p&gt;åœ¨éŸ³æ¨‚æŒ‡ä»¤åº•ä¸‹åŠ å…¥æ­Œå–®è¼‰å…¥åŠŸèƒ½&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/r8rRLh7.png&#34; alt=&#34;23-7&#34;&gt;  &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//?playList
async function playListMusic(guildID, msg) &amp;#123;
    try &amp;#123;
        //æ²’åœ¨éŸ³æ¨‚å»³ä¸èƒ½ä½¿ç”¨æ­¤åŠŸèƒ½
        if (!client.voice.connections.get(guildID)) &amp;#123;
            msg.channel.send(`è«‹å…ˆæ­£å¸¸å•Ÿç”¨éŸ³æ¨‚æŒ‡ä»¤å¾Œï¼Œå†ä½¿ç”¨æ­Œå–®è¼‰å…¥å–”`);
            return false;
        &amp;#125;
        //ç¶²å€
        const valueED = msg.content.split(&amp;#39; &amp;#39;);
        //å…ˆç”¨libraryè‡ªå¸¶çš„æ–¹å¼æª¢æŸ¥ä¸€æ¬¡èƒ½ä¸èƒ½ç”¨
        const canPlay = await ytpl.validateID(valueED[1]);
        //è®€å–åˆ°å¹¾é¦–æ­Œï¼Œä¸Šé™é»˜èª100é¦–
        let a = 0;
        //å¹¾é¦–æˆåŠŸæ”¾å…¥æ­Œå–®
        let b = 0;
        if (canPlay) &amp;#123;
            const listED = await ytpl(valueED[1]);
            await listED.items.forEach(async function(element) &amp;#123;
                a = a + 1;
                if (element.title !== &amp;#39;[Deleted video]&amp;#39;) &amp;#123;
                    canPlay2 = await ytdl.validateURL(element.url_simple);
                    if (canPlay2) &amp;#123;
                        b = b + 1;
                        musicList.get(guildID).push(element.url_simple);
                    &amp;#125;
                &amp;#125;
            &amp;#125;);
            //å›å‚³çµ±è¨ˆè³‡è¨Š
            msg.channel.send(`æ­Œå–® $&amp;#123;listED.title&amp;#125;\nå…±è¼‰å…¥$&amp;#123;b&amp;#125;é¦–æ­Œæ›²\n$&amp;#123;a-b&amp;#125;é¦–è¼‰å…¥å¤±æ•—`);
        &amp;#125; else &amp;#123;
            msg.channel.send(`This Url isn&amp;#39;t working in function.`);
        &amp;#125;
    &amp;#125; catch (err) &amp;#123;
        console.log(err, &amp;#39;playListMusicError&amp;#39;);
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç”±ä¸Šè€Œä¸‹ä¾åºèªªæ˜â€¦&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/06WUq7e.png&#34; alt=&#34;23-8&#34;&gt; &lt;/p&gt;
&lt;p&gt;å› ç‚ºæ­Œå–®åŠŸèƒ½åƒ…æä¾›å°‡ytæ­Œå–®æ”¾å…¥botæ­Œå–®çš„åŠŸèƒ½&lt;br&gt;æ­£å¸¸ä½¿ç”¨playæŒ‡ä»¤ï¼Œä¸åœ¨èªéŸ³å»³çš„æƒ…æ³ä¸‹æ˜¯æœƒç›´æ¥é€²å…¥èªéŸ³å»³ä¸¦é–‹å§‹æ’­æ”¾æ­Œæ›²&lt;br&gt;ç­†è€…é€™é‚Šå¯«æˆä¸èƒ½å¾æ­Œå–®æŒ‡ä»¤é–‹å§‹æ’­æ­Œ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/v9gRPGn.png&#34; alt=&#34;23-9&#34;&gt; &lt;/p&gt;
&lt;p&gt;å®£å‘Šäº†å››ä»½åƒæ•¸&lt;/p&gt;
&lt;p&gt;valueED&lt;br&gt;ç¬¬ä¸€å€‹å–®ç´”æ˜¯ä½¿ç”¨ç©ºç™½åšå­—ä¸²åˆ†å‰²ï¼ŒvalueED[0]æ˜¯å‰ç¶´å­—+playList&lt;br&gt;valueED[1]å‰‡æ˜¯ä¸€æ ¼ç©ºç™½å¾ŒåŠ ä¸Šç¶²å€&lt;/p&gt;
&lt;p&gt;canPlay&lt;br&gt;ä½¿ç”¨ytplè‡ªå¸¶çš„æª¢æŸ¥èªæ³•ï¼Œæœƒæ ¹æ“šå¸¶å…¥çš„urlå›å‚³å¸ƒæ—&lt;/p&gt;
&lt;p&gt;a&lt;br&gt;è¼‰å…¥è¿´åœˆçš„æ¯ä¸€æ¬¡éƒ½æœƒ+1ï¼Œä»£è¡¨è‘—è¼‰å…¥å¹¾é¦–æ­Œ&lt;/p&gt;
&lt;p&gt;b&lt;br&gt;è¼‰å…¥è¿´åœˆçš„æ¯ä¸€æ¬¡ï¼Œç•¶æˆåŠŸå°‡æ­Œæ›²åŠ å…¥æ­Œå–®æ™‚+1ï¼Œè¡¨ç¤ºæˆåŠŸæŠ“å–å¹¾é¦–æ­Œ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/dBhEpU2.png&#34; alt=&#34;23-10&#34;&gt; &lt;/p&gt;
&lt;p&gt;ç•¶canPlayç­‰æ–¼tureå¾Œï¼Œæ­£å¼æŸ¥è©¢æ­Œå–®ä¸¦ä¸”å°‡è³‡æ–™å›å‚³çµ¦listED&lt;br&gt;listEDåº•ä¸‹æœ‰ä¸€itemsç‚ºJSONArrayï¼Œä»–å°±æ˜¯æ­Œå–®çš„é›†åˆ&lt;br&gt;å°ä»–ä½¿ç”¨è¿´åœˆï¼Œä¸¦åœ¨è¿´åœˆå…§ç”¨ytdlé©—è­‰ä¸€æ¬¡ç¶²å€æ˜¯å¦å¯ç”¨&lt;br&gt;é©—è­‰å…¨éƒ¨é€šéå¾Œå°‡æ­Œæ›²åŠ å…¥è©²ç¾¤çµ„æ­Œå–®&lt;br&gt;æœ€å¾Œçµ±è¨ˆæ•¸å­—&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å› ç‚ºåŠ å…¥æ‰¹é‡æ­Œæ›²è¼‰å…¥çš„ç·£æ•…ï¼Œç•¶æ©Ÿå™¨äººåœ¨åˆ—å‡ºqueueShowæ™‚ï¼Œæ¥µæœ‰å¯èƒ½å›å‚³å¤§é‡æ–‡å­—&lt;br&gt;discordå–®å°æ–‡å­—çš„ä¸Šé™æ•¸æ˜¯2000ï¼Œæˆ‘å€‘å–1900å°±å¥½&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/fdzjXHy.png&#34; alt=&#34;23-11&#34;&gt; &lt;/p&gt;
&lt;p&gt;éƒ½å¥½äº†å¾Œï¼Œè©¦è‘—é‹è¡Œçœ‹çœ‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/G0vZbae.png&#34; alt=&#34;23-12&#34;&gt; &lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/06dEnP9.png&#34; alt=&#34;23-13&#34;&gt; &lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/qSyICGj.png&#34; alt=&#34;23-14&#34;&gt; &lt;/p&gt;
&lt;p&gt;é€™æ¨£éŸ³æ¨‚ç³»çµ±ä¹Ÿèƒ½åšåˆ°æ‰¹é‡è¼‰å…¥éŸ³æ¨‚äº†&lt;br&gt;å…¶é¤˜é‚„å‰©ä¸€äº›ç‘•ç–µï¼Œå¦‚æ­Œå–®åŠŸèƒ½æœ‰é™åˆ¶ï¼Œæ­Œæ›²è©³ç´°è³‡è¨Šè¼‰å…¥åæ…¢ï¼Œæ²’æœ‰éæ¿¾ç§äººå½±ç‰‡é‚„æœ‰æ›´å¤šå¯èƒ½çš„å•é¡Œç­‰â€¦å°±è®“å„ä½è‡ªå·±å˜—è©¦çœ‹çœ‹å§&lt;/p&gt;
&lt;p&gt;é‚£éŸ³æ¨‚ç³»çµ±å°±æ•™åˆ°é€™ï¼Œæˆ‘å€‘æ˜å¤©è¦‹&lt;/p&gt;
</content>
        <category term="node.js" />
        <category term="bot" />
        <category term="discord" />
        <category term="discord.js" />
        <category term="æ•™å­¸" />
        <category term="12théµäººè³½" />
        <updated>2020-09-23T07:04:44.000Z</updated>
    </entry>
    <entry>
        <id>https://smilin.net/2020/09/22/12thDay22/</id>
        <title>Day22 - éŸ³æ¨‚ç³»çµ±çš„å¤šç¾¤çµ„åŒ–(é¡å¤–)</title>
        <link rel="alternate" href="https://smilin.net/2020/09/22/12thDay22/"/>
        <content type="html">&lt;p&gt;é€™å…©å¤©ä¾†æŠŠéŸ³æ¨‚ç³»çµ±æ•™å®Œå¥½äº†&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;p&gt;ç›®å‰ç‚ºæ­¢çš„éŸ³æ¨‚ç³»çµ±åªæ”¯æ´ä¸€éš»æ©Ÿå™¨äºº for ä¸€å€‹ç¾¤çµ„çš„æ¨¡å¼&lt;br&gt;å¦‚æœæœ‰å¤šç¾¤çµ„åŒæ™‚è¦ä½¿ç”¨éŸ³æ¨‚ç³»çµ±ï¼Œæœƒå°è‡´æ­Œå–®åˆ—è¡¨å…±ç”¨&lt;/p&gt;
&lt;p&gt;é€™æ˜¯å› ç‚ºæ©Ÿå™¨äººçš„ç³»çµ±ä¸­ï¼Œä¸¦æ²’æœ‰å°‡ç¾¤çµ„ç´å…¥åˆ¤æ–·&lt;br&gt;è¦æ”¹èµ·ä¾†ä¸¦ä¸é›£ï¼Œä½†é‚è¼¯è¦æ¸…æ™°&lt;/p&gt;
&lt;p&gt;ä¸çŸ¥é“ç•¶æ™‚æœ‰æ²’æœ‰å°å¤¥ä¼´è‡ªå·±æå®šé€™ä¸€å¡Šçš„?æˆ‘å€‘ä»Šå¤©æœƒå†å¸¶é&lt;/p&gt;
&lt;p&gt;ç¨‹å¼ç¢¼æ˜¯ä¾ç…§ä¹‹å‰çš„é€²åº¦ï¼Œä¸æœƒé‡é ­é–‹å§‹ï¼Œå¦‚æœéœ€è¦ä½†æ²’æœ‰åŸºç¤ç¨‹å¼ç¢¼çš„è©±å¯ä»¥å›å»çœ‹éŸ³æ¨‚ç³»çµ±çš„æ•™å­¸&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;MusicFunction&#34;&gt;&lt;a href=&#34;#MusicFunction&#34; class=&#34;headerlink&#34; title=&#34;MusicFunction&#34;&gt;&lt;/a&gt;MusicFunction&lt;/h1&gt;&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/sKuhlfp.png&#34; alt=&#34;22-1&#34;&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆè«‹æŠŠå®£å‘Šæˆå…¨åŸŸè®Šæ•¸çš„å…©å€‹åƒæ•¸ï¼Œåˆå§‹åŒ–éƒ½è¨­ç‚ºMap()&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/KSRmbTG.png&#34; alt=&#34;22-2&#34;&gt;&lt;/p&gt;
&lt;p&gt;å†ä¾†æˆ‘å€‘åœ¨éŸ³æ¨‚æŒ‡ä»¤çš„å…¥å£æå–guildIDï¼Œä¸¦ä¸”æ”¾å…¥æ¯ä¸€å€‹functionå…§&lt;/p&gt;
&lt;h1 id=&#34;playMusic&#34;&gt;&lt;a href=&#34;#playMusic&#34; class=&#34;headerlink&#34; title=&#34;playMusic&#34;&gt;&lt;/a&gt;playMusic&lt;/h1&gt;&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/gax5Dun.png&#34; alt=&#34;22-3&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹äº†151,155è·Ÿ171è¡Œ&lt;br&gt;(å¯ä»¥æ ¹æ“šå·¦å´é¡è‰²åˆ¤æ–·)&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ¬¡é€²å…¥èªéŸ³å»³çš„ç¾¤çµ„éœ€è¦å…ˆä»¥ç¾¤çµ„IDå®£å‘Šä¸€å€‹æ­Œæ›²åˆ—è¡¨&lt;br&gt;åŸæœ¬æ­Œæ›²åˆ—è¡¨æ”¾å…¥è³‡æ–™çš„æ–¹æ³•æ˜¯é€™æ¨£&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;musicList.push(ç¶²å€)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç¾åœ¨è®Šæˆ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;music.get(ç¾¤çµ„id).push(ç¶²å€)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯æ ¹æ“šç¾¤çµ„idæå–æ­Œæ›²åˆ—è¡¨&lt;/p&gt;
&lt;h1 id=&#34;playMusic2&#34;&gt;&lt;a href=&#34;#playMusic2&#34; class=&#34;headerlink&#34; title=&#34;playMusic2&#34;&gt;&lt;/a&gt;playMusic2&lt;/h1&gt;&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/MpGvBiu.png&#34; alt=&#34;22-4&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ”¹äº†185,195,202,204è·Ÿ206è¡Œ&lt;br&gt;(å¯ä»¥æ ¹æ“šå·¦å´é¡è‰²åˆ¤æ–·)&lt;/p&gt;
&lt;p&gt;åŸå‰‡ä¸Šéƒ½è·Ÿå‰›å‰›ä¸€æ¨£ï¼Œæ³¨æ„æ­Œæ›²æ¸…å–®è·Ÿæ’­æ”¾é™æ§å™¨æ‡‰è©²æ˜¯ä¸€å€‹ç¾¤çµ„ä¸€å€‹è€Œå·²&lt;/p&gt;
&lt;h1 id=&#34;disconnectMusic&#34;&gt;&lt;a href=&#34;#disconnectMusic&#34; class=&#34;headerlink&#34; title=&#34;disconnectMusic&#34;&gt;&lt;/a&gt;disconnectMusic&lt;/h1&gt;&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/GHYrwdz.png&#34; alt=&#34;22-5&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹äº†222è¡Œ&lt;br&gt;(å¯ä»¥æ ¹æ“šå·¦å´é¡è‰²åˆ¤æ–·)&lt;/p&gt;
&lt;h1 id=&#34;replayMusic&#34;&gt;&lt;a href=&#34;#replayMusic&#34; class=&#34;headerlink&#34; title=&#34;replayMusic&#34;&gt;&lt;/a&gt;replayMusic&lt;/h1&gt;&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/0noksiD.png&#34; alt=&#34;22-6&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ”¹äº†235,237èˆ‡240è¡Œ&lt;br&gt;(å¯ä»¥æ ¹æ“šå·¦å´é¡è‰²åˆ¤æ–·)&lt;/p&gt;
&lt;h1 id=&#34;skipMusic&#34;&gt;&lt;a href=&#34;#skipMusic&#34; class=&#34;headerlink&#34; title=&#34;skipMusic&#34;&gt;&lt;/a&gt;skipMusic&lt;/h1&gt;&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/j3vClrt.png&#34; alt=&#34;22-7&#34;&gt;&lt;/p&gt;
&lt;p&gt;åªæœ‰ä¸€è¡Œ&lt;/p&gt;
&lt;h1 id=&#34;nowPlayMusic&#34;&gt;&lt;a href=&#34;#nowPlayMusic&#34; class=&#34;headerlink&#34; title=&#34;nowPlayMusic&#34;&gt;&lt;/a&gt;nowPlayMusic&lt;/h1&gt;&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/0mjB6g9.png&#34; alt=&#34;22-8&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹äº†253,255è·Ÿ261è¡Œ&lt;br&gt;(å¯ä»¥æ ¹æ“šå·¦å´é¡è‰²åˆ¤æ–·)&lt;/p&gt;
&lt;p&gt;å­—ä¸²ä¸²æ¥éƒ¨åˆ†æ‹¿çš„æ˜¯å·²ç¶“è™•ç†å¥½çš„åƒæ•¸ï¼Œæ‰€ä»¥ä¸ç”¨ä¿®æ”¹streamString&lt;/p&gt;
&lt;h1 id=&#34;queueShow&#34;&gt;&lt;a href=&#34;#queueShow&#34; class=&#34;headerlink&#34; title=&#34;queueShow&#34;&gt;&lt;/a&gt;queueShow&lt;/h1&gt;&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/6ekTspK.png&#34; alt=&#34;22-9&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹äº†291,294è·Ÿ296è¡Œ&lt;br&gt;(å¯ä»¥æ ¹æ“šå·¦å´é¡è‰²åˆ¤æ–·)&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é€™æ¨£åŸºæœ¬å°±éƒ½æ”¹å¥½äº†ï¼Œæˆ‘å€‘è©¦è‘—é‹è¡Œçœ‹çœ‹&lt;/p&gt;
&lt;p&gt;é‹è¡Œå‰ï¼Œå› ç‚ºä¹‹å‰æˆ‘å€‘å·²ç¶“ä¸Šå‚³æ©Ÿå™¨äººåˆ°herokuä¸Šï¼Œç†è«–ä¸Šç¾åœ¨æ©Ÿå™¨äººæ˜¯åœ¨é‹è¡Œç‹€æ…‹çš„&lt;br&gt;é€™æ™‚å€™å¦‚æœæˆ‘å€‘ä½¿ç”¨node botï¼Œé›–ç„¶ä¸æœƒæœ‰bugï¼Œä½†æœƒé€ æˆbotè£¡é¢åŒæ™‚æœ‰å…©éš»ç¨‹åºç™»å…¥ï¼Œæœƒé€ æˆå¾ˆæœ‰è¶£çš„ç¾è±¡ï¼Œå„ä½æœ‰èˆˆè¶£å¯ä»¥è©¦è©¦&lt;/p&gt;
&lt;p&gt;é‚£é€™é‚Šç­†è€…ç‚ºäº†ç¹éé€™å•é¡Œï¼Œæƒ³ç›´æ¥ä¸Šå‚³è‡³herokuï¼Œé€™æ¨£å°±å¯ä»¥åªè·‘ä¸€å€‹ç¨‹åºï¼Œä¹Ÿå‰›å¥½ä»‹ç´¹æ€éº¼ç”¨herokuç€è¦½ç¨‹åºæ­·ç¨‹&lt;/p&gt;
&lt;h1 id=&#34;æ¸¬è©¦&#34;&gt;&lt;a href=&#34;#æ¸¬è©¦&#34; class=&#34;headerlink&#34; title=&#34;æ¸¬è©¦&#34;&gt;&lt;/a&gt;æ¸¬è©¦&lt;/h1&gt;&lt;p&gt;æˆ‘å€‘å…ˆå›åˆ°å°ˆæ¡ˆè³‡æ–™å¤¾åº•ä¸‹ï¼Œå°‡.gitæ”¹ågitHubï¼Œç„¶å¾Œå°‡gitHerokuæ”¹å›.git&lt;/p&gt;
&lt;p&gt;å›åˆ°vsCodeï¼Œå°‡å°ˆæ¡ˆæ¨ä¸Šheroku&lt;/p&gt;
&lt;p&gt;æ¨å®Œçœ‹åˆ°Build succeededå¾Œå¹«æˆ‘ä¸‹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;heroku log -t
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¹‹å‰æ‡‰è©²æœ‰æåˆ°&lt;br&gt;é€™æ˜¯è§€å¯Ÿå°ˆæ¡ˆåœ¨herokuä¸Šçš„è¨—ç®¡ç‹€æ…‹&lt;br&gt;å¦‚æœæˆ‘å€‘è¦é€éherokuä¾†ç›´æ¥è·‘ç¨‹åºï¼Œæˆ–æ˜¯ä¹‹å¾Œå‡ºå•é¡Œéƒ½æ˜¯ä¾†é€™é‚Šçœ‹errorè¨Šæ¯&lt;/p&gt;
&lt;p&gt;é–‹å¥½è¨Šæ¯å¾Œï¼Œæˆ‘å€‘è©¦è‘—æ¸¬è©¦çœ‹çœ‹æ©Ÿå™¨äººæ˜¯ä¸æ˜¯çœŸçš„å¯ä»¥åˆ†ç¾¤æ’­éŸ³æ¨‚äº†&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/BMVGiLi.png&#34; alt=&#34;22-10&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/5dS1Qmq.png&#34; alt=&#34;22-11&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/7rysBLk.png&#34; alt=&#34;22-12&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/GdOBJIn.png&#34; alt=&#34;22-13&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/Eu0wFM2.png&#34; alt=&#34;22-14&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/FgMco0X.png&#34; alt=&#34;22-15&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/3J61doA.png&#34; alt=&#34;22-16&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¤§è‡´å¦‚æ­¤ï¼Œæˆ‘å€‘å¯ä»¥çœ‹åˆ°ï¼Œæ©Ÿå™¨äººç¢ºå¯¦åœ¨å…©å€‹ç¾¤çµ„æ”¶åˆ°æŒ‡ä»¤æ™‚ï¼Œä¸æœƒå½±éŸ¿åˆ°å°æ–¹äº†&lt;/p&gt;
&lt;p&gt;éŸ³æ¨‚ç³»çµ±çš„å¤šç¾¤çµ„æ”¯æ´æ•™åˆ°é€™&lt;br&gt;æ˜å¤©çœ‹çœ‹è¦ä¸è¦æ•™ä¸€äº›é¡å¤–çš„åŠŸèƒ½ï¼Œæˆ‘å€‘æ˜å¤©è¦‹&lt;/p&gt;
&lt;h1 id=&#34;ä¸»ç¨‹åº&#34;&gt;&lt;a href=&#34;#ä¸»ç¨‹åº&#34; class=&#34;headerlink&#34; title=&#34;ä¸»ç¨‹åº&#34;&gt;&lt;/a&gt;ä¸»ç¨‹åº&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;//#region éŸ³æ¨‚ç³»çµ±
//æ­Œæ›²æ§åˆ¶å™¨
let dispatcher = new Map();
//æ­Œæ›²æ¸…å–®
let musicList = new Map();

function MusicFunction(msg) &amp;#123;
    //å°‡è¨Šæ¯å…§çš„å‰ç¶´å­—æˆªæ–·ï¼Œå¾Œé¢çš„å­—æ˜¯æˆ‘å€‘è¦çš„
    const content = msg.content.substring(prefix[1].Value.length);
    //æŒ‡å®šæˆ‘å€‘çš„é–“éš”ç¬¦è™Ÿ
    const splitText = &amp;#39; &amp;#39;;
    //ç”¨é–“éš”ç¬¦è™Ÿéš”é–‹è¨Šæ¯ contents[0] = æŒ‡ä»¤,contents[1] = åƒæ•¸
    const contents = content.split(splitText);
    //å› ç‚ºæœƒæŒçºŒä½¿ç”¨åˆ°ï¼Œå°‡ç¾¤çµ„IDç¨ç«‹æˆåƒæ•¸
    const guildID = msg.guild.id;

    switch (contents[0]) &amp;#123;
        case &amp;#39;play&amp;#39;:
            //é»æ­Œ&amp;amp;æ’­æ”¾æ­Œæ›²åŠŸèƒ½
            playMusic(guildID, msg, contents);
            break;
        case &amp;#39;replay&amp;#39;:
            //é‡æ’­ç•¶å‰æ­Œæ›²
            replayMusic(guildID);
            break;
        case &amp;#39;np&amp;#39;:
            //ç•¶å‰æ­Œæ›²è³‡è¨Š
            nowPlayMusic(guildID, msg.channel.id);
            break;
        case &amp;#39;queue&amp;#39;:
            //æ­Œæ›²æ¸…å–®
            queueShow(guildID, msg.channel.id);
            break;
        case &amp;#39;skip&amp;#39;:
            //ä¸­æ–·æ­Œæ›²
            skipMusic(guildID);
            break;
        case &amp;#39;disconnect&amp;#39;:
            //é€€å‡ºèªéŸ³é »é“ä¸¦ä¸”æ¸…ç©ºæ­Œæ›²æ¸…å–®
            disconnectMusic(guildID, msg.channel.id);
            break;
    &amp;#125;
&amp;#125;

//?play
async function playMusic(guildID, msg, contents) &amp;#123;
    //å®šç¾©æˆ‘å€‘çš„ç¬¬ä¸€å€‹åƒæ•¸å¿…éœ€æ˜¯ç¶²å€
    const urlED = contents[1];
    try &amp;#123;
        //ç¬¬ä¸€å€‹åƒæ•¸ä¸æ˜¯é€£çµå°±è¦ç¯©é¸æ‰
        if (urlED.substring(0, 4) !== &amp;#39;http&amp;#39;) return msg.reply(&amp;#39;The link is not working.1&amp;#39;);

        //é€élibraryåˆ¤æ–·é€£çµæ˜¯å¦å¯é‹è¡Œ
        const validate = await ytdl.validateURL(urlED);
        if (!validate) return msg.reply(&amp;#39;The link is not working.2&amp;#39;);

        //ç²å–æ­Œæ›²è³‡è¨Š
        const info = await ytdl.getInfo(urlED);
        //åˆ¤æ–·è³‡è¨Šæ˜¯å¦æ­£å¸¸
        if (info.videoDetails) &amp;#123;
            //æŒ‡ä»¤ä¸‹é”è€…æ˜¯å¦åœ¨èªéŸ³é »é“
            if (msg.member.voice.channel) &amp;#123;
                //åˆ¤æ–·botæ˜¯å¦å·²ç¶“é€£åˆ°èªéŸ³é »é“ æ˜¯:å°‡æ­Œæ›²åŠ å…¥æ­Œå–® ä¸æ˜¯:é€²å…¥èªéŸ³é »é“ä¸¦ä¸”æ’­æ”¾æ­Œæ›²
                if (!client.voice.connections.get(msg.guild.id)) &amp;#123;
                    //å› ç‚ºæ˜¯ç¬¬ä¸€æ¬¡åŠ å…¥ï¼Œå®£å‘Šæ–°çš„æ­Œæ›²åˆ—è¡¨
                    musicList.set(guildID, new Array());

                    //å°‡æ­Œæ›²åŠ å…¥æ­Œå–®
                    musicList.get(guildID).push(urlED);
                    //é€²å…¥èªéŸ³é »é“
                    msg.member.voice.channel.join()
                        .then(connection =&amp;gt; &amp;#123;
                            msg.reply(&amp;#39;ä¾†äº†~&amp;#39;);
                            //const guildID = msg.guild.id;
                            const channelID = msg.channel.id;
                            //æ’­æ”¾æ­Œæ›²
                            playMusic2(connection, guildID, channelID);
                        &amp;#125;)
                        .catch(err =&amp;gt; &amp;#123;
                            msg.reply(&amp;#39;boté€²å…¥èªéŸ³é »é“æ™‚ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹å†è©¦ä¸€æ¬¡&amp;#39;);
                            console.log(err, &amp;#39;playMusicError2&amp;#39;);
                        &amp;#125;)
                &amp;#125; else &amp;#123;
                    //å°‡æ­Œæ›²åŠ å…¥æ­Œå–®
                    musicList.get(guildID).push(urlED);
                    msg.reply(&amp;#39;å·²å°‡æ­Œæ›²åŠ å…¥æ­Œå–®!&amp;#39;);
                &amp;#125;
            &amp;#125; else return msg.reply(&amp;#39;è«‹å…ˆé€²å…¥é »é“:3...&amp;#39;);
        &amp;#125; else return msg.reply(&amp;#39;The link is not working.3&amp;#39;);
    &amp;#125; catch (err) &amp;#123;
        console.log(err, &amp;#39;playMusicError&amp;#39;);
    &amp;#125;
&amp;#125;

//?play éè¿´å‡½å¼
async function playMusic2(connection, guildID, channelID) &amp;#123;
    try &amp;#123;
        //æ’­æ”¾å‰æ­Œæ›²æ¸…å–®ä¸èƒ½æ²’æœ‰ç¶²å€
        if (musicList.get(guildID).length &amp;gt; 0) &amp;#123;
            //è¨­å®šéŸ³æ¨‚ç›¸é—œåƒæ•¸
            const streamOptions = &amp;#123;
                seek: 0,
                volume: 0.5,
                Bitrate: 192000,
                Passes: 1,
                highWaterMark: 1
            &amp;#125;;
            //è®€å–æ¸…å–®ç¬¬ä¸€ä½ç¶²å€
            const stream = await ytdl(musicList.get(guildID)[0], &amp;#123;
                filter: &amp;#39;audioonly&amp;#39;,
                quality: &amp;#39;highestaudio&amp;#39;,
                highWaterMark: 26214400 //25ms
            &amp;#125;)

            //æ’­æ”¾æ­Œæ›²ï¼Œä¸¦ä¸”å­˜å…¥dispatcher
            dispatcher.set(guildID, connection.play(stream, streamOptions));
            //ç›£è½æ­Œæ›²æ’­æ”¾çµæŸäº‹ä»¶
            dispatcher.get(guildID).on(&amp;quot;finish&amp;quot;, finish =&amp;gt; &amp;#123;
                //å°‡æ¸…å–®ä¸­ç¬¬ä¸€é¦–æ­Œæ¸…é™¤
                if (musicList.get(guildID).length &amp;gt; 0) musicList.get(guildID).shift();
                //æ’­æ”¾æ­Œæ›²
                playMusic2(connection, guildID, channelID);
            &amp;#125;)
        &amp;#125; else disconnectMusic(guildID, channelID); //æ¸…ç©ºæ­Œå–®ä¸¦ä¸”é€€å‡ºèªéŸ³é »é“
    &amp;#125; catch (err) &amp;#123;
        console.log(err, &amp;#39;playMusic2Error&amp;#39;);
    &amp;#125;
&amp;#125;

//?disconnect
function disconnectMusic(guildID, channelID) &amp;#123;
    try &amp;#123;
        //åˆ¤æ–·botæ˜¯å¦åœ¨æ­¤ç¾¤çµ„çš„èªéŸ³é »é“
        if (client.voice.connections.get(guildID)) &amp;#123;
            //æ¸…ç©ºæ­Œæ›²æ¸…å–®
            musicList.set(guildID, new Array());
            //é€€å‡ºèªéŸ³é »é“
            client.voice.connections.get(guildID).disconnect();

            client.channels.fetch(channelID).then(channel =&amp;gt; channel.send(&amp;#39;æ™šå®‰~&amp;#39;));
        &amp;#125; else client.channels.fetch(channelID).then(channel =&amp;gt; channel.send(&amp;#39;å¯æ˜¯..æˆ‘é‚„æ²’é€²ä¾†:3&amp;#39;))
    &amp;#125; catch (err) &amp;#123;
        console.log(err, &amp;#39;disconnectMusicError&amp;#39;);
    &amp;#125;
&amp;#125;

//?replay
function replayMusic(guildID) &amp;#123;
    if (musicList.get(guildID).length &amp;gt; 0) &amp;#123;
        //æŠŠç•¶å‰æ›²ç›®å†æ¨ä¸€å€‹åˆ°æœ€å‰é¢
        musicList.get(guildID).unshift(musicList[0]);
        //å°‡æ­Œæ›²é—œé–‰ï¼Œè§¸ç™¼finishäº‹ä»¶
        //finishäº‹ä»¶å°‡æ¸…å–®ç¬¬ä¸€é¦–æ­Œæ’å‡ºï¼Œç„¶å¾Œç¹¼çºŒæ’­æ”¾ä¸‹ä¸€é¦–
        if (dispatcher.get(guildID) !== undefined) dispatcher.get(guildID).end();
    &amp;#125;
&amp;#125;

//?skip
function skipMusic(guildID) &amp;#123;
    //å°‡æ­Œæ›²é—œé–‰ï¼Œè§¸ç™¼finishäº‹ä»¶
    if (dispatcher.get(guildID) !== undefined) dispatcher.get(guildID).end();
&amp;#125;

//?np
async function nowPlayMusic(guildID, channelID) &amp;#123;
    try &amp;#123;
        if (dispatcher.get(guildID) !== undefined &amp;amp;&amp;amp; musicList.get(guildID).length &amp;gt; 0) &amp;#123;
            //å¾é€£çµä¸­ç²å–æ­Œæ›²è³‡è¨Š æ¨™é¡Œ ç¸½é•·åº¦ç­‰
            const info = await ytdl.getInfo(musicList.get(guildID)[0]);
            //æ­Œæ›²æ¨™é¡Œ
            const title = info.videoDetails.title;
            //æ­Œæ›²å…¨é•·(s)
            const songLength = info.videoDetails.lengthSeconds;
            //ç•¶å‰æ’­æ”¾æ™‚é–“(ms)
            const nowSongLength = Math.floor(dispatcher.get(guildID).streamTime / 1000);
            //ä¸²å­—ä¸²
            const message = `$&amp;#123;title&amp;#125;\n$&amp;#123;streamString(songLength,nowSongLength)&amp;#125;`;
            client.channels.fetch(channelID).then(channel =&amp;gt; channel.send(message))
        &amp;#125;
    &amp;#125; catch (err) &amp;#123;
        console.log(err, &amp;#39;nowPlayMusicError&amp;#39;);
    &amp;#125;
&amp;#125;

//â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬?â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬
function streamString(songLength, nowSongLength) &amp;#123;
    let mainText = &amp;#39;?&amp;#39;;
    const secondText = &amp;#39;â–¬&amp;#39;;
    const whereMain = Math.floor((nowSongLength / songLength) * 100);
    let message = &amp;#39;&amp;#39;;
    for (i = 1; i &amp;lt;= 30; i++) &amp;#123;
        if (i * 3.3 + 1 &amp;gt;= whereMain) &amp;#123;
            message = message + mainText;
            mainText = secondText;
        &amp;#125; else &amp;#123;
            message = message + secondText;
        &amp;#125;
    &amp;#125;
    return message;
&amp;#125;

//?queue
async function queueShow(guildID, channelID) &amp;#123;
    try &amp;#123;
        if (musicList.get(guildID).length &amp;gt; 0) &amp;#123;
            let info;
            let message = &amp;#39;&amp;#39;;
            for (i = 0; i &amp;lt; musicList.get(guildID).length; i++) &amp;#123;
                //å¾é€£çµä¸­ç²å–æ­Œæ›²è³‡è¨Š æ¨™é¡Œ ç¸½é•·åº¦ç­‰
                info = await ytdl.getInfo(musicList.get(guildID)[i]);
                //æ­Œæ›²æ¨™é¡Œ
                title = info.videoDetails.title;
                //ä¸²å­—ä¸²
                message = message + `\n$&amp;#123;i+1&amp;#125;. $&amp;#123;title&amp;#125;`;
            &amp;#125;
            //æŠŠæœ€å‰é¢çš„\næ‹¿æ‰
            message = message.substring(1, message.length);
            client.channels.fetch(channelID).then(channel =&amp;gt; channel.send(message))
        &amp;#125;
    &amp;#125; catch (err) &amp;#123;
        console.log(err, &amp;#39;queueShowError&amp;#39;);
    &amp;#125;
&amp;#125;
//#endregion
&lt;/code&gt;&lt;/pre&gt;
</content>
        <category term="node.js" />
        <category term="bot" />
        <category term="discord" />
        <category term="discord.js" />
        <category term="æ•™å­¸" />
        <category term="12théµäººè³½" />
        <updated>2020-09-22T02:10:05.000Z</updated>
    </entry>
    <entry>
        <id>https://smilin.net/2020/09/21/12thDay21/</id>
        <title>Day21 - èªè­˜GitHub</title>
        <link rel="alternate" href="https://smilin.net/2020/09/21/12thDay21/"/>
        <content type="html">&lt;p&gt;ä»Šå¤©æƒ³å…ˆèªªè©²æ€éº¼æŠŠå°ˆæ¡ˆæ¨ä¸Šgithubï¼Œå¯ä»¥é †ä¾¿è¤‡ç¿’èˆ‡herokué…å¥—çš„gitæŒ‡ä»¤&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;p&gt;herokuæœƒç”¨åˆ°gitæ˜¯å› ç‚ºherokuæ¨ç¨‹åºé€™å€‹å‹•ä½œè·Ÿgithubä¸€æ¨£ï¼Œéƒ½æ˜¯å°‡å°ˆæ¡ˆæ¨åˆ°ç¶²è·¯ä¸ŠæŸå€‹åœ°æ–¹ï¼Œæ¨åˆ°githubæˆ–herokuçš„å·®åˆ¥è€Œå·²&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶å¦‚æ­¤ï¼Œherokuç†æ‰€ç•¶ç„¶ä¹Ÿå¯ä»¥åšåˆ°è·Ÿgithubä¸€æ¨£çš„äº‹æƒ…&lt;br&gt;é‚£åˆç‚ºä»€éº¼é‚„è¦é¡å¤–æ”¾åœ¨githubå‘¢?&lt;/p&gt;
&lt;h1 id=&#34;GitHub&#34;&gt;&lt;a href=&#34;#GitHub&#34; class=&#34;headerlink&#34; title=&#34;GitHub&#34;&gt;&lt;/a&gt;GitHub&lt;/h1&gt;&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/J0tiaEH.png&#34; alt=&#34;21-1&#34;&gt;&lt;/p&gt;
&lt;p&gt;GitHubæ˜¯åŸºæ–¼Gitèªè¨€çš„é–‹æºå°ˆæ¡ˆåº«&lt;br&gt;ä»–æä¾›ä»»ä½•äººå°‡è‡ªå·±çš„ç¨‹åºæ‰“åŒ…æˆå°ˆæ¡ˆï¼Œé€éGitæ¨ä¸ŠGitHubé€²è¡Œé–‹ç™¼&amp;amp;ç‰ˆæœ¬ç´€éŒ„&lt;br&gt;GitHubå°é–‹æºæœ‰è‘—è‰¯å¥½çš„åœ–å½¢ä»‹é¢æ”¯æŒï¼Œæ‰€æœ‰äººéƒ½å¯ä»¥åœ¨GitHubä¸Šçœ‹åˆ°å°æ–¹çš„å°ˆæ¡ˆï¼Œä¸¦ä¸”æå‡ºå”ä½œè¦æ±‚ã€è®“å¤šä½å·¥ç¨‹å¸«ä¾†å”åŒå®Œæˆä¸€ä»¶å°ˆæ¡ˆ&lt;/p&gt;
&lt;p&gt;ä¸€è¨€ä»¥è”½ä¹‹ã€å°‡æˆ‘å€‘çš„æ©Ÿå™¨äººæ¨ä¸ŠGitHubå°±åƒæ˜¯å±•ç¤ºä½ è‡ªå·±çš„ä½œå“ï¼Œè®“æ‰€æœ‰äººéƒ½çœ‹çš„åˆ°ä½ åšéå“ªäº›æ±è¥¿ï¼Œåˆæ˜¯ä½•æ™‚æ›´æ–°ã€æ›´æ–°äº†ç”šéº¼ï¼Œæ˜¯è³‡è¨Šäººè¦è®“äººäº†è§£è‡ªå·±æœ€å¿«é€Ÿçš„ä¸€æ­¥&lt;/p&gt;
&lt;p&gt;æ¨GitHubå°ˆæ¡ˆé›–ç„¶ä¹Ÿè¦ä½¿ç”¨Gitèªè¨€ï¼Œä½†å› ç‚ºGitHubæ˜¯åœç¹è‘—Gité–‹ç™¼çš„ç¶²ç«™ï¼Œå…¶å°Gitèªè¨€çš„æ”¯æ´ååˆ†å¼·å¤§ï¼Œé™¤äº†ç¶²ç«™æœ¬èº«æŒ‰ä¸€æŒ‰å°±èƒ½æŠŠå°ˆæ¡ˆæ¨ä¸Šå»ä»¥å¤–ï¼Œä»–é‚„æ¨å‡ºäº†å°ˆæ¡ˆç®¡ç†çš„åœ–å½¢ä½¿ç”¨è€…ä»‹é¢&lt;/p&gt;
&lt;h1 id=&#34;GitHub-Desktop&#34;&gt;&lt;a href=&#34;#GitHub-Desktop&#34; class=&#34;headerlink&#34; title=&#34;GitHub Desktop&#34;&gt;&lt;/a&gt;GitHub Desktop&lt;/h1&gt;&lt;p&gt;&lt;a href=&#34;https://desktop.github.com/&#34;&gt;https://desktop.github.com/&lt;/a&gt;&lt;br&gt;è«‹é»æ“Šé€£çµä¸¦ä¸”ä¸‹è¼‰GitHub Desktop&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/rIGrdAg.png&#34; alt=&#34;21-2&#34;&gt;&lt;/p&gt;
&lt;p&gt;å®‰è£å®Œé–‹å•Ÿå¾Œæœƒè¦æ±‚ä½ ç™»å…¥ï¼Œè«‹ç›´æ¥ç™»å…¥&lt;br&gt;å¯ä»¥é¸æ“‡äº®æˆ–æš—ä¸»é¡Œ&lt;br&gt;ä¸€é–‹å§‹æœƒå•ä½ è¦ä¸è¦ç›´æ¥æ–°å¢å°ˆæ¡ˆï¼Œè«‹æ‹’çµ•ï¼Œæƒ³è¾¦æ³•é€²åˆ°é€™å€‹ç•«é¢ &lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/1YNrkrT.png&#34; alt=&#34;21-3&#34;&gt;&lt;/p&gt;
&lt;p&gt;é»æ“Šå·¦ä¸Šè§’ï¼Œæ‹‰å‡ºAddä¸‹æ‹‰æ¡†ï¼Œé»é–‹å¾Œæœ‰å€‹Create new repository&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/ZAwEqcQ.png&#34; alt=&#34;21-4&#34;&gt;&lt;/p&gt;
&lt;p&gt;é€™æ˜¯æ–°å¢ä¸€å€‹æ–°å°ˆæ¡ˆï¼Œé»ä¸‹å»å¾Œä»–æœƒå…ˆè¦ä½ é¸æ“‡æœ¬æ©Ÿä¸Šçš„è·¯å¾‘&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/bj3clLV.png&#34; alt=&#34;21-5&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€å€‹æ˜¯è³‡æ–™å¤¾åç¨±ï¼Œæˆ‘å€‘å–DiscordBot&lt;br&gt;ç¬¬äºŒå€‹æ˜¯å°ˆæ¡ˆç°¡ä»‹ï¼Œå¯ä»¥éš¨ä¾¿å¯«ã€ä½†æ³¨æ„ä¸è¦å¤ªå¤šï¼Œä¸€è¡Œå°±å¥½&lt;br&gt;ç¬¬ä¸‰å€‹æ˜¯è·¯å¾‘ï¼Œè«‹æ”¾åœ¨åŸå°ˆæ¡ˆå¤–é¢&lt;br&gt;Initialize this repository with a READMEè¨˜å¾—æ‰“å‹¾&lt;br&gt;ä¸‹é¢å…©å€‹æ˜¯ä½¿ç”¨èªè¨€ä¹‹é¡çš„ï¼Œé€™éƒ¨ä»½GitHubä¸Šå‚³å¾Œæœƒè‡ªå‹•åˆ¤æ–·ï¼Œå¯ä»¥ä¸ç®¡&lt;/p&gt;
&lt;p&gt;éƒ½å¥½äº†ä¹‹å¾Œæˆ‘å€‘æŒ‰â€¦..ä¸å°!é‚„ä¸èƒ½æŒ‰Create repository!&lt;br&gt;æˆ‘å€‘å…ˆé€²åˆ°å°ˆæ¡ˆè³‡æ–™å¤¾&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/G02dXTW.png&#34; alt=&#34;21-6&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘å€‘æŠŠ.gitè³‡æ–™å¤¾æ”¹åæˆHerokugit&lt;br&gt;å¦‚æœçœ‹ä¸åˆ°.gitè³‡æ–™å¤¾è«‹ä¸Šç¶²æŸ¥ä¸€ä¸‹æ€éº¼çœ‹åˆ°éš±è—è³‡æ–™å¤¾&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/g4EsJIR.png&#34; alt=&#34;21-7&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¥½äº†ä¹‹å¾Œæˆ‘å€‘å›å»æŒ‰Create repository&lt;br&gt;æŒ‰å®Œæœƒç™¼ç¾è³‡æ–™å¤¾å…§å¤šäº†&lt;/p&gt;
&lt;p&gt;README.md&lt;br&gt;.gitattributes&lt;br&gt;.git&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/r8bUU7S.png&#34; alt=&#34;21-8&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¨˜å¾—æˆ‘å€‘ä¸€é–‹å§‹å»ºHerokuæœ‰æåˆ°å—ï¼Œåªè¦æ˜¯Gitå°ˆæ¡ˆéƒ½æœƒæœ‰.gitæª”æ¡ˆ&lt;br&gt;å› ç‚ºä½¿ç”¨Herokuçš„åŒæ™‚ï¼Œä»–å°±æ˜¯å±¬æ–¼Herokuçš„å°ˆæ¡ˆäº†ï¼Œæˆ‘å€‘å¦‚æœä¹Ÿè¦æ¨ä¸ŠGitHubçš„è©±ï¼Œå°±è¦å…ˆè®“ä»–ä¸æ˜¯Herokuçš„å°ˆæ¡ˆï¼Œä¸ç„¶æœƒè¦†è“‹æ‰!&lt;/p&gt;
&lt;p&gt;ç„¶å¾Œæˆ‘å€‘æ–°å¢ä¸€å€‹.gitignoreï¼Œæ³¨æ„æ²’æœ‰å‰¯æª”åå–”&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/HWtBE6s.png&#34; alt=&#34;21-9&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/JbUJatt.png&#34; alt=&#34;21-10&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;auth.json
.gitignore
Herokugit
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é€™æ˜¯çµ¦GitHubçœ‹çš„æ–‡ä»¶ï¼Œå¯ä»¥è®“GitHubåœ¨å°‡å°ˆæ¡ˆcommitå‰ï¼Œé¸æ“‡è¦å¿½ç•¥å“ªäº›æª”æ¡ˆ&lt;br&gt;æˆ‘å€‘çš„ç§å¯†è³‡æ–™éƒ½åœ¨auth.jsonï¼Œæ‰€ä»¥auth.jsonè‡ªç„¶ä¸èƒ½æ¨åˆ°ä»»ä½•äººéƒ½èƒ½çœ‹å¾—GitHubä¸Š&lt;br&gt;Herokugitæ˜¯è®“GitHubä¸æœƒä¸Šå‚³åˆ°Herokuçš„.gitæª”æ¡ˆ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/CeXOZni.png&#34; alt=&#34;21-11&#34;&gt;&lt;/p&gt;
&lt;p&gt;é€™æ™‚æˆ‘å€‘å›åˆ°GitHubDesktopï¼Œå¯ä»¥çœ‹åˆ°å·¦ä¸‹è§’å‘Šè¨´ä½ ï¼Œå°ˆæ¡ˆcommitå¥½äº†ï¼Œä¸¦ä¸”ç‰ˆè™Ÿæ˜¯init(åˆå§‹åŒ–)&lt;/p&gt;
&lt;p&gt;åœ¨å®£å‘Šä¸€å€‹æ–°å°ˆæ¡ˆåº«æ™‚ï¼Œç›¸ç•¶æ–¼ä»–å¹«ä½ ä¸‹äº†&lt;/p&gt;
&lt;p&gt;git add .&lt;br&gt;git commit init&lt;/p&gt;
&lt;p&gt;é€™å…©å€‹æŒ‡ä»¤ï¼Œæˆ‘å€‘å¯ä»¥é»å·¦ä¸Šè§’çš„historyçœ‹åˆ°æˆ‘å€‘æœ‰å“ªäº›æª”æ¡ˆè¢«commitï¼Œåªè¦ç­‰ç­‰å†ä¸‹pushå°±æœƒè¢«æ¨ä¸Šç¶²éš›ç¶²è·¯&lt;/p&gt;
&lt;p&gt;é‚£æˆ‘å€‘é»ä¸€ä¸‹å³ä¸Šè§’çš„Publish repository&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/8oMDTIu.png&#34; alt=&#34;21-12&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ¬¡pushæ™‚æœƒæœ‰åƒé€™æ¨£çš„æç¤ºæ¡†ï¼Œä»–æœƒäºŒæ¬¡ç¢ºèªä½ åœ¨GitHubä¸Šçš„å°ˆæ¡ˆè¦å«ç”šéº¼åå­—&lt;/p&gt;
&lt;p&gt;Keep this code privateæ‰“å‹¾çš„è©±ï¼Œé€™å€‹å°ˆæ¡ˆå°±æœƒæ˜¯ç§äººçš„ï¼Œåªæœ‰ä½ ç™»éŒ„å¸³è™Ÿæ™‚çœ‹çš„è¦‹&lt;br&gt;æˆ‘å€‘å¸Œæœ›ç¨‹åºæ˜¯å¯ä»¥è¢«äººçœ‹è¦‹çš„ï¼Œæ‰€ä»¥æˆ‘å€‘è¦æŠŠæ‰“å‹¾å–æ¶ˆæ‰&lt;/p&gt;
&lt;p&gt;å¥½äº†ä¹‹å¾Œæˆ‘å€‘é»Publish repositoryï¼Œä»–å°±æœƒé–‹å§‹ä¸Šå‚³å°ˆæ¡ˆï¼Œç¬¬ä¸€æ¬¡æ¯”è¼ƒä¹…ï¼Œæˆ‘å€‘ç­‰ä¸€ä¸‹ï¼Œå¯ä»¥å»åˆ°æ¯æ°´å†å›ä¾†çœ‹çœ‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/2UQueAh.png&#34; alt=&#34;21-13&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç•«é¢é•·é€™æ¨£å°±æ˜¯æˆåŠŸäº†ï¼Œå·¦ä¸‹è§’çš„commitæ¶ˆå¤±(è¢«æ¨ä¸Šå»)&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/RZ42yiU.png&#34; alt=&#34;21-14&#34;&gt;&lt;/p&gt;
&lt;p&gt;Historyå¯ä»¥çœ‹åˆ°æˆ‘å€‘çš„æ­·å²ç‰ˆæœ¬ï¼Œä»¥åŠåšäº†é‚£äº›è®Šå‹•&lt;/p&gt;
</content>
        <category term="node.js" />
        <category term="bot" />
        <category term="discord" />
        <category term="discord.js" />
        <category term="æ•™å­¸" />
        <category term="12théµäººè³½" />
        <updated>2020-09-21T01:27:40.000Z</updated>
    </entry>
    <entry>
        <id>https://smilin.net/2020/09/20/12thDay20/</id>
        <title>Day20 - GASæŠ“è¡¨(4)</title>
        <link rel="alternate" href="https://smilin.net/2020/09/20/12thDay20/"/>
        <content type="html">&lt;p&gt;æ˜¨å¤©æˆ‘å€‘æˆåŠŸæŠŠAPIè·Ÿç¨‹å¼åšäº†é€£çµï¼Œä¸¦ä¸”å¯ä»¥åœ¨dcä½¿ç”¨&lt;/p&gt;
&lt;p&gt;ä½†å¾GASåˆ°ç¨‹åºå¯«æ³•éƒ½å­˜åœ¨å•é¡Œï¼Œä»Šå¤©ç­†è€…æœƒä¸€ä¸€ä¿®æ­£&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/fR5A15o.png&#34; alt=&#34;20-1&#34;&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆè«‹é–‹å•ŸGASï¼Œé€™æ˜¯æˆ‘å€‘ç›®å‰çš„æ¨£å­&lt;/p&gt;
&lt;p&gt;ç‚ºäº†è®“æœå°‹æ–¹å¼å¾JSONObjectè½‰æˆJSONArrayï¼Œç¬¬9~19è¡Œè«‹æ”¹å¯«å¦‚ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/T9RPJMS.png&#34; alt=&#34;20-2&#34;&gt;&lt;/p&gt;
&lt;p&gt;é‡é»åœ¨æ–¼å®£å‘ŠdataExportçš„æ™‚å€™ï¼Œå¾{}è®Šæˆäº†[]&lt;br&gt;é€™å°±æ˜¯JSONObjectè·ŸJSONArrayçš„å·®åˆ¥äº†&lt;br&gt;{}è¡¨ç¤ºJSONObjectï¼Œè€Œ[]è¡¨ç¤ºJSONArray&lt;/p&gt;
&lt;p&gt;åšå¥½å¾Œæˆ‘å€‘è·Ÿä¸Šæ¬¡ä¸€æ¨£ç™¼å¸ƒæˆç¶²é æ‡‰ç”¨ç¨‹å¼&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/ilA3YVL.png&#34; alt=&#34;20-3&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»¥å¾Œè¦è¨˜å¾—ï¼Œåªè¦æƒ³ä¿®æ”¹GASï¼Œä¿®æ”¹å®Œå°±ä¸€å®šè¦ç™¼å¸ƒï¼Œç„¶å¾Œç‰ˆæœ¬ä¸€å®šè¦+1&lt;br&gt;ç‰ˆæœ¬åªæœƒè¶Šä¾†è¶Šé«˜ï¼Œå¦‚æœé¸æ“‡èˆŠçš„ç‰ˆè™Ÿçš„è©±ï¼ŒAPIæ˜¯æŠ“ä¸åˆ°ä½ æœ€æ–°çš„ä¿®æ”¹çš„å–”!&lt;/p&gt;
&lt;p&gt;æˆåŠŸæ”¹æˆJSONArrayå¾Œï¼ŒåŸæœ¬çš„å¯«æ³•å°±ä¸é©ç”¨äº†ï¼Œä¸éæˆ‘å€‘ä¹Ÿä¸æ‰“ç®—ç¹¼çºŒä½¿ç”¨èˆŠçš„é‚è¼¯&lt;br&gt;å…ˆä¾†æ•´ç†ç›®å‰ç¨‹åºæ¥æ”¶åˆ°APIå¾Œçš„é‚è¼¯&lt;/p&gt;
&lt;p&gt;discordè¨Šæ¯äº‹ä»¶è§¸ç™¼ -&amp;gt; æ²’æœ‰å‰ç¶´å­—ï¼Œé€²å…¥APIå­—ä¸²æ¯”å° -&amp;gt; æ¯”å°å®Œæˆï¼Œåé¥‹çµæœ -&amp;gt; å°‡çµæœåé¥‹å›discord&lt;/p&gt;
&lt;p&gt;é€™æ¨£åšæœ€æ˜é¡¯çš„å•é¡Œå°±æ˜¯æ¯æœ‰ä¸€å€‹è¨Šæ¯äº‹ä»¶ï¼Œbotå°±è¦æ‰“ä¸€æ¬¡APIä¸Šå»&lt;br&gt;èŠ±è²»çš„æ™‚é–“éé•·ï¼Œå®¹æ˜“å¢åŠ botéŒ¯èª¤&lt;br&gt;ä¸”æ²’æœ‰è€ƒé‡éGASæ¯æ—¥å…è²»é¡åº¦å•é¡Œ&lt;/p&gt;
&lt;p&gt;é‚£éº¼è©²æ€éº¼è§£æ±ºé€™å•é¡Œå‘¢?å…¶å¯¦ä¹Ÿå¾ˆç°¡å–®ï¼Œåªè¦è®“æŠ“å–APIçš„è¡Œç‚ºåªè¦åŸ·è¡Œä¸€æ¬¡å°±å¥½&lt;/p&gt;
&lt;p&gt;æ•´å€‹DiscordBotï¼Œå”¯ä¸€åªæœƒåŸ·è¡Œä¸€æ¬¡çš„åœ°æ–¹å°±åœ¨readyäº‹ä»¶&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/XBnoUg1.png&#34; alt=&#34;20-4&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç•¶ç¨‹åºå•Ÿå‹•ï¼Œç¨‹åºè‡ªå‹•åŸ·è¡Œloginæ–¹æ³•ï¼ŒloginæˆåŠŸå°±æœƒæ”¶åˆ°å”¯ä¸€ä¸€æ¬¡çš„ready&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/xRZkc3k.png&#34; alt=&#34;20-5&#34;&gt;&lt;/p&gt;
&lt;p&gt;å°‡åŸæœ¬åœ¨ä¸‹é¢çš„APIäº‹ä»¶æ‹‰ä¸Šreadyï¼Œä¸¦ä¸”å°‡messageEDæ”¹æˆdataED&lt;br&gt;æˆ‘å€‘ä¹‹å¾Œå°±ä¸è®“GetGasåšå­—ä¸²æ¯”å°äº†ï¼Œåªè¦å¹«æˆ‘å€‘æ‰“APIä¸¦ä¸”æ•´ç†å¥½è³‡æ–™å¾Œåé¥‹å°±å¥½&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/Tcb5HJq.png&#34; alt=&#34;20-6&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/lif9ZJN.png&#34; alt=&#34;20-7&#34;&gt;&lt;/p&gt;
&lt;p&gt;è™•ç†å¥½ä¸Šé¢å¾Œï¼Œåšå­—ä¸²æ¯”å°&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/xSzaxE8.png&#34; alt=&#34;20-8&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//BaseExcelå­—ä¸²æ¯”å°
function GetBaseExcelData(msg) &amp;#123;
    try &amp;#123;
        if (BaseExcelData) &amp;#123;
            const userMessage = msg.content;

            e = BaseExcelData.filter(element =&amp;gt; &amp;#123;
                return element.NAME === userMessage;
            &amp;#125;)

            if (e) return e[0].VALUE;
            else return false;
        &amp;#125;
    &amp;#125; catch (err) &amp;#123;
        console.log(&amp;#39;GetBaseExcelDataError&amp;#39;, err);
    &amp;#125;
&amp;#125;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç„¶å¾Œå°‡å­—ä¸²æ¯”å°çš„functionæ‹‰åˆ°åŸæœ¬è«‹æ±‚APIçš„åœ°æ–¹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/jnV3w2k.png&#34; alt=&#34;20-9&#34;&gt;&lt;/p&gt;
&lt;p&gt;éƒ½å®Œæˆå¾Œï¼Œæˆ‘å€‘è©¦è‘—åŸ·è¡Œçœ‹çœ‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.imgur.com/Y4k84C8.png&#34; alt=&#34;20-10&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆäº†!&lt;br&gt;é€™æ¨£æˆ‘å€‘çš„botåªåœ¨åŸ·è¡Œæ™‚æœƒå»å–API&lt;br&gt;è§£æ±ºäº†GASé™åˆ¶çš„å•é¡Œï¼Œä¸¦ä¸”æ¯æ¬¡çš„è®€å¯«é€Ÿåº¦ä¹Ÿæå‡è¨±å¤š&lt;/p&gt;
&lt;p&gt;åˆ°æ­¤ï¼ŒDiscordBotå¾Œå°0è² æ“”é€™å€‹ä¸»é¡Œçš„åŸºæœ¬è¨­ç½®å¤§è‡´èªªå®Œäº†&lt;br&gt;é€™é‚Šé™„ä¸Šå®Œæ•´çš„æ•™å­¸å°ˆæ¡ˆ&lt;br&gt;&lt;a href=&#34;https://supr.link/MePIY&#34;&gt;https://supr.link/MePIY&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å‰©ä¸‹åå¤©æœƒæ•™ä¸€äº›é¡å¤–çš„å…§å®¹ï¼Œä¾‹å¦‚æ˜¨å¤©æåˆ°GASçš„è¨Šæ¯æ‡‰è©²æ˜¯åˆ†ç¾¤çµ„çš„ï¼ŒéŸ³æ¨‚ç³»çµ±å¦‚ä½•åˆ†ç¾¤ä½¿ç”¨ç­‰ï¼Œä»¥åŠGitHubä½¿ç”¨â€¦.å¦‚æœè®€è€…æœ‰æƒ³çœ‹çš„ä¹Ÿå¯ä»¥ç•™è¨€çµ¦ç­†è€…çŸ¥é“ï¼Œç­†è€…æœƒçš„è©±å†åšå®‰æ’&lt;/p&gt;
&lt;p&gt;æœ€å¾Œæˆ‘å€‘å°‡æª”æ¡ˆæ¨ä¸ŠHerokuï¼Œè¨˜å¾—æ€éº¼æ¨å—?&lt;/p&gt;
&lt;p&gt;git add .&lt;br&gt;git commit -m â€˜ç‰ˆæœ¬èªªæ˜â€™&lt;br&gt;git push heroku master&lt;/p&gt;
</content>
        <category term="node.js" />
        <category term="bot" />
        <category term="discord" />
        <category term="discord.js" />
        <category term="æ•™å­¸" />
        <category term="12théµäººè³½" />
        <updated>2020-09-20T02:26:24.000Z</updated>
    </entry>
</feed>