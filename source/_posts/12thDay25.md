---
title: Day25 - 權限系統規格
date: 2020-09-25 09:42:13
tags: [node.js,bot,discord,discord.js,教學,12th鐵人賽]
categories:
  - [鐵人賽, 用Node.js製作後台零負擔的DiscordBot]
---
最近在編寫群組權限相關的功能，就說說這個吧

<!-- more -->

先說明此功能需求情境:

群組人數過多，管理層不希望群組人員可以使用 every 或 身分組 或 頻道等會群體呼叫的tag

但又希望在必要的時候，其他人可以使用此功能

因此希望將此權限關閉，並且給予機器人此權限
透過機器人做二次權限管理，並且對使用人與時間等進行紀錄

---

為了完成需求，我們假設機器人權限是admin，我們需要…

三層身份組
群主->管理員->自定義身份
不是dc的身份組，是寫在機器人內的身份組
身分組內有此人id->可以行使此身份組下所開通的功能
例如管理員身份組下的人可以指派新的身份組，此身份組可以使用哪幾種tag
要把誰加入身份組等

指派管理員
可以將指定人員加入管理員身份組
此指令只有群主身份組可以行使

創建新身份組
創建自定義的身份組，會給予一組id，後續此id代表身份組

修改身份組名稱
修改身份組名稱，便於管理，參數需帶入身份組id

新增身份組可tag內容
新增身份組內可以tag的類型，參數需帶入身份組id與要tag內容的id

刪除身分組可tag內容
同上

新增身份組成員
將群組成員加入身份組，參數帶入身份組id與成員id

刪除身份組成員
同上

使用tag
透過bot tag指定id，參數需帶入tagID，可額外帶入要說的話
